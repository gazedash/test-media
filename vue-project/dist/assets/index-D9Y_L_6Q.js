(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))i(_);new MutationObserver(_=>{for(const c of _)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&i(m)}).observe(document,{childList:!0,subtree:!0});function r(_){const c={};return _.integrity&&(c.integrity=_.integrity),_.referrerPolicy&&(c.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?c.credentials="include":_.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(_){if(_.ep)return;_.ep=!0;const c=r(_);fetch(_.href,c)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Za(e,t){const r=new Set(e.split(","));return t?i=>r.has(i.toLowerCase()):i=>r.has(i)}const rt={},$0=[],Wt=()=>{},$s=()=>!1,$r=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qa=e=>e.startsWith("onUpdate:"),_t=Object.assign,Ja=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Ws=Object.prototype.hasOwnProperty,Ke=(e,t)=>Ws.call(e,t),Ge=Array.isArray,W0=e=>Wr(e)==="[object Map]",Ni=e=>Wr(e)==="[object Set]",Ye=e=>typeof e=="function",ft=e=>typeof e=="string",er=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",ki=e=>(it(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),gi=Object.prototype.toString,Wr=e=>gi.call(e),Ks=e=>Wr(e).slice(8,-1),Vi=e=>Wr(e)==="[object Object]",en=e=>ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ur=Za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kr=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},zs=/-(\w)/g,Z0=Kr(e=>e.replace(zs,(t,r)=>r?r.toUpperCase():"")),Zs=/\B([A-Z])/g,tr=Kr(e=>e.replace(Zs,"-$1").toLowerCase()),Hi=Kr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ma=Kr(e=>e?`on${Hi(e)}`:""),x0=(e,t)=>!Object.is(e,t),ba=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Ur=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Qs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let In;const Di=()=>In||(In=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tn(e){if(Ge(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],_=ft(i)?r1(i):tn(i);if(_)for(const c in _)t[c]=_[c]}return t}else if(ft(e)||it(e))return e}const Js=/;(?![^(]*\))/g,e1=/:([^]+)/,t1=/\/\*[^]*?\*\//g;function r1(e){const t={};return e.replace(t1,"").split(Js).forEach(r=>{if(r){const i=r.split(e1);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function rn(e){let t="";if(ft(e))t=e;else if(Ge(e))for(let r=0;r<e.length;r++){const i=rn(e[r]);i&&(t+=i+" ")}else if(it(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const a1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",n1=Za(a1);function Pi(e){return!!e||e===""}const xr=e=>ft(e)?e:e==null?"":Ge(e)||it(e)&&(e.toString===gi||!Ye(e.toString))?JSON.stringify(e,Ui,2):String(e),Ui=(e,t)=>t&&t.__v_isRef?Ui(e,t.value):W0(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,_],c)=>(r[pa(i,c)+" =>"]=_,r),{})}:Ni(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>pa(r))}:er(t)?pa(t):it(t)&&!Ge(t)&&!Vi(t)?String(t):t,pa=(e,t="")=>{var r;return er(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qt;class i1{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qt,!t&&Qt&&(this.index=(Qt.scopes||(Qt.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Qt;try{return Qt=this,t()}finally{Qt=r}}}on(){Qt=this}off(){Qt=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const _=this.parent.scopes.pop();_&&_!==this&&(this.parent.scopes[this.index]=_,_.index=this.index)}this.parent=void 0,this._active=!1}}}function s1(e,t=Qt){t&&t.active&&t.effects.push(e)}function o1(){return Qt}let N0;class an{constructor(t,r,i,_){this.fn=t,this.trigger=r,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,s1(this,_)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,V0();for(let t=0;t<this._depsLength;t++){const r=this.deps[t];if(r.computed&&(l1(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),H0()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=w0,r=N0;try{return w0=!0,N0=this,this._runnings++,Ln(this),this.fn()}finally{On(this),this._runnings--,N0=r,w0=t}}stop(){var t;this.active&&(Ln(this),On(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function l1(e){return e.value}function Ln(e){e._trackId++,e._depsLength=0}function On(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Xi(e.deps[t],e);e.deps.length=e._depsLength}}function Xi(e,t){const r=e.get(t);r!==void 0&&t._trackId!==r&&(e.delete(t),e.size===0&&e.cleanup())}let w0=!0,Da=0;const qi=[];function V0(){qi.push(w0),w0=!1}function H0(){const e=qi.pop();w0=e===void 0?!0:e}function nn(){Da++}function sn(){for(Da--;!Da&&Pa.length;)Pa.shift()()}function Gi(e,t,r){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const i=e.deps[e._depsLength];i!==t?(i&&Xi(i,e),e.deps[e._depsLength++]=t):e._depsLength++}}const Pa=[];function Yi(e,t,r){nn();for(const i of e.keys()){let _;i._dirtyLevel<t&&(_??(_=e.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=t),i._shouldSchedule&&(_??(_=e.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Pa.push(i.scheduler)))}sn()}const ji=(e,t)=>{const r=new Map;return r.cleanup=e,r.computed=t,r},Ua=new WeakMap,k0=Symbol(""),Xa=Symbol("");function Mt(e,t,r){if(w0&&N0){let i=Ua.get(e);i||Ua.set(e,i=new Map);let _=i.get(r);_||i.set(r,_=ji(()=>i.delete(r))),Gi(N0,_)}}function c0(e,t,r,i,_,c){const m=Ua.get(e);if(!m)return;let w=[];if(t==="clear")w=[...m.values()];else if(r==="length"&&Ge(e)){const E=Number(i);m.forEach((Q,b)=>{(b==="length"||!er(b)&&b>=E)&&w.push(Q)})}else switch(r!==void 0&&w.push(m.get(r)),t){case"add":Ge(e)?en(r)&&w.push(m.get("length")):(w.push(m.get(k0)),W0(e)&&w.push(m.get(Xa)));break;case"delete":Ge(e)||(w.push(m.get(k0)),W0(e)&&w.push(m.get(Xa)));break;case"set":W0(e)&&w.push(m.get(k0));break}nn();for(const E of w)E&&Yi(E,4);sn()}const u1=Za("__proto__,__v_isRef,__isVue"),$i=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(er)),Fn=f1();function f1(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=ze(this);for(let c=0,m=this.length;c<m;c++)Mt(i,"get",c+"");const _=i[t](...r);return _===-1||_===!1?i[t](...r.map(ze)):_}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){V0(),nn();const i=ze(this)[t].apply(this,r);return sn(),H0(),i}}),e}function _1(e){const t=ze(this);return Mt(t,"has",e),t.hasOwnProperty(e)}class Wi{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,i){const _=this._isReadonly,c=this._isShallow;if(r==="__v_isReactive")return!_;if(r==="__v_isReadonly")return _;if(r==="__v_isShallow")return c;if(r==="__v_raw")return i===(_?c?A1:Qi:c?Zi:zi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const m=Ge(t);if(!_){if(m&&Ke(Fn,r))return Reflect.get(Fn,r,i);if(r==="hasOwnProperty")return _1}const w=Reflect.get(t,r,i);return(er(r)?$i.has(r):u1(r))||(_||Mt(t,"get",r),c)?w:Tt(w)?m&&en(r)?w:w.value:it(w)?_?Ji(w):un(w):w}}class Ki extends Wi{constructor(t=!1){super(!1,t)}set(t,r,i,_){let c=t[r];if(!this._isShallow){const E=Q0(c);if(!Xr(i)&&!Q0(i)&&(c=ze(c),i=ze(i)),!Ge(t)&&Tt(c)&&!Tt(i))return E?!1:(c.value=i,!0)}const m=Ge(t)&&en(r)?Number(r)<t.length:Ke(t,r),w=Reflect.set(t,r,i,_);return t===ze(_)&&(m?x0(i,c)&&c0(t,"set",r,i):c0(t,"add",r,i)),w}deleteProperty(t,r){const i=Ke(t,r);t[r];const _=Reflect.deleteProperty(t,r);return _&&i&&c0(t,"delete",r,void 0),_}has(t,r){const i=Reflect.has(t,r);return(!er(r)||!$i.has(r))&&Mt(t,"has",r),i}ownKeys(t){return Mt(t,"iterate",Ge(t)?"length":k0),Reflect.ownKeys(t)}}class c1 extends Wi{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const d1=new Ki,h1=new c1,v1=new Ki(!0),on=e=>e,zr=e=>Reflect.getPrototypeOf(e);function Ar(e,t,r=!1,i=!1){e=e.__v_raw;const _=ze(e),c=ze(t);r||(x0(t,c)&&Mt(_,"get",t),Mt(_,"get",c));const{has:m}=zr(_),w=i?on:r?_n:dr;if(m.call(_,t))return w(e.get(t));if(m.call(_,c))return w(e.get(c));e!==_&&e.get(t)}function Mr(e,t=!1){const r=this.__v_raw,i=ze(r),_=ze(e);return t||(x0(e,_)&&Mt(i,"has",e),Mt(i,"has",_)),e===_?r.has(e):r.has(e)||r.has(_)}function Tr(e,t=!1){return e=e.__v_raw,!t&&Mt(ze(e),"iterate",k0),Reflect.get(e,"size",e)}function Nn(e){e=ze(e);const t=ze(this);return zr(t).has.call(t,e)||(t.add(e),c0(t,"add",e,e)),this}function kn(e,t){t=ze(t);const r=ze(this),{has:i,get:_}=zr(r);let c=i.call(r,e);c||(e=ze(e),c=i.call(r,e));const m=_.call(r,e);return r.set(e,t),c?x0(t,m)&&c0(r,"set",e,t):c0(r,"add",e,t),this}function gn(e){const t=ze(this),{has:r,get:i}=zr(t);let _=r.call(t,e);_||(e=ze(e),_=r.call(t,e)),i&&i.call(t,e);const c=t.delete(e);return _&&c0(t,"delete",e,void 0),c}function Vn(){const e=ze(this),t=e.size!==0,r=e.clear();return t&&c0(e,"clear",void 0,void 0),r}function Er(e,t){return function(i,_){const c=this,m=c.__v_raw,w=ze(m),E=t?on:e?_n:dr;return!e&&Mt(w,"iterate",k0),m.forEach((Q,b)=>i.call(_,E(Q),E(b),c))}}function Br(e,t,r){return function(...i){const _=this.__v_raw,c=ze(_),m=W0(c),w=e==="entries"||e===Symbol.iterator&&m,E=e==="keys"&&m,Q=_[e](...i),b=r?on:t?_n:dr;return!t&&Mt(c,"iterate",E?Xa:k0),{next(){const{value:R,done:U}=Q.next();return U?{value:R,done:U}:{value:w?[b(R[0]),b(R[1])]:b(R),done:U}},[Symbol.iterator](){return this}}}}function m0(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function m1(){const e={get(c){return Ar(this,c)},get size(){return Tr(this)},has:Mr,add:Nn,set:kn,delete:gn,clear:Vn,forEach:Er(!1,!1)},t={get(c){return Ar(this,c,!1,!0)},get size(){return Tr(this)},has:Mr,add:Nn,set:kn,delete:gn,clear:Vn,forEach:Er(!1,!0)},r={get(c){return Ar(this,c,!0)},get size(){return Tr(this,!0)},has(c){return Mr.call(this,c,!0)},add:m0("add"),set:m0("set"),delete:m0("delete"),clear:m0("clear"),forEach:Er(!0,!1)},i={get(c){return Ar(this,c,!0,!0)},get size(){return Tr(this,!0)},has(c){return Mr.call(this,c,!0)},add:m0("add"),set:m0("set"),delete:m0("delete"),clear:m0("clear"),forEach:Er(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(c=>{e[c]=Br(c,!1,!1),r[c]=Br(c,!0,!1),t[c]=Br(c,!1,!0),i[c]=Br(c,!0,!0)}),[e,r,t,i]}const[b1,p1,R1,y1]=m1();function ln(e,t){const r=t?e?y1:R1:e?p1:b1;return(i,_,c)=>_==="__v_isReactive"?!e:_==="__v_isReadonly"?e:_==="__v_raw"?i:Reflect.get(Ke(r,_)&&_ in i?r:i,_,c)}const w1={get:ln(!1,!1)},S1={get:ln(!1,!0)},x1={get:ln(!0,!1)},zi=new WeakMap,Zi=new WeakMap,Qi=new WeakMap,A1=new WeakMap;function M1(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function T1(e){return e.__v_skip||!Object.isExtensible(e)?0:M1(Ks(e))}function un(e){return Q0(e)?e:fn(e,!1,d1,w1,zi)}function E1(e){return fn(e,!1,v1,S1,Zi)}function Ji(e){return fn(e,!0,h1,x1,Qi)}function fn(e,t,r,i,_){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const c=_.get(e);if(c)return c;const m=T1(e);if(m===0)return e;const w=new Proxy(e,m===2?i:r);return _.set(e,w),w}function K0(e){return Q0(e)?K0(e.__v_raw):!!(e&&e.__v_isReactive)}function Q0(e){return!!(e&&e.__v_isReadonly)}function Xr(e){return!!(e&&e.__v_isShallow)}function es(e){return K0(e)||Q0(e)}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function ts(e){return Object.isExtensible(e)&&Ur(e,"__v_skip",!0),e}const dr=e=>it(e)?un(e):e,_n=e=>it(e)?Ji(e):e;class rs{constructor(t,r,i,_){this.getter=t,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new an(()=>t(this._value),()=>gr(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!_,this.__v_isReadonly=i}get value(){const t=ze(this);return(!t._cacheable||t.effect.dirty)&&x0(t._value,t._value=t.effect.run())&&gr(t,4),as(t),t.effect._dirtyLevel>=2&&gr(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function B1(e,t,r=!1){let i,_;const c=Ye(e);return c?(i=e,_=Wt):(i=e.get,_=e.set),new rs(i,_,c||!_,r)}function as(e){var t;w0&&N0&&(e=ze(e),Gi(N0,(t=e.dep)!=null?t:e.dep=ji(()=>e.dep=void 0,e instanceof rs?e:void 0)))}function gr(e,t=4,r){e=ze(e);const i=e.dep;i&&Yi(i,t)}function Tt(e){return!!(e&&e.__v_isRef===!0)}function P0(e){return C1(e,!1)}function C1(e,t){return Tt(e)?e:new I1(e,t)}class I1{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ze(t),this._value=r?t:dr(t)}get value(){return as(this),this._value}set value(t){const r=this.__v_isShallow||Xr(t)||Q0(t);t=r?t:ze(t),x0(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:dr(t),gr(this,4))}}function f0(e){return Tt(e)?e.value:e}const L1={get:(e,t,r)=>f0(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const _=e[t];return Tt(_)&&!Tt(r)?(_.value=r,!0):Reflect.set(e,t,r,i)}};function ns(e){return K0(e)?e:new Proxy(e,L1)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function S0(e,t,r,i){try{return i?e(...i):e()}catch(_){Zr(_,t,r)}}function t0(e,t,r,i){if(Ye(e)){const c=S0(e,t,r,i);return c&&ki(c)&&c.catch(m=>{Zr(m,t,r)}),c}const _=[];for(let c=0;c<e.length;c++)_.push(t0(e[c],t,r,i));return _}function Zr(e,t,r,i=!0){const _=t?t.vnode:null;if(t){let c=t.parent;const m=t.proxy,w=`https://vuejs.org/error-reference/#runtime-${r}`;for(;c;){const Q=c.ec;if(Q){for(let b=0;b<Q.length;b++)if(Q[b](e,m,w)===!1)return}c=c.parent}const E=t.appContext.config.errorHandler;if(E){S0(E,null,10,[e,m,w]);return}}O1(e,r,_,i)}function O1(e,t,r,i=!0){console.error(e)}let hr=!1,qa=!1;const dt=[];let o0=0;const z0=[];let p0=null,F0=0;const is=Promise.resolve();let cn=null;function F1(e){const t=cn||is;return e?t.then(this?e.bind(this):e):t}function N1(e){let t=o0+1,r=dt.length;for(;t<r;){const i=t+r>>>1,_=dt[i],c=vr(_);c<e||c===e&&_.pre?t=i+1:r=i}return t}function dn(e){(!dt.length||!dt.includes(e,hr&&e.allowRecurse?o0+1:o0))&&(e.id==null?dt.push(e):dt.splice(N1(e.id),0,e),ss())}function ss(){!hr&&!qa&&(qa=!0,cn=is.then(ls))}function k1(e){const t=dt.indexOf(e);t>o0&&dt.splice(t,1)}function g1(e){Ge(e)?z0.push(...e):(!p0||!p0.includes(e,e.allowRecurse?F0+1:F0))&&z0.push(e),ss()}function Hn(e,t,r=hr?o0+1:0){for(;r<dt.length;r++){const i=dt[r];if(i&&i.pre){if(e&&i.id!==e.uid)continue;dt.splice(r,1),r--,i()}}}function os(e){if(z0.length){const t=[...new Set(z0)].sort((r,i)=>vr(r)-vr(i));if(z0.length=0,p0){p0.push(...t);return}for(p0=t,F0=0;F0<p0.length;F0++)p0[F0]();p0=null,F0=0}}const vr=e=>e.id==null?1/0:e.id,V1=(e,t)=>{const r=vr(e)-vr(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function ls(e){qa=!1,hr=!0,dt.sort(V1);try{for(o0=0;o0<dt.length;o0++){const t=dt[o0];t&&t.active!==!1&&S0(t,null,14)}}finally{o0=0,dt.length=0,os(),hr=!1,cn=null,(dt.length||z0.length)&&ls()}}function H1(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||rt;let _=r;const c=t.startsWith("update:"),m=c&&t.slice(7);if(m&&m in i){const b=`${m==="modelValue"?"model":m}Modifiers`,{number:R,trim:U}=i[b]||rt;U&&(_=r.map(fe=>ft(fe)?fe.trim():fe)),R&&(_=r.map(Qs))}let w,E=i[w=ma(t)]||i[w=ma(Z0(t))];!E&&c&&(E=i[w=ma(tr(t))]),E&&t0(E,e,6,_);const Q=i[w+"Once"];if(Q){if(!e.emitted)e.emitted={};else if(e.emitted[w])return;e.emitted[w]=!0,t0(Q,e,6,_)}}function us(e,t,r=!1){const i=t.emitsCache,_=i.get(e);if(_!==void 0)return _;const c=e.emits;let m={},w=!1;if(!Ye(e)){const E=Q=>{const b=us(Q,t,!0);b&&(w=!0,_t(m,b))};!r&&t.mixins.length&&t.mixins.forEach(E),e.extends&&E(e.extends),e.mixins&&e.mixins.forEach(E)}return!c&&!w?(it(e)&&i.set(e,null),null):(Ge(c)?c.forEach(E=>m[E]=null):_t(m,c),it(e)&&i.set(e,m),m)}function Qr(e,t){return!e||!$r(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ke(e,t[0].toLowerCase()+t.slice(1))||Ke(e,tr(t))||Ke(e,t))}let l0=null,Jr=null;function qr(e){const t=l0;return l0=e,Jr=e&&e.type.__scopeId||null,t}function D1(e){Jr=e}function P1(){Jr=null}function U1(e,t=l0,r){if(!t||e._n)return e;const i=(..._)=>{i._d&&Wn(-1);const c=qr(t);let m;try{m=e(..._)}finally{qr(c),i._d&&Wn(1)}return m};return i._n=!0,i._c=!0,i._d=!0,i}function Ra(e){const{type:t,vnode:r,proxy:i,withProxy:_,props:c,propsOptions:[m],slots:w,attrs:E,emit:Q,render:b,renderCache:R,data:U,setupState:fe,ctx:re,inheritAttrs:oe}=e;let ne,k;const M=qr(e);try{if(r.shapeFlag&4){const B=_||i,s=B;ne=s0(b.call(s,B,R,c,fe,U,re)),k=E}else{const B=t;ne=s0(B.length>1?B(c,{attrs:E,slots:w,emit:Q}):B(c,null)),k=t.props?E:X1(E)}}catch(B){cr.length=0,Zr(B,e,1),ne=u0(g0)}let T=ne;if(k&&oe!==!1){const B=Object.keys(k),{shapeFlag:s}=T;B.length&&s&7&&(m&&B.some(Qa)&&(k=q1(k,m)),T=J0(T,k))}return r.dirs&&(T=J0(T),T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&(T.transition=r.transition),ne=T,qr(M),ne}const X1=e=>{let t;for(const r in e)(r==="class"||r==="style"||$r(r))&&((t||(t={}))[r]=e[r]);return t},q1=(e,t)=>{const r={};for(const i in e)(!Qa(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function G1(e,t,r){const{props:i,children:_,component:c}=e,{props:m,children:w,patchFlag:E}=t,Q=c.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&E>=0){if(E&1024)return!0;if(E&16)return i?Dn(i,m,Q):!!m;if(E&8){const b=t.dynamicProps;for(let R=0;R<b.length;R++){const U=b[R];if(m[U]!==i[U]&&!Qr(Q,U))return!0}}}else return(_||w)&&(!w||!w.$stable)?!0:i===m?!1:i?m?Dn(i,m,Q):!0:!!m;return!1}function Dn(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let _=0;_<i.length;_++){const c=i[_];if(t[c]!==e[c]&&!Qr(r,c))return!0}return!1}function Y1({vnode:e,parent:t},r){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=r,t=t.parent;else break}}const j1=Symbol.for("v-ndc"),$1=e=>e.__isSuspense;function W1(e,t){t&&t.pendingBranch?Ge(e)?t.effects.push(...e):t.effects.push(e):g1(e)}const K1=Symbol.for("v-scx"),z1=()=>Hr(K1),Cr={};function ya(e,t,r){return fs(e,t,r)}function fs(e,t,{immediate:r,deep:i,flush:_,once:c,onTrack:m,onTrigger:w}=rt){if(t&&c){const p=t;t=(...N)=>{p(...N),s()}}const E=pt,Q=p=>i===!0?p:j0(p,i===!1?1:void 0);let b,R=!1,U=!1;if(Tt(e)?(b=()=>e.value,R=Xr(e)):K0(e)?(b=()=>Q(e),R=!0):Ge(e)?(U=!0,R=e.some(p=>K0(p)||Xr(p)),b=()=>e.map(p=>{if(Tt(p))return p.value;if(K0(p))return Q(p);if(Ye(p))return S0(p,E,2)})):Ye(e)?t?b=()=>S0(e,E,2):b=()=>(fe&&fe(),t0(e,E,3,[re])):b=Wt,t&&i){const p=b;b=()=>j0(p())}let fe,re=p=>{fe=T.onStop=()=>{S0(p,E,4),fe=T.onStop=void 0}},oe;if(aa)if(re=Wt,t?r&&t0(t,E,3,[b(),U?[]:void 0,re]):b(),_==="sync"){const p=z1();oe=p.__watcherHandles||(p.__watcherHandles=[])}else return Wt;let ne=U?new Array(e.length).fill(Cr):Cr;const k=()=>{if(!(!T.active||!T.dirty))if(t){const p=T.run();(i||R||(U?p.some((N,K)=>x0(N,ne[K])):x0(p,ne)))&&(fe&&fe(),t0(t,E,3,[p,ne===Cr?void 0:U&&ne[0]===Cr?[]:ne,re]),ne=p)}else T.run()};k.allowRecurse=!!t;let M;_==="sync"?M=k:_==="post"?M=()=>At(k,E&&E.suspense):(k.pre=!0,E&&(k.id=E.uid),M=()=>dn(k));const T=new an(b,Wt,M),B=o1(),s=()=>{T.stop(),B&&Ja(B.effects,T)};return t?r?k():ne=T.run():_==="post"?At(T.run.bind(T),E&&E.suspense):T.run(),oe&&oe.push(s),s}function Z1(e,t,r){const i=this.proxy,_=ft(e)?e.includes(".")?_s(i,e):()=>i[e]:e.bind(i,i);let c;Ye(t)?c=t:(c=t.handler,r=t);const m=pr(this),w=fs(_,c.bind(i),r);return m(),w}function _s(e,t){const r=t.split(".");return()=>{let i=e;for(let _=0;_<r.length&&i;_++)i=i[r[_]];return i}}function j0(e,t,r=0,i){if(!it(e)||e.__v_skip)return e;if(t&&t>0){if(r>=t)return e;r++}if(i=i||new Set,i.has(e))return e;if(i.add(e),Tt(e))j0(e.value,t,r,i);else if(Ge(e))for(let _=0;_<e.length;_++)j0(e[_],t,r,i);else if(Ni(e)||W0(e))e.forEach(_=>{j0(_,t,r,i)});else if(Vi(e))for(const _ in e)j0(e[_],t,r,i);return e}function T0(e,t,r,i){const _=e.dirs,c=t&&t.dirs;for(let m=0;m<_.length;m++){const w=_[m];c&&(w.oldValue=c[m].value);let E=w.dir[i];E&&(V0(),t0(E,r,8,[e.el,w,e,t]),H0())}}/*! #__NO_SIDE_EFFECTS__ */function cs(e,t){return Ye(e)?_t({name:e.name},t,{setup:e}):e}const Vr=e=>!!e.type.__asyncLoader,ds=e=>e.type.__isKeepAlive;function Q1(e,t){hs(e,"a",t)}function J1(e,t){hs(e,"da",t)}function hs(e,t,r=pt){const i=e.__wdc||(e.__wdc=()=>{let _=r;for(;_;){if(_.isDeactivated)return;_=_.parent}return e()});if(ea(t,i,r),r){let _=r.parent;for(;_&&_.parent;)ds(_.parent.vnode)&&eo(i,t,r,_),_=_.parent}}function eo(e,t,r,i){const _=ea(t,e,i,!0);vs(()=>{Ja(i[t],_)},r)}function ea(e,t,r=pt,i=!1){if(r){const _=r[e]||(r[e]=[]),c=t.__weh||(t.__weh=(...m)=>{if(r.isUnmounted)return;V0();const w=pr(r),E=t0(t,r,e,m);return w(),H0(),E});return i?_.unshift(c):_.push(c),c}}const v0=e=>(t,r=pt)=>(!aa||e==="sp")&&ea(e,(...i)=>t(...i),r),to=v0("bm"),ro=v0("m"),ao=v0("bu"),no=v0("u"),io=v0("bum"),vs=v0("um"),so=v0("sp"),oo=v0("rtg"),lo=v0("rtc");function uo(e,t=pt){ea("ec",e,t)}const Ga=e=>e?Es(e)?bn(e)||e.proxy:Ga(e.parent):null,fr=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ga(e.parent),$root:e=>Ga(e.root),$emit:e=>e.emit,$options:e=>hn(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,dn(e.update)}),$nextTick:e=>e.n||(e.n=F1.bind(e.proxy)),$watch:e=>Z1.bind(e)}),wa=(e,t)=>e!==rt&&!e.__isScriptSetup&&Ke(e,t),fo={get({_:e},t){const{ctx:r,setupState:i,data:_,props:c,accessCache:m,type:w,appContext:E}=e;let Q;if(t[0]!=="$"){const fe=m[t];if(fe!==void 0)switch(fe){case 1:return i[t];case 2:return _[t];case 4:return r[t];case 3:return c[t]}else{if(wa(i,t))return m[t]=1,i[t];if(_!==rt&&Ke(_,t))return m[t]=2,_[t];if((Q=e.propsOptions[0])&&Ke(Q,t))return m[t]=3,c[t];if(r!==rt&&Ke(r,t))return m[t]=4,r[t];Ya&&(m[t]=0)}}const b=fr[t];let R,U;if(b)return t==="$attrs"&&Mt(e,"get",t),b(e);if((R=w.__cssModules)&&(R=R[t]))return R;if(r!==rt&&Ke(r,t))return m[t]=4,r[t];if(U=E.config.globalProperties,Ke(U,t))return U[t]},set({_:e},t,r){const{data:i,setupState:_,ctx:c}=e;return wa(_,t)?(_[t]=r,!0):i!==rt&&Ke(i,t)?(i[t]=r,!0):Ke(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(c[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:_,propsOptions:c}},m){let w;return!!r[m]||e!==rt&&Ke(e,m)||wa(t,m)||(w=c[0])&&Ke(w,m)||Ke(i,m)||Ke(fr,m)||Ke(_.config.globalProperties,m)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Ke(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Pn(e){return Ge(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let Ya=!0;function _o(e){const t=hn(e),r=e.proxy,i=e.ctx;Ya=!1,t.beforeCreate&&Un(t.beforeCreate,e,"bc");const{data:_,computed:c,methods:m,watch:w,provide:E,inject:Q,created:b,beforeMount:R,mounted:U,beforeUpdate:fe,updated:re,activated:oe,deactivated:ne,beforeDestroy:k,beforeUnmount:M,destroyed:T,unmounted:B,render:s,renderTracked:p,renderTriggered:N,errorCaptured:K,serverPrefetch:W,expose:Y,inheritAttrs:ie,components:_e,directives:L,filters:d}=t;if(Q&&co(Q,i,null),m)for(const Z in m){const q=m[Z];Ye(q)&&(i[Z]=q.bind(r))}if(_){const Z=_.call(r,r);it(Z)&&(e.data=un(Z))}if(Ya=!0,c)for(const Z in c){const q=c[Z],le=Ye(q)?q.bind(r,r):Ye(q.get)?q.get.bind(r,r):Wt,v=!Ye(q)&&Ye(q.set)?q.set.bind(r):Wt,a=Yo({get:le,set:v});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>a.value,set:n=>a.value=n})}if(w)for(const Z in w)ms(w[Z],i,r,Z);if(E){const Z=Ye(E)?E.call(r):E;Reflect.ownKeys(Z).forEach(q=>{Ro(q,Z[q])})}b&&Un(b,e,"c");function j(Z,q){Ge(q)?q.forEach(le=>Z(le.bind(r))):q&&Z(q.bind(r))}if(j(to,R),j(ro,U),j(ao,fe),j(no,re),j(Q1,oe),j(J1,ne),j(uo,K),j(lo,p),j(oo,N),j(io,M),j(vs,B),j(so,W),Ge(Y))if(Y.length){const Z=e.exposed||(e.exposed={});Y.forEach(q=>{Object.defineProperty(Z,q,{get:()=>r[q],set:le=>r[q]=le})})}else e.exposed||(e.exposed={});s&&e.render===Wt&&(e.render=s),ie!=null&&(e.inheritAttrs=ie),_e&&(e.components=_e),L&&(e.directives=L)}function co(e,t,r=Wt){Ge(e)&&(e=ja(e));for(const i in e){const _=e[i];let c;it(_)?"default"in _?c=Hr(_.from||i,_.default,!0):c=Hr(_.from||i):c=Hr(_),Tt(c)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>c.value,set:m=>c.value=m}):t[i]=c}}function Un(e,t,r){t0(Ge(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function ms(e,t,r,i){const _=i.includes(".")?_s(r,i):()=>r[i];if(ft(e)){const c=t[e];Ye(c)&&ya(_,c)}else if(Ye(e))ya(_,e.bind(r));else if(it(e))if(Ge(e))e.forEach(c=>ms(c,t,r,i));else{const c=Ye(e.handler)?e.handler.bind(r):t[e.handler];Ye(c)&&ya(_,c,e)}}function hn(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:_,optionsCache:c,config:{optionMergeStrategies:m}}=e.appContext,w=c.get(t);let E;return w?E=w:!_.length&&!r&&!i?E=t:(E={},_.length&&_.forEach(Q=>Gr(E,Q,m,!0)),Gr(E,t,m)),it(t)&&c.set(t,E),E}function Gr(e,t,r,i=!1){const{mixins:_,extends:c}=t;c&&Gr(e,c,r,!0),_&&_.forEach(m=>Gr(e,m,r,!0));for(const m in t)if(!(i&&m==="expose")){const w=ho[m]||r&&r[m];e[m]=w?w(e[m],t[m]):t[m]}return e}const ho={data:Xn,props:qn,emits:qn,methods:lr,computed:lr,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:lr,directives:lr,watch:mo,provide:Xn,inject:vo};function Xn(e,t){return t?e?function(){return _t(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function vo(e,t){return lr(ja(e),ja(t))}function ja(e){if(Ge(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function lr(e,t){return e?_t(Object.create(null),e,t):t}function qn(e,t){return e?Ge(e)&&Ge(t)?[...new Set([...e,...t])]:_t(Object.create(null),Pn(e),Pn(t??{})):t}function mo(e,t){if(!e)return t;if(!t)return e;const r=_t(Object.create(null),e);for(const i in t)r[i]=mt(e[i],t[i]);return r}function bs(){return{app:null,config:{isNativeTag:$s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bo=0;function po(e,t){return function(i,_=null){Ye(i)||(i=_t({},i)),_!=null&&!it(_)&&(_=null);const c=bs(),m=new WeakSet;let w=!1;const E=c.app={_uid:bo++,_component:i,_props:_,_container:null,_context:c,_instance:null,version:jo,get config(){return c.config},set config(Q){},use(Q,...b){return m.has(Q)||(Q&&Ye(Q.install)?(m.add(Q),Q.install(E,...b)):Ye(Q)&&(m.add(Q),Q(E,...b))),E},mixin(Q){return c.mixins.includes(Q)||c.mixins.push(Q),E},component(Q,b){return b?(c.components[Q]=b,E):c.components[Q]},directive(Q,b){return b?(c.directives[Q]=b,E):c.directives[Q]},mount(Q,b,R){if(!w){const U=u0(i,_);return U.appContext=c,R===!0?R="svg":R===!1&&(R=void 0),b&&t?t(U,Q):e(U,Q,R),w=!0,E._container=Q,Q.__vue_app__=E,bn(U.component)||U.component.proxy}},unmount(){w&&(e(null,E._container),delete E._container.__vue_app__)},provide(Q,b){return c.provides[Q]=b,E},runWithContext(Q){const b=_r;_r=E;try{return Q()}finally{_r=b}}};return E}}let _r=null;function Ro(e,t){if(pt){let r=pt.provides;const i=pt.parent&&pt.parent.provides;i===r&&(r=pt.provides=Object.create(i)),r[e]=t}}function Hr(e,t,r=!1){const i=pt||l0;if(i||_r){const _=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:_r._context.provides;if(_&&e in _)return _[e];if(arguments.length>1)return r&&Ye(t)?t.call(i&&i.proxy):t}}function yo(e,t,r,i=!1){const _={},c={};Ur(c,ra,1),e.propsDefaults=Object.create(null),ps(e,t,_,c);for(const m in e.propsOptions[0])m in _||(_[m]=void 0);r?e.props=i?_:E1(_):e.type.props?e.props=_:e.props=c,e.attrs=c}function wo(e,t,r,i){const{props:_,attrs:c,vnode:{patchFlag:m}}=e,w=ze(_),[E]=e.propsOptions;let Q=!1;if((i||m>0)&&!(m&16)){if(m&8){const b=e.vnode.dynamicProps;for(let R=0;R<b.length;R++){let U=b[R];if(Qr(e.emitsOptions,U))continue;const fe=t[U];if(E)if(Ke(c,U))fe!==c[U]&&(c[U]=fe,Q=!0);else{const re=Z0(U);_[re]=$a(E,w,re,fe,e,!1)}else fe!==c[U]&&(c[U]=fe,Q=!0)}}}else{ps(e,t,_,c)&&(Q=!0);let b;for(const R in w)(!t||!Ke(t,R)&&((b=tr(R))===R||!Ke(t,b)))&&(E?r&&(r[R]!==void 0||r[b]!==void 0)&&(_[R]=$a(E,w,R,void 0,e,!0)):delete _[R]);if(c!==w)for(const R in c)(!t||!Ke(t,R))&&(delete c[R],Q=!0)}Q&&c0(e,"set","$attrs")}function ps(e,t,r,i){const[_,c]=e.propsOptions;let m=!1,w;if(t)for(let E in t){if(ur(E))continue;const Q=t[E];let b;_&&Ke(_,b=Z0(E))?!c||!c.includes(b)?r[b]=Q:(w||(w={}))[b]=Q:Qr(e.emitsOptions,E)||(!(E in i)||Q!==i[E])&&(i[E]=Q,m=!0)}if(c){const E=ze(r),Q=w||rt;for(let b=0;b<c.length;b++){const R=c[b];r[R]=$a(_,E,R,Q[R],e,!Ke(Q,R))}}return m}function $a(e,t,r,i,_,c){const m=e[r];if(m!=null){const w=Ke(m,"default");if(w&&i===void 0){const E=m.default;if(m.type!==Function&&!m.skipFactory&&Ye(E)){const{propsDefaults:Q}=_;if(r in Q)i=Q[r];else{const b=pr(_);i=Q[r]=E.call(null,t),b()}}else i=E}m[0]&&(c&&!w?i=!1:m[1]&&(i===""||i===tr(r))&&(i=!0))}return i}function Rs(e,t,r=!1){const i=t.propsCache,_=i.get(e);if(_)return _;const c=e.props,m={},w=[];let E=!1;if(!Ye(e)){const b=R=>{E=!0;const[U,fe]=Rs(R,t,!0);_t(m,U),fe&&w.push(...fe)};!r&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!c&&!E)return it(e)&&i.set(e,$0),$0;if(Ge(c))for(let b=0;b<c.length;b++){const R=Z0(c[b]);Gn(R)&&(m[R]=rt)}else if(c)for(const b in c){const R=Z0(b);if(Gn(R)){const U=c[b],fe=m[R]=Ge(U)||Ye(U)?{type:U}:_t({},U);if(fe){const re=$n(Boolean,fe.type),oe=$n(String,fe.type);fe[0]=re>-1,fe[1]=oe<0||re<oe,(re>-1||Ke(fe,"default"))&&w.push(R)}}}const Q=[m,w];return it(e)&&i.set(e,Q),Q}function Gn(e){return e[0]!=="$"&&!ur(e)}function Yn(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function jn(e,t){return Yn(e)===Yn(t)}function $n(e,t){return Ge(t)?t.findIndex(r=>jn(r,e)):Ye(t)&&jn(t,e)?0:-1}const ys=e=>e[0]==="_"||e==="$stable",vn=e=>Ge(e)?e.map(s0):[s0(e)],So=(e,t,r)=>{if(t._n)return t;const i=U1((..._)=>vn(t(..._)),r);return i._c=!1,i},ws=(e,t,r)=>{const i=e._ctx;for(const _ in e){if(ys(_))continue;const c=e[_];if(Ye(c))t[_]=So(_,c,i);else if(c!=null){const m=vn(c);t[_]=()=>m}}},Ss=(e,t)=>{const r=vn(t);e.slots.default=()=>r},xo=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ze(t),Ur(t,"_",r)):ws(t,e.slots={})}else e.slots={},t&&Ss(e,t);Ur(e.slots,ra,1)},Ao=(e,t,r)=>{const{vnode:i,slots:_}=e;let c=!0,m=rt;if(i.shapeFlag&32){const w=t._;w?r&&w===1?c=!1:(_t(_,t),!r&&w===1&&delete _._):(c=!t.$stable,ws(t,_)),m=t}else t&&(Ss(e,t),m={default:1});if(c)for(const w in _)!ys(w)&&m[w]==null&&delete _[w]};function Wa(e,t,r,i,_=!1){if(Ge(e)){e.forEach((U,fe)=>Wa(U,t&&(Ge(t)?t[fe]:t),r,i,_));return}if(Vr(i)&&!_)return;const c=i.shapeFlag&4?bn(i.component)||i.component.proxy:i.el,m=_?null:c,{i:w,r:E}=e,Q=t&&t.r,b=w.refs===rt?w.refs={}:w.refs,R=w.setupState;if(Q!=null&&Q!==E&&(ft(Q)?(b[Q]=null,Ke(R,Q)&&(R[Q]=null)):Tt(Q)&&(Q.value=null)),Ye(E))S0(E,w,12,[m,b]);else{const U=ft(E),fe=Tt(E);if(U||fe){const re=()=>{if(e.f){const oe=U?Ke(R,E)?R[E]:b[E]:E.value;_?Ge(oe)&&Ja(oe,c):Ge(oe)?oe.includes(c)||oe.push(c):U?(b[E]=[c],Ke(R,E)&&(R[E]=b[E])):(E.value=[c],e.k&&(b[e.k]=E.value))}else U?(b[E]=m,Ke(R,E)&&(R[E]=m)):fe&&(E.value=m,e.k&&(b[e.k]=m))};m?(re.id=-1,At(re,r)):re()}}}const At=W1;function Mo(e){return To(e)}function To(e,t){const r=Di();r.__VUE__=!0;const{insert:i,remove:_,patchProp:c,createElement:m,createText:w,createComment:E,setText:Q,setElementText:b,parentNode:R,nextSibling:U,setScopeId:fe=Wt,insertStaticContent:re}=e,oe=(y,A,X,J=null,D=null,he=null,u=void 0,l=null,G=!!A.dynamicChildren)=>{if(y===A)return;y&&!sr(y,A)&&(J=I(y),n(y,D,he,!0),y=null),A.patchFlag===-2&&(G=!1,A.dynamicChildren=null);const{type:z,ref:ce,shapeFlag:Re}=A;switch(z){case ta:ne(y,A,X,J);break;case g0:k(y,A,X,J);break;case xa:y==null&&M(A,X,J,u);break;case _0:_e(y,A,X,J,D,he,u,l,G);break;default:Re&1?s(y,A,X,J,D,he,u,l,G):Re&6?L(y,A,X,J,D,he,u,l,G):(Re&64||Re&128)&&z.process(y,A,X,J,D,he,u,l,G,$)}ce!=null&&D&&Wa(ce,y&&y.ref,he,A||y,!A)},ne=(y,A,X,J)=>{if(y==null)i(A.el=w(A.children),X,J);else{const D=A.el=y.el;A.children!==y.children&&Q(D,A.children)}},k=(y,A,X,J)=>{y==null?i(A.el=E(A.children||""),X,J):A.el=y.el},M=(y,A,X,J)=>{[y.el,y.anchor]=re(y.children,A,X,J,y.el,y.anchor)},T=({el:y,anchor:A},X,J)=>{let D;for(;y&&y!==A;)D=U(y),i(y,X,J),y=D;i(A,X,J)},B=({el:y,anchor:A})=>{let X;for(;y&&y!==A;)X=U(y),_(y),y=X;_(A)},s=(y,A,X,J,D,he,u,l,G)=>{A.type==="svg"?u="svg":A.type==="math"&&(u="mathml"),y==null?p(A,X,J,D,he,u,l,G):W(y,A,D,he,u,l,G)},p=(y,A,X,J,D,he,u,l)=>{let G,z;const{props:ce,shapeFlag:Re,transition:me,dirs:Se}=y;if(G=y.el=m(y.type,he,ce&&ce.is,ce),Re&8?b(G,y.children):Re&16&&K(y.children,G,null,J,D,Sa(y,he),u,l),Se&&T0(y,null,J,"created"),N(G,y,y.scopeId,u,J),ce){for(const Be in ce)Be!=="value"&&!ur(Be)&&c(G,Be,null,ce[Be],he,y.children,J,D,O);"value"in ce&&c(G,"value",null,ce.value,he),(z=ce.onVnodeBeforeMount)&&n0(z,J,y)}Se&&T0(y,null,J,"beforeMount");const Ce=Eo(D,me);Ce&&me.beforeEnter(G),i(G,A,X),((z=ce&&ce.onVnodeMounted)||Ce||Se)&&At(()=>{z&&n0(z,J,y),Ce&&me.enter(G),Se&&T0(y,null,J,"mounted")},D)},N=(y,A,X,J,D)=>{if(X&&fe(y,X),J)for(let he=0;he<J.length;he++)fe(y,J[he]);if(D){let he=D.subTree;if(A===he){const u=D.vnode;N(y,u,u.scopeId,u.slotScopeIds,D.parent)}}},K=(y,A,X,J,D,he,u,l,G=0)=>{for(let z=G;z<y.length;z++){const ce=y[z]=l?R0(y[z]):s0(y[z]);oe(null,ce,A,X,J,D,he,u,l)}},W=(y,A,X,J,D,he,u)=>{const l=A.el=y.el;let{patchFlag:G,dynamicChildren:z,dirs:ce}=A;G|=y.patchFlag&16;const Re=y.props||rt,me=A.props||rt;let Se;if(X&&E0(X,!1),(Se=me.onVnodeBeforeUpdate)&&n0(Se,X,A,y),ce&&T0(A,y,X,"beforeUpdate"),X&&E0(X,!0),z?Y(y.dynamicChildren,z,l,X,J,Sa(A,D),he):u||q(y,A,l,null,X,J,Sa(A,D),he,!1),G>0){if(G&16)ie(l,A,Re,me,X,J,D);else if(G&2&&Re.class!==me.class&&c(l,"class",null,me.class,D),G&4&&c(l,"style",Re.style,me.style,D),G&8){const Ce=A.dynamicProps;for(let Be=0;Be<Ce.length;Be++){const xe=Ce[Be],De=Re[xe],qe=me[xe];(qe!==De||xe==="value")&&c(l,xe,De,qe,D,y.children,X,J,O)}}G&1&&y.children!==A.children&&b(l,A.children)}else!u&&z==null&&ie(l,A,Re,me,X,J,D);((Se=me.onVnodeUpdated)||ce)&&At(()=>{Se&&n0(Se,X,A,y),ce&&T0(A,y,X,"updated")},J)},Y=(y,A,X,J,D,he,u)=>{for(let l=0;l<A.length;l++){const G=y[l],z=A[l],ce=G.el&&(G.type===_0||!sr(G,z)||G.shapeFlag&70)?R(G.el):X;oe(G,z,ce,null,J,D,he,u,!0)}},ie=(y,A,X,J,D,he,u)=>{if(X!==J){if(X!==rt)for(const l in X)!ur(l)&&!(l in J)&&c(y,l,X[l],null,u,A.children,D,he,O);for(const l in J){if(ur(l))continue;const G=J[l],z=X[l];G!==z&&l!=="value"&&c(y,l,z,G,u,A.children,D,he,O)}"value"in J&&c(y,"value",X.value,J.value,u)}},_e=(y,A,X,J,D,he,u,l,G)=>{const z=A.el=y?y.el:w(""),ce=A.anchor=y?y.anchor:w("");let{patchFlag:Re,dynamicChildren:me,slotScopeIds:Se}=A;Se&&(l=l?l.concat(Se):Se),y==null?(i(z,X,J),i(ce,X,J),K(A.children||[],X,ce,D,he,u,l,G)):Re>0&&Re&64&&me&&y.dynamicChildren?(Y(y.dynamicChildren,me,X,D,he,u,l),(A.key!=null||D&&A===D.subTree)&&xs(y,A,!0)):q(y,A,X,ce,D,he,u,l,G)},L=(y,A,X,J,D,he,u,l,G)=>{A.slotScopeIds=l,y==null?A.shapeFlag&512?D.ctx.activate(A,X,J,u,G):d(A,X,J,D,he,u,G):g(y,A,G)},d=(y,A,X,J,D,he,u)=>{const l=y.component=Do(y,J,D);if(ds(y)&&(l.ctx.renderer=$),Po(l),l.asyncDep){if(D&&D.registerDep(l,j),!y.el){const G=l.subTree=u0(g0);k(null,G,A,X)}}else j(l,y,A,X,D,he,u)},g=(y,A,X)=>{const J=A.component=y.component;if(G1(y,A,X))if(J.asyncDep&&!J.asyncResolved){Z(J,A,X);return}else J.next=A,k1(J.update),J.effect.dirty=!0,J.update();else A.el=y.el,J.vnode=A},j=(y,A,X,J,D,he,u)=>{const l=()=>{if(y.isMounted){let{next:ce,bu:Re,u:me,parent:Se,vnode:Ce}=y;{const Pe=As(y);if(Pe){ce&&(ce.el=Ce.el,Z(y,ce,u)),Pe.asyncDep.then(()=>{y.isUnmounted||l()});return}}let Be=ce,xe;E0(y,!1),ce?(ce.el=Ce.el,Z(y,ce,u)):ce=Ce,Re&&ba(Re),(xe=ce.props&&ce.props.onVnodeBeforeUpdate)&&n0(xe,Se,ce,Ce),E0(y,!0);const De=Ra(y),qe=y.subTree;y.subTree=De,oe(qe,De,R(qe.el),I(qe),y,D,he),ce.el=De.el,Be===null&&Y1(y,De.el),me&&At(me,D),(xe=ce.props&&ce.props.onVnodeUpdated)&&At(()=>n0(xe,Se,ce,Ce),D)}else{let ce;const{el:Re,props:me}=A,{bm:Se,m:Ce,parent:Be}=y,xe=Vr(A);if(E0(y,!1),Se&&ba(Se),!xe&&(ce=me&&me.onVnodeBeforeMount)&&n0(ce,Be,A),E0(y,!0),Re&&ve){const De=()=>{y.subTree=Ra(y),ve(Re,y.subTree,y,D,null)};xe?A.type.__asyncLoader().then(()=>!y.isUnmounted&&De()):De()}else{const De=y.subTree=Ra(y);oe(null,De,X,J,y,D,he),A.el=De.el}if(Ce&&At(Ce,D),!xe&&(ce=me&&me.onVnodeMounted)){const De=A;At(()=>n0(ce,Be,De),D)}(A.shapeFlag&256||Be&&Vr(Be.vnode)&&Be.vnode.shapeFlag&256)&&y.a&&At(y.a,D),y.isMounted=!0,A=X=J=null}},G=y.effect=new an(l,Wt,()=>dn(z),y.scope),z=y.update=()=>{G.dirty&&G.run()};z.id=y.uid,E0(y,!0),z()},Z=(y,A,X)=>{A.component=y;const J=y.vnode.props;y.vnode=A,y.next=null,wo(y,A.props,J,X),Ao(y,A.children,X),V0(),Hn(y),H0()},q=(y,A,X,J,D,he,u,l,G=!1)=>{const z=y&&y.children,ce=y?y.shapeFlag:0,Re=A.children,{patchFlag:me,shapeFlag:Se}=A;if(me>0){if(me&128){v(z,Re,X,J,D,he,u,l,G);return}else if(me&256){le(z,Re,X,J,D,he,u,l,G);return}}Se&8?(ce&16&&O(z,D,he),Re!==z&&b(X,Re)):ce&16?Se&16?v(z,Re,X,J,D,he,u,l,G):O(z,D,he,!0):(ce&8&&b(X,""),Se&16&&K(Re,X,J,D,he,u,l,G))},le=(y,A,X,J,D,he,u,l,G)=>{y=y||$0,A=A||$0;const z=y.length,ce=A.length,Re=Math.min(z,ce);let me;for(me=0;me<Re;me++){const Se=A[me]=G?R0(A[me]):s0(A[me]);oe(y[me],Se,X,null,D,he,u,l,G)}z>ce?O(y,D,he,!0,!1,Re):K(A,X,J,D,he,u,l,G,Re)},v=(y,A,X,J,D,he,u,l,G)=>{let z=0;const ce=A.length;let Re=y.length-1,me=ce-1;for(;z<=Re&&z<=me;){const Se=y[z],Ce=A[z]=G?R0(A[z]):s0(A[z]);if(sr(Se,Ce))oe(Se,Ce,X,null,D,he,u,l,G);else break;z++}for(;z<=Re&&z<=me;){const Se=y[Re],Ce=A[me]=G?R0(A[me]):s0(A[me]);if(sr(Se,Ce))oe(Se,Ce,X,null,D,he,u,l,G);else break;Re--,me--}if(z>Re){if(z<=me){const Se=me+1,Ce=Se<ce?A[Se].el:J;for(;z<=me;)oe(null,A[z]=G?R0(A[z]):s0(A[z]),X,Ce,D,he,u,l,G),z++}}else if(z>me)for(;z<=Re;)n(y[z],D,he,!0),z++;else{const Se=z,Ce=z,Be=new Map;for(z=Ce;z<=me;z++){const P=A[z]=G?R0(A[z]):s0(A[z]);P.key!=null&&Be.set(P.key,z)}let xe,De=0;const qe=me-Ce+1;let Pe=!1,S=0;const x=new Array(qe);for(z=0;z<qe;z++)x[z]=0;for(z=Se;z<=Re;z++){const P=y[z];if(De>=qe){n(P,D,he,!0);continue}let ee;if(P.key!=null)ee=Be.get(P.key);else for(xe=Ce;xe<=me;xe++)if(x[xe-Ce]===0&&sr(P,A[xe])){ee=xe;break}ee===void 0?n(P,D,he,!0):(x[ee-Ce]=z+1,ee>=S?S=ee:Pe=!0,oe(P,A[ee],X,null,D,he,u,l,G),De++)}const V=Pe?Bo(x):$0;for(xe=V.length-1,z=qe-1;z>=0;z--){const P=Ce+z,ee=A[P],F=P+1<ce?A[P+1].el:J;x[z]===0?oe(null,ee,X,F,D,he,u,l,G):Pe&&(xe<0||z!==V[xe]?a(ee,X,F,2):xe--)}}},a=(y,A,X,J,D=null)=>{const{el:he,type:u,transition:l,children:G,shapeFlag:z}=y;if(z&6){a(y.component.subTree,A,X,J);return}if(z&128){y.suspense.move(A,X,J);return}if(z&64){u.move(y,A,X,$);return}if(u===_0){i(he,A,X);for(let Re=0;Re<G.length;Re++)a(G[Re],A,X,J);i(y.anchor,A,X);return}if(u===xa){T(y,A,X);return}if(J!==2&&z&1&&l)if(J===0)l.beforeEnter(he),i(he,A,X),At(()=>l.enter(he),D);else{const{leave:Re,delayLeave:me,afterLeave:Se}=l,Ce=()=>i(he,A,X),Be=()=>{Re(he,()=>{Ce(),Se&&Se()})};me?me(he,Ce,Be):Be()}else i(he,A,X)},n=(y,A,X,J=!1,D=!1)=>{const{type:he,props:u,ref:l,children:G,dynamicChildren:z,shapeFlag:ce,patchFlag:Re,dirs:me}=y;if(l!=null&&Wa(l,null,X,y,!0),ce&256){A.ctx.deactivate(y);return}const Se=ce&1&&me,Ce=!Vr(y);let Be;if(Ce&&(Be=u&&u.onVnodeBeforeUnmount)&&n0(Be,A,y),ce&6)h(y.component,X,J);else{if(ce&128){y.suspense.unmount(X,J);return}Se&&T0(y,null,A,"beforeUnmount"),ce&64?y.type.remove(y,A,X,D,$,J):z&&(he!==_0||Re>0&&Re&64)?O(z,A,X,!1,!0):(he===_0&&Re&384||!D&&ce&16)&&O(G,A,X),J&&f(y)}(Ce&&(Be=u&&u.onVnodeUnmounted)||Se)&&At(()=>{Be&&n0(Be,A,y),Se&&T0(y,null,A,"unmounted")},X)},f=y=>{const{type:A,el:X,anchor:J,transition:D}=y;if(A===_0){o(X,J);return}if(A===xa){B(y);return}const he=()=>{_(X),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(y.shapeFlag&1&&D&&!D.persisted){const{leave:u,delayLeave:l}=D,G=()=>u(X,he);l?l(y.el,he,G):G()}else he()},o=(y,A)=>{let X;for(;y!==A;)X=U(y),_(y),y=X;_(A)},h=(y,A,X)=>{const{bum:J,scope:D,update:he,subTree:u,um:l}=y;J&&ba(J),D.stop(),he&&(he.active=!1,n(u,y,A,X)),l&&At(l,A),At(()=>{y.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},O=(y,A,X,J=!1,D=!1,he=0)=>{for(let u=he;u<y.length;u++)n(y[u],A,X,J,D)},I=y=>y.shapeFlag&6?I(y.component.subTree):y.shapeFlag&128?y.suspense.next():U(y.anchor||y.el);let H=!1;const C=(y,A,X)=>{y==null?A._vnode&&n(A._vnode,null,null,!0):oe(A._vnode||null,y,A,null,null,null,X),H||(H=!0,Hn(),os(),H=!1),A._vnode=y},$={p:oe,um:n,m:a,r:f,mt:d,mc:K,pc:q,pbc:Y,n:I,o:e};let se,ve;return t&&([se,ve]=t($)),{render:C,hydrate:se,createApp:po(C,se)}}function Sa({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function E0({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Eo(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function xs(e,t,r=!1){const i=e.children,_=t.children;if(Ge(i)&&Ge(_))for(let c=0;c<i.length;c++){const m=i[c];let w=_[c];w.shapeFlag&1&&!w.dynamicChildren&&((w.patchFlag<=0||w.patchFlag===32)&&(w=_[c]=R0(_[c]),w.el=m.el),r||xs(m,w)),w.type===ta&&(w.el=m.el)}}function Bo(e){const t=e.slice(),r=[0];let i,_,c,m,w;const E=e.length;for(i=0;i<E;i++){const Q=e[i];if(Q!==0){if(_=r[r.length-1],e[_]<Q){t[i]=_,r.push(i);continue}for(c=0,m=r.length-1;c<m;)w=c+m>>1,e[r[w]]<Q?c=w+1:m=w;Q<e[r[c]]&&(c>0&&(t[i]=r[c-1]),r[c]=i)}}for(c=r.length,m=r[c-1];c-- >0;)r[c]=m,m=t[m];return r}function As(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:As(t)}const Co=e=>e.__isTeleport,_0=Symbol.for("v-fgt"),ta=Symbol.for("v-txt"),g0=Symbol.for("v-cmt"),xa=Symbol.for("v-stc"),cr=[];let e0=null;function Yr(e=!1){cr.push(e0=e?null:[])}function Io(){cr.pop(),e0=cr[cr.length-1]||null}let mr=1;function Wn(e){mr+=e}function Ms(e){return e.dynamicChildren=mr>0?e0||$0:null,Io(),mr>0&&e0&&e0.push(e),e}function Ka(e,t,r,i,_,c){return Ms(bt(e,t,r,i,_,c,!0))}function Lo(e,t,r,i,_){return Ms(u0(e,t,r,i,_,!0))}function Oo(e){return e?e.__v_isVNode===!0:!1}function sr(e,t){return e.type===t.type&&e.key===t.key}const ra="__vInternal",Ts=({key:e})=>e??null,Dr=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?ft(e)||Tt(e)||Ye(e)?{i:l0,r:e,k:t,f:!!r}:e:null);function bt(e,t=null,r=null,i=0,_=null,c=e===_0?0:1,m=!1,w=!1){const E={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ts(t),ref:t&&Dr(t),scopeId:Jr,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:c,patchFlag:i,dynamicProps:_,dynamicChildren:null,appContext:null,ctx:l0};return w?(mn(E,r),c&128&&e.normalize(E)):r&&(E.shapeFlag|=ft(r)?8:16),mr>0&&!m&&e0&&(E.patchFlag>0||c&6)&&E.patchFlag!==32&&e0.push(E),E}const u0=Fo;function Fo(e,t=null,r=null,i=0,_=null,c=!1){if((!e||e===j1)&&(e=g0),Oo(e)){const w=J0(e,t,!0);return r&&mn(w,r),mr>0&&!c&&e0&&(w.shapeFlag&6?e0[e0.indexOf(e)]=w:e0.push(w)),w.patchFlag|=-2,w}if(Go(e)&&(e=e.__vccOpts),t){t=No(t);let{class:w,style:E}=t;w&&!ft(w)&&(t.class=rn(w)),it(E)&&(es(E)&&!Ge(E)&&(E=_t({},E)),t.style=tn(E))}const m=ft(e)?1:$1(e)?128:Co(e)?64:it(e)?4:Ye(e)?2:0;return bt(e,t,r,i,_,m,c,!0)}function No(e){return e?es(e)||ra in e?_t({},e):e:null}function J0(e,t,r=!1){const{props:i,ref:_,patchFlag:c,children:m}=e,w=t?go(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:w,key:w&&Ts(w),ref:t&&t.ref?r&&_?Ge(_)?_.concat(Dr(t)):[_,Dr(t)]:Dr(t):_,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:m,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==_0?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&J0(e.ssContent),ssFallback:e.ssFallback&&J0(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Y0(e=" ",t=0){return u0(ta,null,e,t)}function ko(e="",t=!1){return t?(Yr(),Lo(g0,null,e)):u0(g0,null,e)}function s0(e){return e==null||typeof e=="boolean"?u0(g0):Ge(e)?u0(_0,null,e.slice()):typeof e=="object"?R0(e):u0(ta,null,String(e))}function R0(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:J0(e)}function mn(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ge(t))r=16;else if(typeof t=="object")if(i&65){const _=t.default;_&&(_._c&&(_._d=!1),mn(e,_()),_._c&&(_._d=!0));return}else{r=32;const _=t._;!_&&!(ra in t)?t._ctx=l0:_===3&&l0&&(l0.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:l0},r=32):(t=String(t),i&64?(r=16,t=[Y0(t)]):r=8);e.children=t,e.shapeFlag|=r}function go(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const _ in i)if(_==="class")t.class!==i.class&&(t.class=rn([t.class,i.class]));else if(_==="style")t.style=tn([t.style,i.style]);else if($r(_)){const c=t[_],m=i[_];m&&c!==m&&!(Ge(c)&&c.includes(m))&&(t[_]=c?[].concat(c,m):m)}else _!==""&&(t[_]=i[_])}return t}function n0(e,t,r,i=null){t0(e,t,7,[r,i])}const Vo=bs();let Ho=0;function Do(e,t,r){const i=e.type,_=(t?t.appContext:e.appContext)||Vo,c={uid:Ho++,vnode:e,type:i,parent:t,appContext:_,root:null,next:null,subTree:null,effect:null,update:null,scope:new i1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(_.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rs(i,_),emitsOptions:us(i,_),emit:null,emitted:null,propsDefaults:rt,inheritAttrs:i.inheritAttrs,ctx:rt,data:rt,props:rt,attrs:rt,slots:rt,refs:rt,setupState:rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return c.ctx={_:c},c.root=t?t.root:c,c.emit=H1.bind(null,c),e.ce&&e.ce(c),c}let pt=null,jr,za;{const e=Di(),t=(r,i)=>{let _;return(_=e[r])||(_=e[r]=[]),_.push(i),c=>{_.length>1?_.forEach(m=>m(c)):_[0](c)}};jr=t("__VUE_INSTANCE_SETTERS__",r=>pt=r),za=t("__VUE_SSR_SETTERS__",r=>aa=r)}const pr=e=>{const t=pt;return jr(e),e.scope.on(),()=>{e.scope.off(),jr(t)}},Kn=()=>{pt&&pt.scope.off(),jr(null)};function Es(e){return e.vnode.shapeFlag&4}let aa=!1;function Po(e,t=!1){t&&za(t);const{props:r,children:i}=e.vnode,_=Es(e);yo(e,r,_,t),xo(e,i);const c=_?Uo(e,t):void 0;return t&&za(!1),c}function Uo(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ts(new Proxy(e.ctx,fo));const{setup:i}=r;if(i){const _=e.setupContext=i.length>1?qo(e):null,c=pr(e);V0();const m=S0(i,e,0,[e.props,_]);if(H0(),c(),ki(m)){if(m.then(Kn,Kn),t)return m.then(w=>{zn(e,w,t)}).catch(w=>{Zr(w,e,0)});e.asyncDep=m}else zn(e,m,t)}else Bs(e,t)}function zn(e,t,r){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=ns(t)),Bs(e,r)}let Zn;function Bs(e,t,r){const i=e.type;if(!e.render){if(!t&&Zn&&!i.render){const _=i.template||hn(e).template;if(_){const{isCustomElement:c,compilerOptions:m}=e.appContext.config,{delimiters:w,compilerOptions:E}=i,Q=_t(_t({isCustomElement:c,delimiters:w},m),E);i.render=Zn(_,Q)}}e.render=i.render||Wt}{const _=pr(e);V0();try{_o(e)}finally{H0(),_()}}}function Xo(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Mt(e,"get","$attrs"),t[r]}}))}function qo(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return Xo(e)},slots:e.slots,emit:e.emit,expose:t}}function bn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ns(ts(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in fr)return fr[r](e)},has(t,r){return r in t||r in fr}}))}function Go(e){return Ye(e)&&"__vccOpts"in e}const Yo=(e,t)=>B1(e,t,aa),jo="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $o="http://www.w3.org/2000/svg",Wo="http://www.w3.org/1998/Math/MathML",y0=typeof document<"u"?document:null,Qn=y0&&y0.createElement("template"),Ko={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const _=t==="svg"?y0.createElementNS($o,e):t==="mathml"?y0.createElementNS(Wo,e):y0.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&_.setAttribute("multiple",i.multiple),_},createText:e=>y0.createTextNode(e),createComment:e=>y0.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>y0.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,_,c){const m=r?r.previousSibling:t.lastChild;if(_&&(_===c||_.nextSibling))for(;t.insertBefore(_.cloneNode(!0),r),!(_===c||!(_=_.nextSibling)););else{Qn.innerHTML=i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e;const w=Qn.content;if(i==="svg"||i==="mathml"){const E=w.firstChild;for(;E.firstChild;)w.appendChild(E.firstChild);w.removeChild(E)}t.insertBefore(w,r)}return[m?m.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},zo=Symbol("_vtc");function Zo(e,t,r){const i=e[zo];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Jn=Symbol("_vod"),Qo=Symbol("_vsh"),Jo=Symbol(""),el=/(^|;)\s*display\s*:/;function tl(e,t,r){const i=e.style,_=ft(r);let c=!1;if(r&&!_){if(t)if(ft(t))for(const m of t.split(";")){const w=m.slice(0,m.indexOf(":")).trim();r[w]==null&&Pr(i,w,"")}else for(const m in t)r[m]==null&&Pr(i,m,"");for(const m in r)m==="display"&&(c=!0),Pr(i,m,r[m])}else if(_){if(t!==r){const m=i[Jo];m&&(r+=";"+m),i.cssText=r,c=el.test(r)}}else t&&e.removeAttribute("style");Jn in e&&(e[Jn]=c?i.display:"",e[Qo]&&(i.display="none"))}const ei=/\s*!important$/;function Pr(e,t,r){if(Ge(r))r.forEach(i=>Pr(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=rl(e,t);ei.test(r)?e.setProperty(tr(i),r.replace(ei,""),"important"):e[i]=r}}const ti=["Webkit","Moz","ms"],Aa={};function rl(e,t){const r=Aa[t];if(r)return r;let i=Z0(t);if(i!=="filter"&&i in e)return Aa[t]=i;i=Hi(i);for(let _=0;_<ti.length;_++){const c=ti[_]+i;if(c in e)return Aa[t]=c}return t}const ri="http://www.w3.org/1999/xlink";function al(e,t,r,i,_){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(ri,t.slice(6,t.length)):e.setAttributeNS(ri,t,r);else{const c=n1(t);r==null||c&&!Pi(r)?e.removeAttribute(t):e.setAttribute(t,c?"":r)}}function nl(e,t,r,i,_,c,m){if(t==="innerHTML"||t==="textContent"){i&&m(i,_,c),e[t]=r??"";return}const w=e.tagName;if(t==="value"&&w!=="PROGRESS"&&!w.includes("-")){const Q=w==="OPTION"?e.getAttribute("value")||"":e.value,b=r??"";(Q!==b||!("_value"in e))&&(e.value=b),r==null&&e.removeAttribute(t),e._value=r;return}let E=!1;if(r===""||r==null){const Q=typeof e[t];Q==="boolean"?r=Pi(r):r==null&&Q==="string"?(r="",E=!0):Q==="number"&&(r=0,E=!0)}try{e[t]=r}catch{}E&&e.removeAttribute(t)}function il(e,t,r,i){e.addEventListener(t,r,i)}function sl(e,t,r,i){e.removeEventListener(t,r,i)}const ai=Symbol("_vei");function ol(e,t,r,i,_=null){const c=e[ai]||(e[ai]={}),m=c[t];if(i&&m)m.value=i;else{const[w,E]=ll(t);if(i){const Q=c[t]=_l(i,_);il(e,w,Q,E)}else m&&(sl(e,w,m,E),c[t]=void 0)}}const ni=/(?:Once|Passive|Capture)$/;function ll(e){let t;if(ni.test(e)){t={};let i;for(;i=e.match(ni);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):tr(e.slice(2)),t]}let Ma=0;const ul=Promise.resolve(),fl=()=>Ma||(ul.then(()=>Ma=0),Ma=Date.now());function _l(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;t0(cl(i,r.value),t,5,[i])};return r.value=e,r.attached=fl(),r}function cl(e,t){if(Ge(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>_=>!_._stopped&&i&&i(_))}else return t}const ii=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,dl=(e,t,r,i,_,c,m,w,E)=>{const Q=_==="svg";t==="class"?Zo(e,i,Q):t==="style"?tl(e,r,i):$r(t)?Qa(t)||ol(e,t,r,i,m):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hl(e,t,i,Q))?nl(e,t,i,c,m,w,E):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),al(e,t,i,Q))};function hl(e,t,r,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&ii(t)&&Ye(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const _=e.tagName;if(_==="IMG"||_==="VIDEO"||_==="CANVAS"||_==="SOURCE")return!1}return ii(t)&&ft(r)?!1:t in e}const vl=_t({patchProp:dl},Ko);let si;function ml(){return si||(si=Mo(vl))}const bl=(...e)=>{const t=ml().createApp(...e),{mount:r}=t;return t.mount=i=>{const _=Rl(i);if(!_)return;const c=t._component;!Ye(c)&&!c.render&&!c.template&&(c.template=_.innerHTML),_.innerHTML="";const m=r(_,!1,pl(_));return _ instanceof Element&&(_.removeAttribute("v-cloak"),_.setAttribute("data-v-app","")),m},t};function pl(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Rl(e){return ft(e)?document.querySelector(e):e}const yl="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20261.76%20226.69'%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H-.005l130.877%20226.688L261.749.001z'%20fill='%2341b883'/%3e%3cpath%20d='M161.096.001l-30.225%2052.351L100.647.001H52.346l78.526%20136.01L209.398.001z'%20fill='%2334495e'/%3e%3c/svg%3e";var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cs={exports:{}};(function(e){/**
 * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
 * @summary Record audio, video or screen inside the browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTC
 * @class
 * @example
 * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
 *     type: 'video', // audio or video or gif or canvas
 *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
 * });
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
 */function t(v,a){if(!v)throw"First parameter is required.";a=a||{type:"video"},a=new r(v,a);var n=this;function f(D){return a.disableLogs||console.log("RecordRTC version: ",n.version),D&&(a=new r(v,D)),a.disableLogs||console.log("started recording "+a.type+" stream."),A?(A.clearRecordedData(),A.record(),se("recording"),n.recordingDuration&&$(),n):(o(function(){n.recordingDuration&&$()}),n)}function o(D){D&&(a.initCallback=function(){D(),D=a.initCallback=null});var he=new i(v,a);A=new he(v,a),A.record(),se("recording"),a.disableLogs||console.log("Initialized recorderType:",A.constructor.name,"for output-type:",a.type)}function h(D){if(D=D||function(){},!A){y();return}if(n.state==="paused"){n.resumeRecording(),setTimeout(function(){h(D)},1);return}n.state!=="recording"&&!a.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',n.state),a.disableLogs||console.log("Stopped recording "+a.type+" stream."),a.type!=="gif"?A.stop(he):(A.stop(),he()),se("stopped");function he(u){if(!A){typeof D.call=="function"?D.call(n,""):D("");return}Object.keys(A).forEach(function(z){typeof A[z]!="function"&&(n[z]=A[z])});var l=A.blob;if(!l)if(u)A.blob=l=u;else throw"Recording failed.";if(l&&!a.disableLogs&&console.log(l.type,"->",k(l.size)),D){var G;try{G=b.createObjectURL(l)}catch{}typeof D.call=="function"?D.call(n,G):D(G)}a.autoWriteToDisk&&C(function(z){var ce={};ce[a.type+"Blob"]=z,d.Store(ce)})}}function O(){if(!A){y();return}if(n.state!=="recording"){a.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state);return}se("paused"),A.pause(),a.disableLogs||console.log("Paused recording.")}function I(){if(!A){y();return}if(n.state!=="paused"){a.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state);return}se("recording"),A.resume(),a.disableLogs||console.log("Resumed recording.")}function H(D){postMessage(new FileReaderSync().readAsDataURL(D))}function C(D,he){if(!D)throw"Pass a callback function over getDataURL.";var u=he?he.blob:(A||{}).blob;if(!u){a.disableLogs||console.warn("Blob encoder did not finish its job yet."),setTimeout(function(){C(D,he)},1e3);return}if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var l=z(H);l.onmessage=function(ce){D(ce.data)},l.postMessage(u)}else{var G=new FileReader;G.readAsDataURL(u),G.onload=function(ce){D(ce.target.result)}}function z(ce){try{var Re=b.createObjectURL(new Blob([ce.toString(),"this.onmessage =  function (eee) {"+ce.name+"(eee.data);}"],{type:"application/javascript"})),me=new Worker(Re);return b.revokeObjectURL(Re),me}catch{}}}function $(D){if(D=D||0,n.state==="paused"){setTimeout(function(){$(D)},1e3);return}if(n.state!=="stopped"){if(D>=n.recordingDuration){h(n.onRecordingStopped);return}D+=1e3,setTimeout(function(){$(D)},1e3)}}function se(D){n&&(n.state=D,typeof n.onStateChanged.call=="function"?n.onStateChanged.call(n,D):n.onStateChanged(D))}var ve='It seems that recorder is destroyed or "startRecording" is not invoked for '+a.type+" recorder.";function y(){a.disableLogs!==!0&&console.warn(ve)}var A,X={startRecording:f,stopRecording:h,pauseRecording:O,resumeRecording:I,initRecorder:o,setRecordingDuration:function(D,he){if(typeof D>"u")throw"recordingDuration is required.";if(typeof D!="number")throw"recordingDuration must be a number.";return n.recordingDuration=D,n.onRecordingStopped=he||function(){},{onRecordingStopped:function(u){n.onRecordingStopped=u}}},clearRecordedData:function(){if(!A){y();return}A.clearRecordedData(),a.disableLogs||console.log("Cleared old recorded data.")},getBlob:function(){if(!A){y();return}return A.blob},getDataURL:C,toURL:function(){if(!A){y();return}return b.createObjectURL(A.blob)},getInternalRecorder:function(){return A},save:function(D){if(!A){y();return}M(A.blob,D)},getFromDisk:function(D){if(!A){y();return}t.getFromDisk(a.type,D)},setAdvertisementArray:function(D){a.advertisement=[];for(var he=D.length,u=0;u<he;u++)a.advertisement.push({duration:u,image:D[u]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){n.state==="recording"&&!a.disableLogs&&console.warn("Stop an active recorder."),A&&typeof A.clearRecordedData=="function"&&A.clearRecordedData(),A=null,se("inactive"),n.blob=null},onStateChanged:function(D){a.disableLogs||console.log("Recorder state changed:",D)},state:"inactive",getState:function(){return n.state},destroy:function(){var D=a.disableLogs;a={disableLogs:!0},n.reset(),se("destroyed"),X=n=null,N.AudioContextConstructor&&(N.AudioContextConstructor.close(),N.AudioContextConstructor=null),a.disableLogs=D,a.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return n=X,X;for(var J in X)this[J]=X[J];return n=this,X}t.version="5.6.2",e.exports=t,t.getFromDisk=function(v,a){if(!a)throw"callback is mandatory.";console.log("Getting recorded "+(v==="all"?"blobs":v+" blob ")+" from disk!"),d.Fetch(function(n,f){v!=="all"&&f===v+"Blob"&&a&&a(n),v==="all"&&a&&a(n,f.replace("Blob",""))})},t.writeToDisk=function(v){console.log("Writing recorded blob(s) to disk!"),v=v||{},v.audio&&v.video&&v.gif?v.audio.getDataURL(function(a){v.video.getDataURL(function(n){v.gif.getDataURL(function(f){d.Store({audioBlob:a,videoBlob:n,gifBlob:f})})})}):v.audio&&v.video?v.audio.getDataURL(function(a){v.video.getDataURL(function(n){d.Store({audioBlob:a,videoBlob:n})})}):v.audio&&v.gif?v.audio.getDataURL(function(a){v.gif.getDataURL(function(n){d.Store({audioBlob:a,gifBlob:n})})}):v.video&&v.gif?v.video.getDataURL(function(a){v.gif.getDataURL(function(n){d.Store({videoBlob:a,gifBlob:n})})}):v.audio?v.audio.getDataURL(function(a){d.Store({audioBlob:a})}):v.video?v.video.getDataURL(function(a){d.Store({videoBlob:a})}):v.gif&&v.gif.getDataURL(function(a){d.Store({gifBlob:a})})};/**
 * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
 * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCConfiguration
 * @class
 * @example
 * var options = RecordRTCConfiguration(mediaStream, options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
 */function r(v,a){return!a.recorderType&&!a.type&&(a.audio&&a.video?a.type="video":a.audio&&!a.video&&(a.type="audio")),a.recorderType&&!a.type&&(a.recorderType===_e||a.recorderType===ie||typeof le<"u"&&a.recorderType===le?a.type="video":a.recorderType===g?a.type="gif":a.recorderType===Y?a.type="audio":a.recorderType===W&&(B(v,"audio").length&&B(v,"video").length||!B(v,"audio").length&&B(v,"video").length?a.type="video":B(v,"audio").length&&!B(v,"video").length&&(a.type="audio"))),typeof W<"u"&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(a.mimeType||(a.mimeType="video/webm"),a.type||(a.type=a.mimeType.split("/")[0]),a.bitsPerSecond),a.type||(a.mimeType&&(a.type=a.mimeType.split("/")[0]),a.type||(a.type="audio")),a}/**
 * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
 * @summary It returns best recorder-type available for your browser.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GetRecorderType
 * @class
 * @example
 * var RecorderType = GetRecorderType(options);
 * var recorder = new RecorderType(options);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 */function i(v,a){var n;return(re||R||U)&&(n=Y),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!re&&(n=W),a.type==="video"&&(re||U)&&(n=_e,typeof le<"u"&&typeof ReadableStream<"u"&&(n=le)),a.type==="gif"&&(n=g),a.type==="canvas"&&(n=ie),K()&&n!==ie&&n!==g&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(B(v,"video").length||B(v,"audio").length)&&(a.type==="audio"?typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("audio/webm")&&(n=W):typeof MediaRecorder.isTypeSupported=="function"&&MediaRecorder.isTypeSupported("video/webm")&&(n=W)),v instanceof Array&&v.length&&(n=Z),a.recorderType&&(n=a.recorderType),!a.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&oe&&(n=W),n}/**
 * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
 * @summary MRecordRTC stands for "Multiple-RecordRTC".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MRecordRTC
 * @class
 * @example
 * var recorder = new MRecordRTC();
 * recorder.addStream(MediaStream);
 * recorder.mediaType = {
 *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
 *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
 *     gif: true    // or GifRecorder
 * };
 * // mimeType is optional and should be set only in advance cases.
 * recorder.mimeType = {
 *     audio: 'audio/wav',
 *     video: 'video/webm',
 *     gif:   'image/gif'
 * };
 * recorder.startRecording();
 * @see For further information:
 * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @requires {@link RecordRTC}
 */function _(v){this.addStream=function(a){a&&(v=a)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var a=this.mediaType,n,f=this.mimeType||{audio:null,video:null,gif:null};if(typeof a.audio!="function"&&K()&&!B(v,"audio").length&&(a.audio=!1),typeof a.video!="function"&&K()&&!B(v,"video").length&&(a.video=!1),typeof a.gif!="function"&&K()&&!B(v,"video").length&&(a.gif=!1),!a.audio&&!a.video&&!a.gif)throw"MediaStream must have either audio or video tracks.";if(a.audio&&(n=null,typeof a.audio=="function"&&(n=a.audio),this.audioRecorder=new t(v,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:n,mimeType:f.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),a.video||this.audioRecorder.startRecording()),a.video){n=null,typeof a.video=="function"&&(n=a.video);var o=v;if(K()&&a.audio&&typeof a.audio=="function"){var h=B(v,"video")[0];fe?(o=new ne,o.addTrack(h),n&&n===_e&&(n=W)):(o=new ne,o.addTrack(h))}this.videoRecorder=new t(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:n,mimeType:f.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),a.audio||this.videoRecorder.startRecording()}if(a.audio&&a.video){var O=this,I=K()===!0;(a.audio instanceof Y&&a.video||a.audio!==!0&&a.video!==!0&&a.audio!==a.video)&&(I=!1),I===!0?(O.audioRecorder=null,O.videoRecorder.startRecording()):O.videoRecorder.initRecorder(function(){O.audioRecorder.initRecorder(function(){O.videoRecorder.startRecording(),O.audioRecorder.startRecording()})})}a.gif&&(n=null,typeof a.gif=="function"&&(n=a.gif),this.gifRecorder=new t(v,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:n,mimeType:f.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(a){a=a||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(n){a(n,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(n){a(n,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(n){a(n,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(a){var n={};return this.audioRecorder&&(n.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(n.video=this.videoRecorder.getBlob()),this.gifRecorder&&(n.gif=this.gifRecorder.getBlob()),a&&a(n),n},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(a){this.getBlob(function(o){o.audio&&o.video?n(o.audio,function(h){n(o.video,function(O){a({audio:h,video:O})})}):o.audio?n(o.audio,function(h){a({audio:h})}):o.video&&n(o.video,function(h){a({video:h})})});function n(o,h){if(typeof Worker<"u"){var O=f(function(C){postMessage(new FileReaderSync().readAsDataURL(C))});O.onmessage=function(H){h(H.data)},O.postMessage(o)}else{var I=new FileReader;I.readAsDataURL(o),I.onload=function(H){h(H.target.result)}}}function f(o){var h=b.createObjectURL(new Blob([o.toString(),"this.onmessage =  function (eee) {"+o.name+"(eee.data);}"],{type:"application/javascript"})),O=new Worker(h),I;if(typeof b<"u")I=b;else if(typeof webkitURL<"u")I=webkitURL;else throw"Neither URL nor webkitURL detected.";return I.revokeObjectURL(h),O}},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(a){a=a||{audio:!0,video:!0,gif:!0},a.audio&&this.audioRecorder&&this.audioRecorder.save(typeof a.audio=="string"?a.audio:""),a.video&&this.videoRecorder&&this.videoRecorder.save(typeof a.video=="string"?a.video:""),a.gif&&this.gifRecorder&&this.gifRecorder.save(typeof a.gif=="string"?a.gif:"")}}_.getFromDisk=t.getFromDisk,_.writeToDisk=t.writeToDisk,typeof t<"u"&&(t.MRecordRTC=_);var c="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(v){v&&(typeof window<"u"||typeof tt>"u"||(tt.navigator={userAgent:c,getUserMedia:function(){}},tt.console||(tt.console={}),(typeof tt.console.log>"u"||typeof tt.console.error>"u")&&(tt.console.error=tt.console.log=tt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(v.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var a={getContext:function(){return a},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return a},v.HTMLVideoElement=function(){}),typeof location>"u"&&(v.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(v.screen={width:0,height:0}),typeof b>"u"&&(v.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),v.window=tt))})(typeof tt<"u"?tt:null);var m=window.requestAnimationFrame;if(typeof m>"u"){if(typeof webkitRequestAnimationFrame<"u")m=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")m=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")m=msRequestAnimationFrame;else if(typeof m>"u"){var w=0;m=function(v,a){var n=new Date().getTime(),f=Math.max(0,16-(n-w)),o=setTimeout(function(){v(n+f)},f);return w=n+f,o}}}var E=window.cancelAnimationFrame;typeof E>"u"&&(typeof webkitCancelAnimationFrame<"u"?E=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?E=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?E=msCancelAnimationFrame:typeof E>"u"&&(E=function(v){clearTimeout(v)}));var Q=window.AudioContext;typeof Q>"u"&&(typeof webkitAudioContext<"u"&&(Q=webkitAudioContext),typeof mozAudioContext<"u"&&(Q=mozAudioContext));var b=window.URL;typeof b>"u"&&typeof webkitURL<"u"&&(b=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var R=navigator.userAgent.indexOf("Edge")!==-1&&(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),U=!!window.opera||navigator.userAgent.indexOf("OPR/")!==-1,fe=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),re=!U&&!R&&!!navigator.webkitGetUserMedia||T()||navigator.userAgent.toLowerCase().indexOf("chrome/")!==-1,oe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);oe&&!re&&navigator.userAgent.indexOf("CriOS")!==-1&&(oe=!1,re=!0);var ne=window.MediaStream;typeof ne>"u"&&typeof webkitMediaStream<"u"&&(ne=webkitMediaStream),typeof ne<"u"&&typeof ne.prototype.stop>"u"&&(ne.prototype.stop=function(){this.getTracks().forEach(function(v){v.stop()})});function k(v){var a=1e3,n=["Bytes","KB","MB","GB","TB"];if(v===0)return"0 Bytes";var f=parseInt(Math.floor(Math.log(v)/Math.log(a)),10);return(v/Math.pow(a,f)).toPrecision(3)+" "+n[f]}function M(v,a){if(!v)throw"Blob object is required.";if(!v.type)try{v.type="video/webm"}catch{}var n=(v.type||"video/webm").split("/")[1];if(n.indexOf(";")!==-1&&(n=n.split(";")[0]),a&&a.indexOf(".")!==-1){var f=a.split(".");a=f[0],n=f[1]}var o=(a||Math.round(Math.random()*9999999999)+888888888)+"."+n;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(v,o);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(v,o);var h=document.createElement("a");h.href=b.createObjectURL(v),h.download=o,h.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(h),typeof h.click=="function"?h.click():(h.target="_blank",h.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),b.revokeObjectURL(h.href)}function T(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}function B(v,a){return!v||!v.getTracks?[]:v.getTracks().filter(function(n){return n.kind===(a||"audio")})}function s(v,a){"srcObject"in a?a.srcObject=v:"mozSrcObject"in a?a.mozSrcObject=v:a.srcObject=v}function p(v,a){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,f=new EBML.Decoder,o=EBML.tools,h=new FileReader;h.onload=function(O){var I=f.decode(this.result);I.forEach(function(se){n.read(se)}),n.stop();var H=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),C=this.result.slice(n.metadataSize),$=new Blob([H,C],{type:"video/webm"});a($)},h.readAsArrayBuffer(v)}typeof t<"u"&&(t.invokeSaveAsDialog=M,t.getTracks=B,t.getSeekableBlob=p,t.bytesToSize=k,t.isElectron=T);/**
 * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * Storage.AudioContext === webkitAudioContext
 * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var N={};typeof Q<"u"?N.AudioContext=Q:typeof webkitAudioContext<"u"&&(N.AudioContext=webkitAudioContext),typeof t<"u"&&(t.Storage=N);function K(){if(fe||oe||R)return!0;var v=navigator.userAgent,a=""+parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10),f,o;return(re||U)&&(f=v.indexOf("Chrome"),a=v.substring(f+7)),(o=a.indexOf(";"))!==-1&&(a=a.substring(0,o)),(o=a.indexOf(" "))!==-1&&(a=a.substring(0,o)),n=parseInt(""+a,10),isNaN(n)&&(a=""+parseFloat(navigator.appVersion),n=parseInt(navigator.appVersion,10)),n>=49}/**
 * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
 * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://github.com/muaz-khan|Muaz Khan}
 * @typedef MediaStreamRecorder
 * @class
 * @example
 * var config = {
 *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
 *     audioBitsPerSecond : 256 * 8 * 1024,
 *     videoBitsPerSecond : 256 * 8 * 1024,
 *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
 *     checkForInactiveTracks: true,
 *     timeSlice: 1000, // concatenate intervals based blobs
 *     ondataavailable: function() {} // get intervals based blobs
 * }
 * var recorder = new MediaStreamRecorder(mediaStream, config);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
 * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
 */function W(v,a){var $=this;if(typeof v>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if(a=a||{mimeType:"video/webm"},a.type==="audio"){if(B(v,"video").length&&B(v,"audio").length){var n;navigator.mozGetUserMedia?(n=new ne,n.addTrack(B(v,"audio")[0])):n=new ne(B(v,"audio")),v=n}(!a.mimeType||a.mimeType.toString().toLowerCase().indexOf("audio")===-1)&&(a.mimeType=re?"audio/webm":"audio/ogg"),a.mimeType&&a.mimeType.toString().toLowerCase()!=="audio/ogg"&&navigator.mozGetUserMedia&&(a.mimeType="audio/ogg")}var f=[];this.getArrayOfBlobs=function(){return f},this.record=function(){$.blob=null,$.clearRecordedData(),$.timestamps=[],C=[],f=[];var se=a;a.disableLogs||console.log("Passing following config over MediaRecorder API.",se),I&&(I=null),re&&!K()&&(se="video/vp8"),typeof MediaRecorder.isTypeSupported=="function"&&se.mimeType&&(MediaRecorder.isTypeSupported(se.mimeType)||(a.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",se.mimeType),se.mimeType=a.type==="audio"?"audio/webm":"video/webm"));try{I=new MediaRecorder(v,se),a.mimeType=se.mimeType}catch{I=new MediaRecorder(v)}se.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in I&&I.canRecordMimeType(se.mimeType)===!1&&(a.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",se.mimeType)),I.ondataavailable=function(ve){if(ve.data&&C.push("ondataavailable: "+k(ve.data.size)),typeof a.timeSlice=="number"){if(ve.data&&ve.data.size&&(f.push(ve.data),o(),typeof a.ondataavailable=="function")){var y=a.getNativeBlob?ve.data:new Blob([ve.data],{type:h(se)});a.ondataavailable(y)}return}if(!ve.data||!ve.data.size||ve.data.size<100||$.blob){$.recordingCallback&&($.recordingCallback(new Blob([],{type:h(se)})),$.recordingCallback=null);return}$.blob=a.getNativeBlob?ve.data:new Blob([ve.data],{type:h(se)}),$.recordingCallback&&($.recordingCallback($.blob),$.recordingCallback=null)},I.onstart=function(){C.push("started")},I.onpause=function(){C.push("paused")},I.onresume=function(){C.push("resumed")},I.onstop=function(){C.push("stopped")},I.onerror=function(ve){ve&&(ve.name||(ve.name="UnknownError"),C.push("error: "+ve),a.disableLogs||(ve.name.toString().toLowerCase().indexOf("invalidstate")!==-1?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",ve):ve.name.toString().toLowerCase().indexOf("notsupported")!==-1?console.error("MIME type (",se.mimeType,") is not supported.",ve):ve.name.toString().toLowerCase().indexOf("security")!==-1?console.error("MediaRecorder security error",ve):ve.name==="OutOfMemory"?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="IllegalStreamModification"?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="OtherRecordingError"?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",ve):ve.name==="GenericError"?console.error("The UA cannot provide the codec or recording option that has been requested.",ve):console.error("MediaRecorder Error",ve)),function(y){if(!$.manuallyStopped&&I&&I.state==="inactive"){delete a.timeslice,I.start(10*60*1e3);return}setTimeout(y,1e3)}(),I.state!=="inactive"&&I.state!=="stopped"&&I.stop())},typeof a.timeSlice=="number"?(o(),I.start(a.timeSlice)):I.start(36e5),a.initCallback&&a.initCallback()},this.timestamps=[];function o(){$.timestamps.push(new Date().getTime()),typeof a.onTimeStamp=="function"&&a.onTimeStamp($.timestamps[$.timestamps.length-1],$.timestamps)}function h(se){return I&&I.mimeType?I.mimeType:se.mimeType||"video/webm"}this.stop=function(se){se=se||function(){},$.manuallyStopped=!0,I&&(this.recordingCallback=se,I.state==="recording"&&I.stop(),typeof a.timeSlice=="number"&&setTimeout(function(){$.blob=new Blob(f,{type:h(a)}),$.recordingCallback($.blob)},100))},this.pause=function(){I&&I.state==="recording"&&I.pause()},this.resume=function(){I&&I.state==="paused"&&I.resume()},this.clearRecordedData=function(){I&&I.state==="recording"&&$.stop(O),O()};function O(){f=[],I=null,$.timestamps=[]}var I;this.getInternalRecorder=function(){return I};function H(){if("active"in v){if(!v.active)return!1}else if("ended"in v&&v.ended)return!1;return!0}this.blob=null,this.getState=function(){return I&&I.state||"inactive"};var C=[];this.getAllStates=function(){return C},typeof a.checkForInactiveTracks>"u"&&(a.checkForInactiveTracks=!1);var $=this;(function se(){if(!(!I||a.checkForInactiveTracks===!1)){if(H()===!1){a.disableLogs||console.log("MediaStream seems stopped."),$.stop();return}setTimeout(se,1e3)}})(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MediaStreamRecorder=W);/**
 * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
 * @summary JavaScript standalone object for stereo audio recording.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef StereoAudioRecorder
 * @class
 * @example
 * var recorder = new StereoAudioRecorder(MediaStream, {
 *     sampleRate: 44100,
 *     bufferSize: 4096
 * });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 */function Y(v,a){if(!B(v,"audio").length)throw"Your stream has no audio tracks.";a=a||{};var n=this,f=[],o=[],h=!1,O=0,I,H=2,C=a.desiredSampRate;a.leftChannel===!0&&(H=1),a.numberOfAudioChannels===1&&(H=1),(!H||H<1)&&(H=2),a.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+H),typeof a.checkForInactiveTracks>"u"&&(a.checkForInactiveTracks=!0);function $(){if(a.checkForInactiveTracks===!1)return!0;if("active"in v){if(!v.active)return!1}else if("ended"in v&&v.ended)return!1;return!0}this.record=function(){if($()===!1)throw"Please make sure MediaStream is active.";u(),G=he=!1,h=!0,typeof a.timeSlice<"u"&&Re()};function se(me,Se){function Ce(xe,De){var qe=xe.numberOfAudioChannels,Pe=xe.leftBuffers.slice(0),S=xe.rightBuffers.slice(0),x=xe.sampleRate,V=xe.internalInterleavedLength,P=xe.desiredSampRate;qe===2&&(Pe=te(Pe,V),S=te(S,V),P&&(Pe=ee(Pe,P,x),S=ee(S,P,x))),qe===1&&(Pe=te(Pe,V),P&&(Pe=ee(Pe,P,x))),P&&(x=P);function ee(He,Me,Oe){var Ae=Math.round(He.length*(Me/Oe)),ge=[],je=Number((He.length-1)/(Ae-1));ge[0]=He[0];for(var Le=1;Le<Ae-1;Le++){var Ue=Le*je,Xe=Number(Math.floor(Ue)).toFixed(),Ze=Number(Math.ceil(Ue)).toFixed(),vt=Ue-Xe;ge[Le]=F(He[Xe],He[Ze],vt)}return ge[Ae-1]=He[He.length-1],ge}function F(He,Me,Oe){return He+(Me-He)*Oe}function te(He,Me){for(var Oe=new Float64Array(Me),Ae=0,ge=He.length,je=0;je<ge;je++){var Le=He[je];Oe.set(Le,Ae),Ae+=Le.length}return Oe}function ue(He,Me){for(var Oe=He.length+Me.length,Ae=new Float64Array(Oe),ge=0,je=0;je<Oe;)Ae[je++]=He[ge],Ae[je++]=Me[ge],ge++;return Ae}function ae(He,Me,Oe){for(var Ae=Oe.length,ge=0;ge<Ae;ge++)He.setUint8(Me+ge,Oe.charCodeAt(ge))}var pe;qe===2&&(pe=ue(Pe,S)),qe===1&&(pe=Pe);var de=pe.length,ye=44+de*2,Ie=new ArrayBuffer(ye),Ne=new DataView(Ie);ae(Ne,0,"RIFF"),Ne.setUint32(4,36+de*2,!0),ae(Ne,8,"WAVE"),ae(Ne,12,"fmt "),Ne.setUint32(16,16,!0),Ne.setUint16(20,1,!0),Ne.setUint16(22,qe,!0),Ne.setUint32(24,x,!0),Ne.setUint32(28,x*qe*2,!0),Ne.setUint16(32,qe*2,!0),Ne.setUint16(34,16,!0),ae(Ne,36,"data"),Ne.setUint32(40,de*2,!0);for(var Te=de,Ve=44,be=1,Fe=0;Fe<Te;Fe++)Ne.setInt16(Ve,pe[Fe]*(32767*be),!0),Ve+=2;if(De)return De({buffer:Ie,view:Ne});postMessage({buffer:Ie,view:Ne})}if(me.noWorker){Ce(me,function(xe){Se(xe.buffer,xe.view)});return}var Be=ve(Ce);Be.onmessage=function(xe){Se(xe.data.buffer,xe.data.view),b.revokeObjectURL(Be.workerURL),Be.terminate()},Be.postMessage(me)}function ve(me){var Se=b.createObjectURL(new Blob([me.toString(),";this.onmessage =  function (eee) {"+me.name+"(eee.data);}"],{type:"application/javascript"})),Ce=new Worker(Se);return Ce.workerURL=Se,Ce}this.stop=function(me){me=me||function(){},h=!1,se({desiredSampRate:C,sampleRate:D,numberOfAudioChannels:H,internalInterleavedLength:O,leftBuffers:f,rightBuffers:H===1?[]:o,noWorker:a.noWorker},function(Se,Ce){n.blob=new Blob([Ce],{type:"audio/wav"}),n.buffer=new ArrayBuffer(Ce.buffer.byteLength),n.view=Ce,n.sampleRate=C||D,n.bufferSize=J,n.length=O,G=!1,me&&me(n.blob)})},typeof t.Storage>"u"&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!t.Storage.AudioContextConstructor||t.Storage.AudioContextConstructor.state==="closed")&&(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var y=t.Storage.AudioContextConstructor,A=y.createMediaStreamSource(v),X=[0,256,512,1024,2048,4096,8192,16384],J=typeof a.bufferSize>"u"?4096:a.bufferSize;if(X.indexOf(J)===-1&&(a.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(X,null,"	"))),y.createJavaScriptNode)I=y.createJavaScriptNode(J,H,H);else if(y.createScriptProcessor)I=y.createScriptProcessor(J,H,H);else throw"WebAudio API has no support on this browser.";A.connect(I),a.bufferSize||(J=I.bufferSize);var D=typeof a.sampleRate<"u"?a.sampleRate:y.sampleRate||44100;(D<22050||D>96e3)&&(a.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),a.disableLogs||a.desiredSampRate&&console.log("Desired sample-rate: "+a.desiredSampRate);var he=!1;this.pause=function(){he=!0},this.resume=function(){if($()===!1)throw"Please make sure MediaStream is active.";if(!h){a.disableLogs||console.log("Seems recording has been restarted."),this.record();return}he=!1},this.clearRecordedData=function(){a.checkForInactiveTracks=!1,h&&this.stop(l),l()};function u(){f=[],o=[],O=0,G=!1,h=!1,he=!1,y=null,n.leftchannel=f,n.rightchannel=o,n.numberOfAudioChannels=H,n.desiredSampRate=C,n.sampleRate=D,n.recordingLength=O,ce={left:[],right:[],recordingLength:0}}function l(){I&&(I.onaudioprocess=null,I.disconnect(),I=null),A&&(A.disconnect(),A=null),u()}this.name="StereoAudioRecorder",this.toString=function(){return this.name};var G=!1;function z(me){if(!he){if($()===!1&&(a.disableLogs||console.log("MediaStream seems stopped."),I.disconnect(),h=!1),!h){A&&(A.disconnect(),A=null);return}G||(G=!0,a.onAudioProcessStarted&&a.onAudioProcessStarted(),a.initCallback&&a.initCallback());var Se=me.inputBuffer.getChannelData(0),Ce=new Float32Array(Se);if(f.push(Ce),H===2){var Be=me.inputBuffer.getChannelData(1),xe=new Float32Array(Be);o.push(xe)}O+=J,n.recordingLength=O,typeof a.timeSlice<"u"&&(ce.recordingLength+=J,ce.left.push(Ce),H===2&&ce.right.push(xe))}}I.onaudioprocess=z,y.createMediaStreamDestination?I.connect(y.createMediaStreamDestination()):I.connect(y.destination),this.leftchannel=f,this.rightchannel=o,this.numberOfAudioChannels=H,this.desiredSampRate=C,this.sampleRate=D,n.recordingLength=O;var ce={left:[],right:[],recordingLength:0};function Re(){!h||typeof a.ondataavailable!="function"||typeof a.timeSlice>"u"||(ce.left.length?(se({desiredSampRate:C,sampleRate:D,numberOfAudioChannels:H,internalInterleavedLength:ce.recordingLength,leftBuffers:ce.left,rightBuffers:H===1?[]:ce.right},function(me,Se){var Ce=new Blob([Se],{type:"audio/wav"});a.ondataavailable(Ce),setTimeout(Re,a.timeSlice)}),ce={left:[],right:[],recordingLength:0}):setTimeout(Re,a.timeSlice))}}typeof t<"u"&&(t.StereoAudioRecorder=Y);/**
 * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
 * @summary HTML2Canvas recording into video WebM.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef CanvasRecorder
 * @class
 * @example
 * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 * @param {object} config - {disableLogs:true, initCallback: function}
 */function ie(v,a){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";a=a||{},a.frameInterval||(a.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(X){X in document.createElement("canvas")&&(n=!0)});var f=(!!window.webkitRTCPeerConnection||!!window.webkitGetUserMedia)&&!!window.chrome,o=50,h=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);f&&h&&h[2]&&(o=parseInt(h[2],10)),f&&o<52&&(n=!1),a.useWhammyRecorder&&(n=!1);var O,I;if(n)if(a.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),v instanceof HTMLCanvasElement)O=v;else if(v instanceof CanvasRenderingContext2D)O=v.canvas;else throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";else navigator.mozGetUserMedia&&(a.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));var H;this.record=function(){if(H=!0,n&&!a.useWhammyRecorder){var X;"captureStream"in O?X=O.captureStream(25):"mozCaptureStream"in O?X=O.mozCaptureStream(25):"webkitCaptureStream"in O&&(X=O.webkitCaptureStream(25));try{var J=new ne;J.addTrack(B(X,"video")[0]),X=J}catch{}if(!X)throw"captureStream API are NOT available.";I=new W(X,{mimeType:a.mimeType||"video/webm"}),I.record()}else A.frames=[],y=new Date().getTime(),ve();a.initCallback&&a.initCallback()},this.getWebPImages=function(X){if(v.nodeName.toLowerCase()!=="canvas"){X();return}var J=A.frames.length;A.frames.forEach(function(D,he){var u=J-he;a.disableLogs||console.log(u+"/"+J+" frames remaining"),a.onEncodingCallback&&a.onEncodingCallback(u,J);var l=D.image.toDataURL("image/webp",1);A.frames[he].image=l}),a.disableLogs||console.log("Generating WebM"),X()},this.stop=function(X){H=!1;var J=this;if(n&&I){I.stop(X);return}this.getWebPImages(function(){A.compile(function(D){a.disableLogs||console.log("Recording finished!"),J.blob=D,J.blob.forEach&&(J.blob=new Blob([],{type:"video/webm"})),X&&X(J.blob),A.frames=[]})})};var C=!1;this.pause=function(){if(C=!0,I instanceof W){I.pause();return}},this.resume=function(){if(C=!1,I instanceof W){I.resume();return}H||this.record()},this.clearRecordedData=function(){H&&this.stop($),$()};function $(){A.frames=[],H=!1,C=!1}this.name="CanvasRecorder",this.toString=function(){return this.name};function se(){var X=document.createElement("canvas"),J=X.getContext("2d");return X.width=v.width,X.height=v.height,J.drawImage(v,0,0),X}function ve(){if(C)return y=new Date().getTime(),setTimeout(ve,500);if(v.nodeName.toLowerCase()==="canvas"){var X=new Date().getTime()-y;y=new Date().getTime(),A.frames.push({image:se(),duration:X}),H&&setTimeout(ve,a.frameInterval);return}html2canvas(v,{grabMouse:typeof a.showMousePointer>"u"||a.showMousePointer,onrendered:function(J){var D=new Date().getTime()-y;if(!D)return setTimeout(ve,a.frameInterval);y=new Date().getTime(),A.frames.push({image:J.toDataURL("image/webp",1),duration:D}),H&&setTimeout(ve,a.frameInterval)}})}var y=new Date().getTime(),A=new L.Video(100)}typeof t<"u"&&(t.CanvasRecorder=ie);/**
 * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
 * @summary Video recording feature in Chrome.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WhammyRecorder
 * @class
 * @example
 * var recorder = new WhammyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 */function _e(v,a){a=a||{},a.frameInterval||(a.frameInterval=10),a.disableLogs||console.log("Using frames-interval:",a.frameInterval),this.record=function(){a.width||(a.width=320),a.height||(a.height=240),a.video||(a.video={width:a.width,height:a.height}),a.canvas||(a.canvas={width:a.width,height:a.height}),H.width=a.canvas.width||320,H.height=a.canvas.height||240,C=H.getContext("2d"),a.video&&a.video instanceof HTMLVideoElement?($=a.video.cloneNode(),a.initCallback&&a.initCallback()):($=document.createElement("video"),s(v,$),$.onloadedmetadata=function(){a.initCallback&&a.initCallback()},$.width=a.video.width,$.height=a.video.height),$.muted=!0,$.play(),se=new Date().getTime(),ve=new L.Video,a.disableLogs||(console.log("canvas resolutions",H.width,"*",H.height),console.log("video width/height",$.width||H.width,"*",$.height||H.height)),n(a.frameInterval)};function n(y){y=typeof y<"u"?y:10;var A=new Date().getTime()-se;if(!A)return setTimeout(n,y,y);if(O)return se=new Date().getTime(),setTimeout(n,100);se=new Date().getTime(),$.paused&&$.play(),C.drawImage($,0,0,H.width,H.height),ve.frames.push({duration:A,image:H.toDataURL("image/webp")}),h||setTimeout(n,y,y)}function f(y){var A=-1,X=y.length;(function J(){if(A++,A===X){y.callback();return}setTimeout(function(){y.functionToLoop(J,A)},1)})()}function o(y,A,X,J,D){var he=document.createElement("canvas");he.width=H.width,he.height=H.height;var u=he.getContext("2d"),l=[],G=A===-1,z=A&&A>0&&A<=y.length?A:y.length,ce={r:0,g:0,b:0},Re=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),me=X&&X>=0&&X<=1?X:0,Se=J&&J>=0&&J<=1?J:0,Ce=!1;f({length:z,functionToLoop:function(Be,xe){var De,qe,Pe,S=function(){!Ce&&Pe-De<=Pe*Se||(G&&(Ce=!0),l.push(y[xe])),Be()};if(Ce)S();else{var x=new Image;x.onload=function(){u.drawImage(x,0,0,H.width,H.height);var V=u.getImageData(0,0,H.width,H.height);De=0,qe=V.data.length,Pe=V.data.length/4;for(var P=0;P<qe;P+=4){var ee={r:V.data[P],g:V.data[P+1],b:V.data[P+2]},F=Math.sqrt(Math.pow(ee.r-ce.r,2)+Math.pow(ee.g-ce.g,2)+Math.pow(ee.b-ce.b,2));F<=Re*me&&De++}S()},x.src=y[xe].image}},callback:function(){l=l.concat(y.slice(z)),l.length<=0&&l.push(y[y.length-1]),D(l)}})}var h=!1;this.stop=function(y){y=y||function(){},h=!0;var A=this;setTimeout(function(){o(ve.frames,-1,null,null,function(X){ve.frames=X,a.advertisement&&a.advertisement.length&&(ve.frames=a.advertisement.concat(ve.frames)),ve.compile(function(J){A.blob=J,A.blob.forEach&&(A.blob=new Blob([],{type:"video/webm"})),y&&y(A.blob)})})},10)};var O=!1;this.pause=function(){O=!0},this.resume=function(){O=!1,h&&this.record()},this.clearRecordedData=function(){h||this.stop(I),I()};function I(){ve.frames=[],h=!0,O=!1}this.name="WhammyRecorder",this.toString=function(){return this.name};var H=document.createElement("canvas"),C=H.getContext("2d"),$,se,ve}typeof t<"u"&&(t.WhammyRecorder=_e);/**
 * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
 * @summary A real time javascript webm encoder based on a canvas hack.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef Whammy
 * @class
 * @example
 * var recorder = new Whammy().Video(15);
 * recorder.add(context || canvas || dataURL);
 * var output = recorder.compile();
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var L=function(){function v(f){this.frames=[],this.duration=f||1,this.quality=.8}v.prototype.add=function(f,o){if("canvas"in f&&(f=f.canvas),"toDataURL"in f&&(f=f.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/ig.test(f))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:f,duration:o||this.duration})};function a(f){var o=b.createObjectURL(new Blob([f.toString(),"this.onmessage =  function (eee) {"+f.name+"(eee.data);}"],{type:"application/javascript"})),h=new Worker(o);return b.revokeObjectURL(o),h}function n(f){function o(D){var he=O(D);if(!he)return[];for(var u=3e4,l=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:X(he.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:he.width,id:176},{data:he.height,id:186}]}]}]}]}],G=0,z=0;G<D.length;){var ce=[],Re=0;do ce.push(D[G]),Re+=D[G].duration,G++;while(G<D.length&&Re<u);var me=0,Se={id:524531317,data:h(z,me,ce)};l[1].data.push(Se),z+=Re}return $(l)}function h(D,he,u){return[{data:D,id:231}].concat(u.map(function(l){var G=se({discardable:0,frame:l.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(he)});return he+=l.duration,{data:G,id:163}}))}function O(D){if(!D[0]){postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});return}for(var he=D[0].width,u=D[0].height,l=D[0].duration,G=1;G<D.length;G++)l+=D[G].duration;return{duration:l,width:he,height:u}}function I(D){for(var he=[];D>0;)he.push(D&255),D=D>>8;return new Uint8Array(he.reverse())}function H(D){return new Uint8Array(D.split("").map(function(he){return he.charCodeAt(0)}))}function C(D){var he=[],u=D.length%8?new Array(9-D.length%8).join("0"):"";D=u+D;for(var l=0;l<D.length;l+=8)he.push(parseInt(D.substr(l,8),2));return new Uint8Array(he)}function $(D){for(var he=[],u=0;u<D.length;u++){var l=D[u].data;typeof l=="object"&&(l=$(l)),typeof l=="number"&&(l=C(l.toString(2))),typeof l=="string"&&(l=H(l));var G=l.size||l.byteLength||l.length,z=Math.ceil(Math.ceil(Math.log(G)/Math.log(2))/8),ce=G.toString(2),Re=new Array(z*7+7+1-ce.length).join("0")+ce,me=new Array(z).join("0")+"1"+Re;he.push(I(D[u].id)),he.push(C(me)),he.push(l)}return new Blob(he,{type:"video/webm"})}function se(D){var he=0;if(D.keyframe&&(he|=128),D.invisible&&(he|=8),D.lacing&&(he|=D.lacing<<1),D.discardable&&(he|=1),D.trackNum>127)throw"TrackNumber > 127 not supported";var u=[D.trackNum|128,D.timecode>>8,D.timecode&255,he].map(function(l){return String.fromCharCode(l)}).join("")+D.frame;return u}function ve(D){for(var he=D.RIFF[0].WEBP[0],u=he.indexOf("*"),l=0,G=[];l<4;l++)G[l]=he.charCodeAt(u+3+l);var z,ce,Re;return Re=G[1]<<8|G[0],z=Re&16383,Re=G[3]<<8|G[2],ce=Re&16383,{width:z,height:ce,data:he,riff:D}}function y(D,he){return parseInt(D.substr(he+4,4).split("").map(function(u){var l=u.charCodeAt(0).toString(2);return new Array(8-l.length+1).join("0")+l}).join(""),2)}function A(D){for(var he=0,u={};he<D.length;){var l=D.substr(he,4),G=y(D,he),z=D.substr(he+4+4,G);he+=8+G,u[l]=u[l]||[],l==="RIFF"||l==="LIST"?u[l].push(A(z)):u[l].push(z)}return u}function X(D){return[].slice.call(new Uint8Array(new Float64Array([D]).buffer),0).map(function(he){return String.fromCharCode(he)}).reverse().join("")}var J=new o(f.map(function(D){var he=ve(A(atob(D.image.slice(23))));return he.duration=D.duration,he}));postMessage(J)}return v.prototype.compile=function(f){var o=a(n);o.onmessage=function(h){if(h.data.error){console.error(h.data.error);return}f(h.data)},o.postMessage(this.frames)},{Video:v}}();typeof t<"u"&&(t.Whammy=L);/**
 * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
 * @summary Writing blobs into IndexedDB.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @example
 * DiskStorage.Store({
 *     audioBlob: yourAudioBlob,
 *     videoBlob: yourVideoBlob,
 *     gifBlob  : yourGifBlob
 * });
 * DiskStorage.Fetch(function(dataURL, type) {
 *     if(type === 'audioBlob') { }
 *     if(type === 'videoBlob') { }
 *     if(type === 'gifBlob')   { }
 * });
 * // DiskStorage.dataStoreName = 'recordRTC';
 * // DiskStorage.onError = function(error) { };
 * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 * @property {function} Store - This method stores blobs in IndexedDB.
 * @property {function} onError - This function is invoked for any known/unknown error.
 * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 */var d={init:function(){var v=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u"){console.error("IndexedDB API are not available in this browser.");return}var a=1,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),f,o=indexedDB.open(n,a);function h(I){I.createObjectStore(v.dataStoreName)}function O(){var I=f.transaction([v.dataStoreName],"readwrite");v.videoBlob&&I.objectStore(v.dataStoreName).put(v.videoBlob,"videoBlob"),v.gifBlob&&I.objectStore(v.dataStoreName).put(v.gifBlob,"gifBlob"),v.audioBlob&&I.objectStore(v.dataStoreName).put(v.audioBlob,"audioBlob");function H(C){I.objectStore(v.dataStoreName).get(C).onsuccess=function($){v.callback&&v.callback($.target.result,C)}}H("audioBlob"),H("videoBlob"),H("gifBlob")}o.onerror=v.onError,o.onsuccess=function(){if(f=o.result,f.onerror=v.onError,f.setVersion)if(f.version!==a){var I=f.setVersion(a);I.onsuccess=function(){h(f),O()}}else O();else O()},o.onupgradeneeded=function(I){h(I.target.result)}},Fetch:function(v){return this.callback=v,this.init(),this},Store:function(v){return this.audioBlob=v.audioBlob,this.videoBlob=v.videoBlob,this.gifBlob=v.gifBlob,this.init(),this},onError:function(v){console.error(JSON.stringify(v,null,"	"))},dataStoreName:"recordRTC",dbName:null};typeof t<"u"&&(t.DiskStorage=d);/**
 * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef GifRecorder
 * @class
 * @example
 * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
 * recorder.record();
 * recorder.stop(function(blob) {
 *     img.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
 */function g(v,a){if(typeof GIFEncoder>"u"){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}a=a||{};var f=v instanceof CanvasRenderingContext2D||v instanceof HTMLCanvasElement;this.record=function(){if(typeof GIFEncoder>"u"){setTimeout(y.record,1e3);return}if(!H){setTimeout(y.record,1e3);return}f||(a.width||(a.width=C.offsetWidth||320),a.height||(a.height=C.offsetHeight||240),a.video||(a.video={width:a.width,height:a.height}),a.canvas||(a.canvas={width:a.width,height:a.height}),O.width=a.canvas.width||320,O.height=a.canvas.height||240,C.width=a.video.width||320,C.height=a.video.height||240),ve=new GIFEncoder,ve.setRepeat(0),ve.setDelay(a.frameRate||200),ve.setQuality(a.quality||10),ve.start(),typeof a.onGifRecordingStarted=="function"&&a.onGifRecordingStarted();function A(X){if(y.clearedRecordedData!==!0){if(o)return setTimeout(function(){A(X)},100);$=m(A),typeof se===void 0&&(se=X),!(X-se<90)&&(!f&&C.paused&&C.play(),f||I.drawImage(C,0,0,O.width,O.height),a.onGifPreview&&a.onGifPreview(O.toDataURL("image/png")),ve.addFrame(I),se=X)}}$=m(A),a.initCallback&&a.initCallback()},this.stop=function(A){A=A||function(){},$&&E($),this.blob=new Blob([new Uint8Array(ve.stream().bin)],{type:"image/gif"}),A(this.blob),ve.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){y.clearedRecordedData=!0,h()};function h(){ve&&(ve.stream().bin=[])}this.name="GifRecorder",this.toString=function(){return this.name};var O=document.createElement("canvas"),I=O.getContext("2d");f&&(v instanceof CanvasRenderingContext2D?(I=v,O=I.canvas):v instanceof HTMLCanvasElement&&(I=v.getContext("2d"),O=v));var H=!0;if(!f){var C=document.createElement("video");C.muted=!0,C.autoplay=!0,C.playsInline=!0,H=!1,C.onloadedmetadata=function(){H=!0},s(v,C),C.play()}var $=null,se,ve,y=this}typeof t<"u"&&(t.GifRecorder=g);function j(v,a){var n="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";(function(l){typeof t<"u"||l&&(typeof window<"u"||typeof tt>"u"||(tt.navigator={userAgent:n,getUserMedia:function(){}},tt.console||(tt.console={}),(typeof tt.console.log>"u"||typeof tt.console.error>"u")&&(tt.console.error=tt.console.log=tt.console.log||function(){console.log(arguments)}),typeof document>"u"&&(l.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var G={getContext:function(){return G},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return G},l.HTMLVideoElement=function(){}),typeof location>"u"&&(l.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(l.screen={width:0,height:0}),typeof C>"u"&&(l.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),l.window=tt))})(typeof tt<"u"?tt:null),a=a||"multi-streams-mixer";var f=[],o=!1,h=document.createElement("canvas"),O=h.getContext("2d");h.style.opacity=0,h.style.position="absolute",h.style.zIndex=-1,h.style.top="-1000em",h.style.left="-1000em",h.className=a,(document.body||document.documentElement).appendChild(h),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var I=this,H=window.AudioContext;typeof H>"u"&&(typeof webkitAudioContext<"u"&&(H=webkitAudioContext),typeof mozAudioContext<"u"&&(H=mozAudioContext));var C=window.URL;typeof C>"u"&&typeof webkitURL<"u"&&(C=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var $=window.MediaStream;typeof $>"u"&&typeof webkitMediaStream<"u"&&($=webkitMediaStream),typeof $<"u"&&typeof $.prototype.stop>"u"&&($.prototype.stop=function(){this.getTracks().forEach(function(l){l.stop()})});var se={};typeof H<"u"?se.AudioContext=H:typeof webkitAudioContext<"u"&&(se.AudioContext=webkitAudioContext);function ve(l,G){"srcObject"in G?G.srcObject=l:"mozSrcObject"in G?G.mozSrcObject=l:G.srcObject=l}this.startDrawingFrames=function(){y()};function y(){if(!o){var l=f.length,G=!1,z=[];if(f.forEach(function(Re){Re.stream||(Re.stream={}),Re.stream.fullcanvas?G=Re:z.push(Re)}),G)h.width=G.stream.width,h.height=G.stream.height;else if(z.length){h.width=l>1?z[0].width*2:z[0].width;var ce=1;(l===3||l===4)&&(ce=2),(l===5||l===6)&&(ce=3),(l===7||l===8)&&(ce=4),(l===9||l===10)&&(ce=5),h.height=z[0].height*ce}else h.width=I.width||360,h.height=I.height||240;G&&G instanceof HTMLVideoElement&&A(G),z.forEach(function(Re,me){A(Re,me)}),setTimeout(y,I.frameInterval)}}function A(l,G){if(!o){var z=0,ce=0,Re=l.width,me=l.height;G===1&&(z=l.width),G===2&&(ce=l.height),G===3&&(z=l.width,ce=l.height),G===4&&(ce=l.height*2),G===5&&(z=l.width,ce=l.height*2),G===6&&(ce=l.height*3),G===7&&(z=l.width,ce=l.height*3),typeof l.stream.left<"u"&&(z=l.stream.left),typeof l.stream.top<"u"&&(ce=l.stream.top),typeof l.stream.width<"u"&&(Re=l.stream.width),typeof l.stream.height<"u"&&(me=l.stream.height),O.drawImage(l,z,ce,Re,me),typeof l.stream.onRender=="function"&&l.stream.onRender(O,z,ce,Re,me,G)}}function X(){o=!1;var l=J(),G=D();return G&&G.getTracks().filter(function(z){return z.kind==="audio"}).forEach(function(z){l.addTrack(z)}),v.forEach(function(z){z.fullcanvas}),l}function J(){u();var l;"captureStream"in h?l=h.captureStream():"mozCaptureStream"in h?l=h.mozCaptureStream():I.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var G=new $;return l.getTracks().filter(function(z){return z.kind==="video"}).forEach(function(z){G.addTrack(z)}),h.stream=G,G}function D(){se.AudioContextConstructor||(se.AudioContextConstructor=new se.AudioContext),I.audioContext=se.AudioContextConstructor,I.audioSources=[],I.useGainNode===!0&&(I.gainNode=I.audioContext.createGain(),I.gainNode.connect(I.audioContext.destination),I.gainNode.gain.value=0);var l=0;if(v.forEach(function(G){if(G.getTracks().filter(function(ce){return ce.kind==="audio"}).length){l++;var z=I.audioContext.createMediaStreamSource(G);I.useGainNode===!0&&z.connect(I.gainNode),I.audioSources.push(z)}}),!!l)return I.audioDestination=I.audioContext.createMediaStreamDestination(),I.audioSources.forEach(function(G){G.connect(I.audioDestination)}),I.audioDestination.stream}function he(l){var G=document.createElement("video");return ve(l,G),G.className=a,G.muted=!0,G.volume=0,G.width=l.width||I.width||360,G.height=l.height||I.height||240,G.play(),G}this.appendStreams=function(l){if(!l)throw"First parameter is required.";l instanceof Array||(l=[l]),l.forEach(function(G){var z=new $;if(G.getTracks().filter(function(me){return me.kind==="video"}).length){var ce=he(G);ce.stream=G,f.push(ce),z.addTrack(G.getTracks().filter(function(me){return me.kind==="video"})[0])}if(G.getTracks().filter(function(me){return me.kind==="audio"}).length){var Re=I.audioContext.createMediaStreamSource(G);I.audioDestination=I.audioContext.createMediaStreamDestination(),Re.connect(I.audioDestination),z.addTrack(I.audioDestination.stream.getTracks().filter(function(me){return me.kind==="audio"})[0])}v.push(z)})},this.releaseStreams=function(){f=[],o=!0,I.gainNode&&(I.gainNode.disconnect(),I.gainNode=null),I.audioSources.length&&(I.audioSources.forEach(function(l){l.disconnect()}),I.audioSources=[]),I.audioDestination&&(I.audioDestination.disconnect(),I.audioDestination=null),I.audioContext&&I.audioContext.close(),I.audioContext=null,O.clearRect(0,0,h.width,h.height),h.stream&&(h.stream.stop(),h.stream=null)},this.resetVideoStreams=function(l){l&&!(l instanceof Array)&&(l=[l]),u(l)};function u(l){f=[],l=l||v,l.forEach(function(G){if(G.getTracks().filter(function(ce){return ce.kind==="video"}).length){var z=he(G);z.stream=G,f.push(z)}})}this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=X}typeof t>"u"&&(e.exports=j);/**
 * MultiStreamRecorder can record multiple videos in single container.
 * @summary Multi-videos recorder.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef MultiStreamRecorder
 * @class
 * @example
 * var options = {
 *     mimeType: 'video/webm'
 * }
 * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 *
 *     // or
 *     var blob = recorder.blob;
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStreams} mediaStreams - Array of MediaStreams.
 * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
 */function Z(v,a){v=v||[];var n=this,f,o;a=a||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}},a.frameInterval||(a.frameInterval=10),a.video||(a.video={}),a.video.width||(a.video.width=360),a.video.height||(a.video.height=240),this.record=function(){f=new j(v,a.elementClass||"multi-streams-mixer"),h().length&&(f.frameInterval=a.frameInterval||10,f.width=a.video.width||360,f.height=a.video.height||240,f.startDrawingFrames()),a.previewStream&&typeof a.previewStream=="function"&&a.previewStream(f.getMixedStream()),o=new W(f.getMixedStream(),a),o.record()};function h(){var O=[];return v.forEach(function(I){B(I,"video").forEach(function(H){O.push(H)})}),O}this.stop=function(O){o&&o.stop(function(I){n.blob=I,O(I),n.clearRecordedData()})},this.pause=function(){o&&o.pause()},this.resume=function(){o&&o.resume()},this.clearRecordedData=function(){o&&(o.clearRecordedData(),o=null),f&&(f.releaseStreams(),f=null)},this.addStreams=function(O){if(!O)throw"First parameter is required.";O instanceof Array||(O=[O]),v.concat(O),!(!o||!f)&&(f.appendStreams(O),a.previewStream&&typeof a.previewStream=="function"&&a.previewStream(f.getMixedStream()))},this.resetVideoStreams=function(O){f&&(O&&!(O instanceof Array)&&(O=[O]),f.resetVideoStreams(O))},this.getMixer=function(){return f},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}typeof t<"u"&&(t.MultiStreamRecorder=Z);/**
 * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
 * @summary Promises for {@link RecordRTC}
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef RecordRTCPromisesHandler
 * @class
 * @example
 * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
 * recorder.startRecording()
 *         .then(successCB)
 *         .catch(errorCB);
 * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
 * recorder.recordRTC.onStateChanged = function(state) {};
 * recorder.recordRTC.setRecordingDuration(5000);
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
 * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
 * @requires {@link RecordRTC}
 */function q(v,a){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof v>"u")throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new t(v,a),this.startRecording=function(){return new Promise(function(f,o){try{n.recordRTC.startRecording(),f()}catch(h){o(h)}})},this.stopRecording=function(){return new Promise(function(f,o){try{n.recordRTC.stopRecording(function(h){if(n.blob=n.recordRTC.getBlob(),!n.blob||!n.blob.size){o("Empty blob.",n.blob);return}f(h)})}catch(h){o(h)}})},this.pauseRecording=function(){return new Promise(function(f,o){try{n.recordRTC.pauseRecording(),f()}catch(h){o(h)}})},this.resumeRecording=function(){return new Promise(function(f,o){try{n.recordRTC.resumeRecording(),f()}catch(h){o(h)}})},this.getDataURL=function(f){return new Promise(function(o,h){try{n.recordRTC.getDataURL(function(O){o(O)})}catch(O){h(O)}})},this.getBlob=function(){return new Promise(function(f,o){try{f(n.recordRTC.getBlob())}catch(h){o(h)}})},this.getInternalRecorder=function(){return new Promise(function(f,o){try{f(n.recordRTC.getInternalRecorder())}catch(h){o(h)}})},this.reset=function(){return new Promise(function(f,o){try{f(n.recordRTC.reset())}catch(h){o(h)}})},this.destroy=function(){return new Promise(function(f,o){try{f(n.recordRTC.destroy())}catch(h){o(h)}})},this.getState=function(){return new Promise(function(f,o){try{f(n.recordRTC.getState())}catch(h){o(h)}})},this.blob=null,this.version="5.6.2"}typeof t<"u"&&(t.RecordRTCPromisesHandler=q);/**
 * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
 * @summary Video recording feature in Chrome, Firefox and maybe Edge.
 * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
 * @author {@link https://MuazKhan.com|Muaz Khan}
 * @typedef WebAssemblyRecorder
 * @class
 * @example
 * var recorder = new WebAssemblyRecorder(mediaStream);
 * recorder.record();
 * recorder.stop(function(blob) {
 *     video.src = URL.createObjectURL(blob);
 * });
 * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
 */function le(v,a){(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),a=a||{},a.width=a.width||640,a.height=a.height||480,a.frameRate=a.frameRate||30,a.bitrate=a.bitrate||1200,a.realtime=a.realtime||!0;var n;function f(){return new ReadableStream({start:function(C){var $=document.createElement("canvas"),se=document.createElement("video"),ve=!0;se.srcObject=v,se.muted=!0,se.height=a.height,se.width=a.width,se.volume=0,se.onplaying=function(){$.width=a.width,$.height=a.height;var y=$.getContext("2d"),A=1e3/a.frameRate,X=setInterval(function(){if(n&&(clearInterval(X),C.close()),ve&&(ve=!1,a.onVideoProcessStarted&&a.onVideoProcessStarted()),y.drawImage(se,0,0),C._controlledReadableStream.state!=="closed")try{C.enqueue(y.getImageData(0,0,a.width,a.height))}catch{}},A)},se.play()}})}var o;function h(C,$){if(!a.workerPath&&!$){n=!1,fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(ve){ve.arrayBuffer().then(function(y){h(C,y)})});return}if(!a.workerPath&&$ instanceof ArrayBuffer){var se=new Blob([$],{type:"text/javascript"});a.workerPath=b.createObjectURL(se)}a.workerPath||console.error("workerPath parameter is missing."),o=new Worker(a.workerPath),o.postMessage(a.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),o.addEventListener("message",function(ve){ve.data==="READY"?(o.postMessage({width:a.width,height:a.height,bitrate:a.bitrate||1200,timebaseDen:a.frameRate||30,realtime:a.realtime}),f().pipeTo(new WritableStream({write:function(y){if(n){console.error("Got image, but recorder is finished!");return}o.postMessage(y.data.buffer,[y.data.buffer])}}))):ve.data&&(O||H.push(ve.data))})}this.record=function(){H=[],O=!1,this.blob=null,h(v),typeof a.initCallback=="function"&&a.initCallback()};var O;this.pause=function(){O=!0},this.resume=function(){O=!1};function I(C){if(!o){C&&C();return}o.addEventListener("message",function($){$.data===null&&(o.terminate(),o=null,C&&C())}),o.postMessage(null)}var H=[];this.stop=function(C){n=!0;var $=this;I(function(){$.blob=new Blob(H,{type:"video/webm"}),C($.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){H=[],O=!1,this.blob=null},this.blob=null}typeof t<"u"&&(t.WebAssemblyRecorder=le)})(Cs);var Sl=Cs.exports;const oi=wl(Sl);var pn={};function xl(e){return new Int8Array(e)}function Is(e){return new Int16Array(e)}function Ls(e){return new Int32Array(e)}function Os(e){return new Float32Array(e)}function Al(e){return new Float64Array(e)}function Fs(e){if(e.length==1)return Os(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(Fs(e));return r}function Ns(e){if(e.length==1)return Ls(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(Ns(e));return r}function ks(e){if(e.length==1)return Is(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(ks(e));return r}function gs(e){if(e.length==1)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(gs(e));return r}var Vs={};Vs.fill=function(e,t,r,i){if(arguments.length==2)for(var _=0;_<e.length;_++)e[_]=arguments[1];else for(var _=t;_<r;_++)e[_]=i};var Rr={};Rr.arraycopy=function(e,t,r,i,_){for(var c=t+_;t<c;)r[i++]=e[t++]};Rr.out={};Rr.out.println=function(e){console.log(e)};Rr.out.printf=function(){console.log.apply(console,arguments)};var na={};na.SQRT2=1.4142135623730951;na.FAST_LOG10=function(e){return Math.log10(e)};na.FAST_LOG10_X=function(e,t){return Math.log10(e)*t};function h0(e){this.ordinal=e}h0.short_block_allowed=new h0(0);h0.short_block_coupled=new h0(1);h0.short_block_dispensed=new h0(2);h0.short_block_forced=new h0(3);var Hs={};Hs.MAX_VALUE=34028235e31;function Gt(e){this.ordinal=e}Gt.vbr_off=new Gt(0);Gt.vbr_mt=new Gt(1);Gt.vbr_rh=new Gt(2);Gt.vbr_abr=new Gt(3);Gt.vbr_mtrh=new Gt(4);Gt.vbr_default=Gt.vbr_mtrh;var Ml=function(e){},at={System:Rr,VbrMode:Gt,Float:Hs,ShortBlock:h0,Util:na,Arrays:Vs,new_array_n:gs,new_byte:xl,new_double:Al,new_float:Os,new_float_n:Fs,new_int:Ls,new_int_n:Ns,new_short:Is,new_short_n:ks,assert:Ml},Ta,li;function Tl(){if(li)return Ta;li=1;var e=at,t=e.System;e.VbrMode,e.Float,e.ShortBlock;var r=e.Util,i=e.Arrays;e.new_array_n,e.new_byte,e.new_double;var _=e.new_float;e.new_float_n,e.new_int,e.new_int_n,e.assert;var c=ht();function m(){var w=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*r.SQRT2*.5/2384e-9,.017876148*r.SQRT2*.5/2384e-9,.003134727*r.SQRT2*.5/2384e-9,.002457142*r.SQRT2*.5/2384e-9,971317e-9*r.SQRT2*.5/2384e-9,218868e-9*r.SQRT2*.5/2384e-9,101566e-9*r.SQRT2*.5/2384e-9,13828e-9*r.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],E=12,Q=36,b=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],R=b[c.SHORT_TYPE],U=b[c.SHORT_TYPE],fe=b[c.SHORT_TYPE],re=b[c.SHORT_TYPE],oe=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function ne(T,B,s){for(var p=10,N=B+238-14-286,K=-15;K<0;K++){var W,Y,ie;W=w[p+-10],Y=T[N+-224]*W,ie=T[B+224]*W,W=w[p+-9],Y+=T[N+-160]*W,ie+=T[B+160]*W,W=w[p+-8],Y+=T[N+-96]*W,ie+=T[B+96]*W,W=w[p+-7],Y+=T[N+-32]*W,ie+=T[B+32]*W,W=w[p+-6],Y+=T[N+32]*W,ie+=T[B+-32]*W,W=w[p+-5],Y+=T[N+96]*W,ie+=T[B+-96]*W,W=w[p+-4],Y+=T[N+160]*W,ie+=T[B+-160]*W,W=w[p+-3],Y+=T[N+224]*W,ie+=T[B+-224]*W,W=w[p+-2],Y+=T[B+-256]*W,ie-=T[N+256]*W,W=w[p+-1],Y+=T[B+-192]*W,ie-=T[N+192]*W,W=w[p+0],Y+=T[B+-128]*W,ie-=T[N+128]*W,W=w[p+1],Y+=T[B+-64]*W,ie-=T[N+64]*W,W=w[p+2],Y+=T[B+0]*W,ie-=T[N+0]*W,W=w[p+3],Y+=T[B+64]*W,ie-=T[N+-64]*W,W=w[p+4],Y+=T[B+128]*W,ie-=T[N+-128]*W,W=w[p+5],Y+=T[B+192]*W,ie-=T[N+-192]*W,Y*=w[p+6],W=ie-Y,s[30+K*2]=ie+Y,s[31+K*2]=w[p+7]*W,p+=18,B--,N++}{var Y,ie,_e,L;ie=T[B+-16]*w[p+-10],Y=T[B+-32]*w[p+-2],ie+=(T[B+-48]-T[B+16])*w[p+-9],Y+=T[B+-96]*w[p+-1],ie+=(T[B+-80]+T[B+48])*w[p+-8],Y+=T[B+-160]*w[p+0],ie+=(T[B+-112]-T[B+80])*w[p+-7],Y+=T[B+-224]*w[p+1],ie+=(T[B+-144]+T[B+112])*w[p+-6],Y-=T[B+32]*w[p+2],ie+=(T[B+-176]-T[B+144])*w[p+-5],Y-=T[B+96]*w[p+3],ie+=(T[B+-208]+T[B+176])*w[p+-4],Y-=T[B+160]*w[p+4],ie+=(T[B+-240]-T[B+208])*w[p+-3],Y-=T[B+224],_e=Y-ie,L=Y+ie,ie=s[14],Y=s[15]-ie,s[31]=L+ie,s[30]=_e+Y,s[15]=_e-Y,s[14]=L-ie}{var d;d=s[28]-s[0],s[0]+=s[28],s[28]=d*w[p+-2*18+7],d=s[29]-s[1],s[1]+=s[29],s[29]=d*w[p+-2*18+7],d=s[26]-s[2],s[2]+=s[26],s[26]=d*w[p+-4*18+7],d=s[27]-s[3],s[3]+=s[27],s[27]=d*w[p+-4*18+7],d=s[24]-s[4],s[4]+=s[24],s[24]=d*w[p+-6*18+7],d=s[25]-s[5],s[5]+=s[25],s[25]=d*w[p+-6*18+7],d=s[22]-s[6],s[6]+=s[22],s[22]=d*r.SQRT2,d=s[23]-s[7],s[7]+=s[23],s[23]=d*r.SQRT2-s[7],s[7]-=s[6],s[22]-=s[7],s[23]-=s[22],d=s[6],s[6]=s[31]-d,s[31]=s[31]+d,d=s[7],s[7]=s[30]-d,s[30]=s[30]+d,d=s[22],s[22]=s[15]-d,s[15]=s[15]+d,d=s[23],s[23]=s[14]-d,s[14]=s[14]+d,d=s[20]-s[8],s[8]+=s[20],s[20]=d*w[p+-10*18+7],d=s[21]-s[9],s[9]+=s[21],s[21]=d*w[p+-10*18+7],d=s[18]-s[10],s[10]+=s[18],s[18]=d*w[p+-12*18+7],d=s[19]-s[11],s[11]+=s[19],s[19]=d*w[p+-12*18+7],d=s[16]-s[12],s[12]+=s[16],s[16]=d*w[p+-14*18+7],d=s[17]-s[13],s[13]+=s[17],s[17]=d*w[p+-14*18+7],d=-s[20]+s[24],s[20]+=s[24],s[24]=d*w[p+-12*18+7],d=-s[21]+s[25],s[21]+=s[25],s[25]=d*w[p+-12*18+7],d=s[4]-s[8],s[4]+=s[8],s[8]=d*w[p+-12*18+7],d=s[5]-s[9],s[5]+=s[9],s[9]=d*w[p+-12*18+7],d=s[0]-s[12],s[0]+=s[12],s[12]=d*w[p+-4*18+7],d=s[1]-s[13],s[1]+=s[13],s[13]=d*w[p+-4*18+7],d=s[16]-s[28],s[16]+=s[28],s[28]=d*w[p+-4*18+7],d=-s[17]+s[29],s[17]+=s[29],s[29]=d*w[p+-4*18+7],d=r.SQRT2*(s[2]-s[10]),s[2]+=s[10],s[10]=d,d=r.SQRT2*(s[3]-s[11]),s[3]+=s[11],s[11]=d,d=r.SQRT2*(-s[18]+s[26]),s[18]+=s[26],s[26]=d-s[18],d=r.SQRT2*(-s[19]+s[27]),s[19]+=s[27],s[27]=d-s[19],d=s[2],s[19]-=s[3],s[3]-=d,s[2]=s[31]-d,s[31]+=d,d=s[3],s[11]-=s[19],s[18]-=d,s[3]=s[30]-d,s[30]+=d,d=s[18],s[27]-=s[11],s[19]-=d,s[18]=s[15]-d,s[15]+=d,d=s[19],s[10]-=d,s[19]=s[14]-d,s[14]+=d,d=s[10],s[11]-=d,s[10]=s[23]-d,s[23]+=d,d=s[11],s[26]-=d,s[11]=s[22]-d,s[22]+=d,d=s[26],s[27]-=d,s[26]=s[7]-d,s[7]+=d,d=s[27],s[27]=s[6]-d,s[6]+=d,d=r.SQRT2*(s[0]-s[4]),s[0]+=s[4],s[4]=d,d=r.SQRT2*(s[1]-s[5]),s[1]+=s[5],s[5]=d,d=r.SQRT2*(s[16]-s[20]),s[16]+=s[20],s[20]=d,d=r.SQRT2*(s[17]-s[21]),s[17]+=s[21],s[21]=d,d=-r.SQRT2*(s[8]-s[12]),s[8]+=s[12],s[12]=d-s[8],d=-r.SQRT2*(s[9]-s[13]),s[9]+=s[13],s[13]=d-s[9],d=-r.SQRT2*(s[25]-s[29]),s[25]+=s[29],s[29]=d-s[25],d=-r.SQRT2*(s[24]+s[28]),s[24]-=s[28],s[28]=d-s[24],d=s[24]-s[16],s[24]=d,d=s[20]-d,s[20]=d,d=s[28]-d,s[28]=d,d=s[25]-s[17],s[25]=d,d=s[21]-d,s[21]=d,d=s[29]-d,s[29]=d,d=s[17]-s[1],s[17]=d,d=s[9]-d,s[9]=d,d=s[25]-d,s[25]=d,d=s[5]-d,s[5]=d,d=s[21]-d,s[21]=d,d=s[13]-d,s[13]=d,d=s[29]-d,s[29]=d,d=s[1]-s[0],s[1]=d,d=s[16]-d,s[16]=d,d=s[17]-d,s[17]=d,d=s[8]-d,s[8]=d,d=s[9]-d,s[9]=d,d=s[24]-d,s[24]=d,d=s[25]-d,s[25]=d,d=s[4]-d,s[4]=d,d=s[5]-d,s[5]=d,d=s[20]-d,s[20]=d,d=s[21]-d,s[21]=d,d=s[12]-d,s[12]=d,d=s[13]-d,s[13]=d,d=s[28]-d,s[28]=d,d=s[29]-d,s[29]=d,d=s[0],s[0]+=s[31],s[31]-=d,d=s[1],s[1]+=s[30],s[30]-=d,d=s[16],s[16]+=s[15],s[15]-=d,d=s[17],s[17]+=s[14],s[14]-=d,d=s[8],s[8]+=s[23],s[23]-=d,d=s[9],s[9]+=s[22],s[22]-=d,d=s[24],s[24]+=s[7],s[7]-=d,d=s[25],s[25]+=s[6],s[6]-=d,d=s[4],s[4]+=s[27],s[27]-=d,d=s[5],s[5]+=s[26],s[26]-=d,d=s[20],s[20]+=s[11],s[11]-=d,d=s[21],s[21]+=s[10],s[10]-=d,d=s[12],s[12]+=s[19],s[19]-=d,d=s[13],s[13]+=s[18],s[18]-=d,d=s[28],s[28]+=s[3],s[3]-=d,d=s[29],s[29]+=s[2],s[2]-=d}}function k(T,B){for(var s=0;s<3;s++){var p,N,K,W,Y,ie;W=T[B+2*3]*b[c.SHORT_TYPE][0]-T[B+5*3],p=T[B+0*3]*b[c.SHORT_TYPE][2]-T[B+3*3],N=W+p,K=W-p,W=T[B+5*3]*b[c.SHORT_TYPE][0]+T[B+2*3],p=T[B+3*3]*b[c.SHORT_TYPE][2]+T[B+0*3],Y=W+p,ie=-W+p,p=(T[B+1*3]*b[c.SHORT_TYPE][1]-T[B+4*3])*2069978111953089e-26,W=(T[B+4*3]*b[c.SHORT_TYPE][1]+T[B+1*3])*2069978111953089e-26,T[B+3*0]=N*190752519173728e-25+p,T[B+3*5]=-Y*190752519173728e-25+W,K=K*.8660254037844387*1907525191737281e-26,Y=Y*.5*1907525191737281e-26+W,T[B+3*1]=K-Y,T[B+3*2]=K+Y,N=N*.5*1907525191737281e-26-p,ie=ie*.8660254037844387*1907525191737281e-26,T[B+3*3]=N+ie,T[B+3*4]=N-ie,B++}}function M(T,B,s){var p,N;{var K,W,Y,ie,_e,L,d,g;K=s[17]-s[9],Y=s[15]-s[11],ie=s[14]-s[12],_e=s[0]+s[8],L=s[1]+s[7],d=s[2]+s[6],g=s[3]+s[5],T[B+17]=_e+d-g-(L-s[4]),N=(_e+d-g)*U[19]+(L-s[4]),p=(K-Y-ie)*U[18],T[B+5]=p+N,T[B+6]=p-N,W=(s[16]-s[10])*U[18],L=L*U[19]+s[4],p=K*U[12]+W+Y*U[13]+ie*U[14],N=-_e*U[16]+L-d*U[17]+g*U[15],T[B+1]=p+N,T[B+2]=p-N,p=K*U[13]-W-Y*U[14]+ie*U[12],N=-_e*U[17]+L-d*U[15]+g*U[16],T[B+9]=p+N,T[B+10]=p-N,p=K*U[14]-W+Y*U[12]-ie*U[13],N=_e*U[15]-L+d*U[16]-g*U[17],T[B+13]=p+N,T[B+14]=p-N}{var j,Z,q,le,v,a,n,f;j=s[8]-s[0],q=s[6]-s[2],le=s[5]-s[3],v=s[17]+s[9],a=s[16]+s[10],n=s[15]+s[11],f=s[14]+s[12],T[B+0]=v+n+f+(a+s[13]),p=(v+n+f)*U[19]-(a+s[13]),N=(j-q+le)*U[18],T[B+11]=p+N,T[B+12]=p-N,Z=(s[7]-s[1])*U[18],a=s[13]-a*U[19],p=v*U[15]-a+n*U[16]+f*U[17],N=j*U[14]+Z+q*U[12]+le*U[13],T[B+3]=p+N,T[B+4]=p-N,p=-v*U[17]+a-n*U[15]-f*U[16],N=j*U[13]+Z-q*U[14]-le*U[12],T[B+7]=p+N,T[B+8]=p-N,p=-v*U[16]+a-n*U[17]-f*U[15],N=j*U[12]-Z+q*U[13]-le*U[14],T[B+15]=p+N,T[B+16]=p-N}}this.mdct_sub48=function(T,B,s){for(var p=B,N=286,K=0;K<T.channels_out;K++){for(var W=0;W<T.mode_gr;W++){for(var Y,ie=T.l3_side.tt[W][K],_e=ie.xr,L=0,d=T.sb_sample[K][1-W],g=0,j=0;j<18/2;j++)for(ne(p,N,d[g]),ne(p,N+32,d[g+1]),g+=2,N+=64,Y=1;Y<32;Y+=2)d[g-1][Y]*=-1;for(Y=0;Y<32;Y++,L+=18){var Z=ie.block_type,q=T.sb_sample[K][W],le=T.sb_sample[K][1-W];if(ie.mixed_block_flag!=0&&Y<2&&(Z=0),T.amp_filter[Y]<1e-12)i.fill(_e,L+0,L+18,0);else{if(T.amp_filter[Y]<1)for(var j=0;j<18;j++)le[j][oe[Y]]*=T.amp_filter[Y];if(Z==c.SHORT_TYPE){for(var j=-E/4;j<0;j++){var v=b[c.SHORT_TYPE][j+3];_e[L+j*3+9]=q[9+j][oe[Y]]*v-q[8-j][oe[Y]],_e[L+j*3+18]=q[14-j][oe[Y]]*v+q[15+j][oe[Y]],_e[L+j*3+10]=q[15+j][oe[Y]]*v-q[14-j][oe[Y]],_e[L+j*3+19]=le[2-j][oe[Y]]*v+le[3+j][oe[Y]],_e[L+j*3+11]=le[3+j][oe[Y]]*v-le[2-j][oe[Y]],_e[L+j*3+20]=le[8-j][oe[Y]]*v+le[9+j][oe[Y]]}k(_e,L)}else{for(var a=_(18),j=-Q/4;j<0;j++){var n,f;n=b[Z][j+27]*le[j+9][oe[Y]]+b[Z][j+36]*le[8-j][oe[Y]],f=b[Z][j+9]*q[j+9][oe[Y]]-b[Z][j+18]*q[8-j][oe[Y]],a[j+9]=n-f*R[3+j+9],a[j+18]=n*R[3+j+9]+f}M(_e,L,a)}}if(Z!=c.SHORT_TYPE&&Y!=0)for(var j=7;j>=0;--j){var o,h;o=_e[L+j]*fe[20+j]+_e[L+-1-j]*re[28+j],h=_e[L+j]*re[28+j]-_e[L+-1-j]*fe[20+j],_e[L+-1-j]=o,_e[L+j]=h}}}if(p=s,N=286,T.mode_gr==1)for(var O=0;O<18;O++)t.arraycopy(T.sb_sample[K][1][O],0,T.sb_sample[K][0][O],0,32)}}}return Ta=m,Ta}var Ea,ui;function Ds(){if(ui)return Ea;ui=1;var e=ht(),t=at,r=t.System;t.VbrMode,t.Float,t.ShortBlock,t.Util,t.Arrays,t.new_array_n,t.new_byte,t.new_double;var i=t.new_float,_=t.new_float_n;t.new_int,t.new_int_n,t.assert;function c(){this.l=i(e.SBMAX_l),this.s=_([e.SBMAX_s,3]);var m=this;this.assign=function(w){r.arraycopy(w.l,0,m.l,0,e.SBMAX_l);for(var E=0;E<e.SBMAX_s;E++)for(var Q=0;Q<3;Q++)m.s[E][Q]=w.s[E][Q]}}return Ea=c,Ea}var Ba,fi;function El(){if(fi)return Ba;fi=1;var e=Ds();function t(){this.thm=new e,this.en=new e}return Ba=t,Ba}function r0(e){var t=e;this.ordinal=function(){return t}}r0.STEREO=new r0(0);r0.JOINT_STEREO=new r0(1);r0.DUAL_CHANNEL=new r0(2);r0.MONO=new r0(3);r0.NOT_SET=new r0(4);var yr=r0,Ca,_i;function ht(){if(_i)return Ca;_i=1;var e=at,t=e.System,r=e.VbrMode;e.Float,e.ShortBlock,e.Util,e.Arrays;var i=e.new_array_n;e.new_byte,e.new_double;var _=e.new_float,c=e.new_float_n,m=e.new_int;e.new_int_n;var w=e.assert;E.ENCDELAY=576,E.POSTDELAY=1152,E.MDCTDELAY=48,E.FFTOFFSET=224+E.MDCTDELAY,E.DECDELAY=528,E.SBLIMIT=32,E.CBANDS=64,E.SBPSY_l=21,E.SBPSY_s=12,E.SBMAX_l=22,E.SBMAX_s=13,E.PSFB21=6,E.PSFB12=6,E.BLKSIZE=1024,E.HBLKSIZE=E.BLKSIZE/2+1,E.BLKSIZE_s=256,E.HBLKSIZE_s=E.BLKSIZE_s/2+1,E.NORM_TYPE=0,E.START_TYPE=1,E.SHORT_TYPE=2,E.STOP_TYPE=3,E.MPG_MD_LR_LR=0,E.MPG_MD_LR_I=1,E.MPG_MD_MS_LR=2,E.MPG_MD_MS_I=3,E.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function E(){var Q=Tl(),b=El(),R=yr,U=E.FFTOFFSET,fe=E.MPG_MD_MS_LR,re=null;this.psy=null;var oe=null,ne=null,k=null;this.setModules=function(p,N,K,W){re=p,this.psy=N,oe=N,ne=W,k=K};var M=new Q;function T(p){var N,K;if(p.ATH.useAdjust==0){p.ATH.adjust=1;return}if(K=p.loudness_sq[0][0],N=p.loudness_sq[1][0],p.channels_out==2?(K+=p.loudness_sq[0][1],N+=p.loudness_sq[1][1]):(K+=K,N+=N),p.mode_gr==2&&(K=Math.max(K,N)),K*=.5,K*=p.ATH.aaSensitivityP,K>.03125)p.ATH.adjust>=1?p.ATH.adjust=1:p.ATH.adjust<p.ATH.adjustLimit&&(p.ATH.adjust=p.ATH.adjustLimit),p.ATH.adjustLimit=1;else{var W=31.98*K+625e-6;p.ATH.adjust>=W?(p.ATH.adjust*=W*.075+.925,p.ATH.adjust<W&&(p.ATH.adjust=W)):p.ATH.adjustLimit>=W?p.ATH.adjust=W:p.ATH.adjust<p.ATH.adjustLimit&&(p.ATH.adjust=p.ATH.adjustLimit),p.ATH.adjustLimit=W}}function B(p){var N,K;for(w(0<=p.bitrate_index&&p.bitrate_index<16),w(0<=p.mode_ext&&p.mode_ext<4),p.bitrate_stereoMode_Hist[p.bitrate_index][4]++,p.bitrate_stereoMode_Hist[15][4]++,p.channels_out==2&&(p.bitrate_stereoMode_Hist[p.bitrate_index][p.mode_ext]++,p.bitrate_stereoMode_Hist[15][p.mode_ext]++),N=0;N<p.mode_gr;++N)for(K=0;K<p.channels_out;++K){var W=p.l3_side.tt[N][K].block_type|0;p.l3_side.tt[N][K].mixed_block_flag!=0&&(W=4),p.bitrate_blockType_Hist[p.bitrate_index][W]++,p.bitrate_blockType_Hist[p.bitrate_index][5]++,p.bitrate_blockType_Hist[15][W]++,p.bitrate_blockType_Hist[15][5]++}}function s(p,N){var K=p.internal_flags,W,Y;if(K.lame_encode_frame_init==0){var ie,_e,L=_(2014),d=_(2014);for(K.lame_encode_frame_init=1,ie=0,_e=0;ie<286+576*(1+K.mode_gr);++ie)ie<576*K.mode_gr?(L[ie]=0,K.channels_out==2&&(d[ie]=0)):(L[ie]=N[0][_e],K.channels_out==2&&(d[ie]=N[1][_e]),++_e);for(Y=0;Y<K.mode_gr;Y++)for(W=0;W<K.channels_out;W++)K.l3_side.tt[Y][W].block_type=E.SHORT_TYPE;M.mdct_sub48(K,L,d),w(576>=E.FFTOFFSET),w(K.mf_size>=E.BLKSIZE+p.framesize-E.FFTOFFSET),w(K.mf_size>=512+p.framesize-32)}}this.lame_encode_mp3_frame=function(p,N,K,W,Y,ie){var _e,L=i([2,2]);L[0][0]=new b,L[0][1]=new b,L[1][0]=new b,L[1][1]=new b;var d=i([2,2]);d[0][0]=new b,d[0][1]=new b,d[1][0]=new b,d[1][1]=new b;var g,j=[null,null],Z=p.internal_flags,q=c([2,4]),le=[.5,.5],v=[[0,0],[0,0]],a=[[0,0],[0,0]],n,f,o;if(j[0]=N,j[1]=K,Z.lame_encode_frame_init==0&&s(p,j),Z.padding=0,(Z.slot_lag-=Z.frac_SpF)<0&&(Z.slot_lag+=p.out_samplerate,Z.padding=1),Z.psymodel!=0){var h,O=[null,null],I=0,H=m(2);for(o=0;o<Z.mode_gr;o++){for(f=0;f<Z.channels_out;f++)O[f]=j[f],I=576+o*576-E.FFTOFFSET;if(p.VBR==r.vbr_mtrh||p.VBR==r.vbr_mt?h=oe.L3psycho_anal_vbr(p,O,I,o,L,d,v[o],a[o],q[o],H):h=oe.L3psycho_anal_ns(p,O,I,o,L,d,v[o],a[o],q[o],H),h!=0)return-4;for(p.mode==R.JOINT_STEREO&&(le[o]=q[o][2]+q[o][3],le[o]>0&&(le[o]=q[o][3]/le[o])),f=0;f<Z.channels_out;f++){var C=Z.l3_side.tt[o][f];C.block_type=H[f],C.mixed_block_flag=0}}}else for(o=0;o<Z.mode_gr;o++)for(f=0;f<Z.channels_out;f++)Z.l3_side.tt[o][f].block_type=E.NORM_TYPE,Z.l3_side.tt[o][f].mixed_block_flag=0,a[o][f]=v[o][f]=700;if(T(Z),M.mdct_sub48(Z,j[0],j[1]),Z.mode_ext=E.MPG_MD_LR_LR,p.force_ms)Z.mode_ext=E.MPG_MD_MS_LR;else if(p.mode==R.JOINT_STEREO){var $=0,se=0;for(o=0;o<Z.mode_gr;o++)for(f=0;f<Z.channels_out;f++)$+=a[o][f],se+=v[o][f];if($<=1*se){var ve=Z.l3_side.tt[0],y=Z.l3_side.tt[Z.mode_gr-1];ve[0].block_type==ve[1].block_type&&y[0].block_type==y[1].block_type&&(Z.mode_ext=E.MPG_MD_MS_LR)}}if(Z.mode_ext==fe?(g=d,n=a):(g=L,n=v),p.analysis&&Z.pinfo!=null)for(o=0;o<Z.mode_gr;o++)for(f=0;f<Z.channels_out;f++)Z.pinfo.ms_ratio[o]=Z.ms_ratio[o],Z.pinfo.ms_ener_ratio[o]=le[o],Z.pinfo.blocktype[o][f]=Z.l3_side.tt[o][f].block_type,Z.pinfo.pe[o][f]=n[o][f],t.arraycopy(Z.l3_side.tt[o][f].xr,0,Z.pinfo.xr[o][f],0,576),Z.mode_ext==fe&&(Z.pinfo.ers[o][f]=Z.pinfo.ers[o][f+2],t.arraycopy(Z.pinfo.energy[o][f+2],0,Z.pinfo.energy[o][f],0,Z.pinfo.energy[o][f].length));if(p.VBR==r.vbr_off||p.VBR==r.vbr_abr){var A,X;for(A=0;A<18;A++)Z.nsPsy.pefirbuf[A]=Z.nsPsy.pefirbuf[A+1];for(X=0,o=0;o<Z.mode_gr;o++)for(f=0;f<Z.channels_out;f++)X+=n[o][f];for(Z.nsPsy.pefirbuf[18]=X,X=Z.nsPsy.pefirbuf[9],A=0;A<9;A++)X+=(Z.nsPsy.pefirbuf[A]+Z.nsPsy.pefirbuf[18-A])*E.fircoef[A];for(X=670*5*Z.mode_gr*Z.channels_out/X,o=0;o<Z.mode_gr;o++)for(f=0;f<Z.channels_out;f++)n[o][f]*=X}if(Z.iteration_loop.iteration_loop(p,n,le,g),re.format_bitstream(p),_e=re.copy_buffer(Z,W,Y,ie,1),p.bWriteVbrTag&&ne.addVbrFrame(p),p.analysis&&Z.pinfo!=null){for(f=0;f<Z.channels_out;f++){var J;for(J=0;J<U;J++)Z.pinfo.pcmdata[f][J]=Z.pinfo.pcmdata[f][J+p.framesize];for(J=U;J<1600;J++)Z.pinfo.pcmdata[f][J]=j[f][J-U]}k.set_frame_pinfo(p,g)}return B(Z),_e}}return Ca=E,Ca}var Et=at;Et.System;Et.VbrMode;Et.Float;Et.ShortBlock;var ci=Et.Util;Et.Arrays;Et.new_array_n;Et.new_byte;Et.new_double;var di=Et.new_float;Et.new_float_n;Et.new_int;Et.new_int_n;Et.assert;var ot=ht();function Bl(){var e=di(ot.BLKSIZE),t=di(ot.BLKSIZE_s/2),r=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function i(c,m,w){var E=0,Q,b,R;w<<=1;var U=m+w;Q=4;do{var fe,re,oe,ne,k,M,T;T=Q>>1,ne=Q,k=Q<<1,M=k+ne,Q=k<<1,b=m,R=b+T;do{var B,s,p,N;s=c[b+0]-c[b+ne],B=c[b+0]+c[b+ne],N=c[b+k]-c[b+M],p=c[b+k]+c[b+M],c[b+k]=B-p,c[b+0]=B+p,c[b+M]=s-N,c[b+ne]=s+N,s=c[R+0]-c[R+ne],B=c[R+0]+c[R+ne],N=ci.SQRT2*c[R+M],p=ci.SQRT2*c[R+k],c[R+k]=B-p,c[R+0]=B+p,c[R+M]=s-N,c[R+ne]=s+N,R+=Q,b+=Q}while(b<U);for(re=r[E+0],fe=r[E+1],oe=1;oe<T;oe++){var K,W;K=1-2*fe*fe,W=2*fe*re,b=m+oe,R=m+ne-oe;do{var Y,ie,_e,B,s,L,p,d,N,g;ie=W*c[b+ne]-K*c[R+ne],Y=K*c[b+ne]+W*c[R+ne],s=c[b+0]-Y,B=c[b+0]+Y,L=c[R+0]-ie,_e=c[R+0]+ie,ie=W*c[b+M]-K*c[R+M],Y=K*c[b+M]+W*c[R+M],N=c[b+k]-Y,p=c[b+k]+Y,g=c[R+k]-ie,d=c[R+k]+ie,ie=fe*p-re*g,Y=re*p+fe*g,c[b+k]=B-Y,c[b+0]=B+Y,c[R+M]=L-ie,c[R+ne]=L+ie,ie=re*d-fe*N,Y=fe*d+re*N,c[R+k]=_e-Y,c[R+0]=_e+Y,c[b+M]=s-ie,c[b+ne]=s+ie,R+=Q,b+=Q}while(b<U);K=re,re=K*r[E+0]-fe*r[E+1],fe=K*r[E+1]+fe*r[E+0]}E+=2}while(Q<w)}var _=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(c,m,w,E,Q){for(var b=0;b<3;b++){var R=ot.BLKSIZE_s/2,U=65535&576/3*(b+1),fe=ot.BLKSIZE_s/8-1;do{var re,oe,ne,k,M,T=_[fe<<2]&255;re=t[T]*E[w][Q+T+U],M=t[127-T]*E[w][Q+T+U+128],oe=re-M,re=re+M,ne=t[T+64]*E[w][Q+T+U+64],M=t[63-T]*E[w][Q+T+U+192],k=ne-M,ne=ne+M,R-=4,m[b][R+0]=re+ne,m[b][R+2]=re-ne,m[b][R+1]=oe+k,m[b][R+3]=oe-k,re=t[T+1]*E[w][Q+T+U+1],M=t[126-T]*E[w][Q+T+U+129],oe=re-M,re=re+M,ne=t[T+65]*E[w][Q+T+U+65],M=t[62-T]*E[w][Q+T+U+193],k=ne-M,ne=ne+M,m[b][R+ot.BLKSIZE_s/2+0]=re+ne,m[b][R+ot.BLKSIZE_s/2+2]=re-ne,m[b][R+ot.BLKSIZE_s/2+1]=oe+k,m[b][R+ot.BLKSIZE_s/2+3]=oe-k}while(--fe>=0);i(m[b],R,ot.BLKSIZE_s/2)}},this.fft_long=function(c,m,w,E,Q){var b=ot.BLKSIZE/8-1,R=ot.BLKSIZE/2;do{var U,fe,re,oe,ne,k=_[b]&255;U=e[k]*E[w][Q+k],ne=e[k+512]*E[w][Q+k+512],fe=U-ne,U=U+ne,re=e[k+256]*E[w][Q+k+256],ne=e[k+768]*E[w][Q+k+768],oe=re-ne,re=re+ne,R-=4,m[R+0]=U+re,m[R+2]=U-re,m[R+1]=fe+oe,m[R+3]=fe-oe,U=e[k+1]*E[w][Q+k+1],ne=e[k+513]*E[w][Q+k+513],fe=U-ne,U=U+ne,re=e[k+257]*E[w][Q+k+257],ne=e[k+769]*E[w][Q+k+769],oe=re-ne,re=re+ne,m[R+ot.BLKSIZE/2+0]=U+re,m[R+ot.BLKSIZE/2+2]=U-re,m[R+ot.BLKSIZE/2+1]=fe+oe,m[R+ot.BLKSIZE/2+3]=fe-oe}while(--b>=0);i(m,R,ot.BLKSIZE/2)},this.init_fft=function(c){for(var m=0;m<ot.BLKSIZE;m++)e[m]=.42-.5*Math.cos(2*Math.PI*(m+.5)/ot.BLKSIZE)+.08*Math.cos(4*Math.PI*(m+.5)/ot.BLKSIZE);for(var m=0;m<ot.BLKSIZE_s/2;m++)t[m]=.5*(1-Math.cos(2*Math.PI*(m+.5)/ot.BLKSIZE_s))}}var Cl=Bl,Bt=at;Bt.System;var U0=Bt.VbrMode,hi=Bt.Float,X0=Bt.ShortBlock,wt=Bt.Util,Il=Bt.Arrays;Bt.new_array_n;Bt.new_byte;Bt.new_double;var lt=Bt.new_float,Yt=Bt.new_float_n,B0=Bt.new_int;Bt.new_int_n;var ke=Bt.assert,Ll=Cl,we=ht();function Ol(){var e=yr,t=new Ll,r=2.302585092994046,i=2,_=16,c=2,m=16,w=.34,E=1/(14752*14752)/(we.BLKSIZE/2),Q=.01,b=.8,R=.6,U=.3,fe=3.5,re=21,oe=.2302585093;function ne(S){return S}function k(S,x){for(var V=0,P=0;P<we.BLKSIZE/2;++P)V+=S[P]*x.ATH.eql_w[P];return V*=E,V}function M(S,x,V,P,ee,F,te,ue,ae,pe,de){var ye=S.internal_flags;if(ae<2)t.fft_long(ye,P[ee],ae,pe,de),t.fft_short(ye,F[te],ae,pe,de);else if(ae==2){for(var Ie=we.BLKSIZE-1;Ie>=0;--Ie){var Ne=P[ee+0][Ie],Te=P[ee+1][Ie];P[ee+0][Ie]=(Ne+Te)*wt.SQRT2*.5,P[ee+1][Ie]=(Ne-Te)*wt.SQRT2*.5}for(var Ve=2;Ve>=0;--Ve)for(var Ie=we.BLKSIZE_s-1;Ie>=0;--Ie){var Ne=F[te+0][Ve][Ie],Te=F[te+1][Ve][Ie];F[te+0][Ve][Ie]=(Ne+Te)*wt.SQRT2*.5,F[te+1][Ve][Ie]=(Ne-Te)*wt.SQRT2*.5}}x[0]=P[ee+0][0],x[0]*=x[0];for(var Ie=we.BLKSIZE/2-1;Ie>=0;--Ie){var be=P[ee+0][we.BLKSIZE/2-Ie],Fe=P[ee+0][we.BLKSIZE/2+Ie];x[we.BLKSIZE/2-Ie]=(be*be+Fe*Fe)*.5}for(var Ve=2;Ve>=0;--Ve){V[Ve][0]=F[te+0][Ve][0],V[Ve][0]*=V[Ve][0];for(var Ie=we.BLKSIZE_s/2-1;Ie>=0;--Ie){var be=F[te+0][Ve][we.BLKSIZE_s/2-Ie],Fe=F[te+0][Ve][we.BLKSIZE_s/2+Ie];V[Ve][we.BLKSIZE_s/2-Ie]=(be*be+Fe*Fe)*.5}}{for(var He=0,Ie=11;Ie<we.HBLKSIZE;Ie++)He+=x[Ie];ye.tot_ener[ae]=He}if(S.analysis){for(var Ie=0;Ie<we.HBLKSIZE;Ie++)ye.pinfo.energy[ue][ae][Ie]=ye.pinfo.energy_save[ae][Ie],ye.pinfo.energy_save[ae][Ie]=x[Ie];ye.pinfo.pe[ue][ae]=ye.pe[ae]}S.athaa_loudapprox==2&&ae<2&&(ye.loudness_sq[ue][ae]=ye.loudness_sq_save[ae],ye.loudness_sq_save[ae]=k(x,ye))}var T=8,B=23,s=15,p,N,K,W=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Y(){p=Math.pow(10,(T+1)/16),N=Math.pow(10,(B+1)/16),K=Math.pow(10,s/10)}var ie=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],_e=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],L=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function d(S,x,V,P,ee,F){var te;if(x>S)if(x<S*N)te=x/S;else return S+x;else{if(S>=x*N)return S+x;te=S/x}if(ke(S>=0),ke(x>=0),S+=x,P+3<=6){if(te>=p)return S;var ue=0|wt.FAST_LOG10_X(te,16);return S*_e[ue]}var ue=0|wt.FAST_LOG10_X(te,16);if(F!=0?x=ee.ATH.cb_s[V]*ee.ATH.adjust:x=ee.ATH.cb_l[V]*ee.ATH.adjust,ke(x>=0),S<K*x){if(S>x){var ae,pe;return ae=1,ue<=13&&(ae=L[ue]),pe=wt.FAST_LOG10_X(S/x,10/15),S*((ie[ue]-ae)*pe+ae)}return ue>13?S:S*L[ue]}return S*ie[ue]}var g=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function j(S,x,V){var P;if(S<0&&(S=0),x<0&&(x=0),S<=0)return x;if(x<=0)return S;if(x>S?P=x/S:P=S/x,-2<=V&&V<=2){if(P>=p)return S+x;var ee=0|wt.FAST_LOG10_X(P,16);return(S+x)*g[ee]}return P<N?S+x:(S<x&&(S=x),S)}function Z(S,x){var V=S.internal_flags;if(V.channels_out>1){for(var P=0;P<we.SBMAX_l;P++){var ee=V.thm[0].l[P],F=V.thm[1].l[P];V.thm[0].l[P]+=F*x,V.thm[1].l[P]+=ee*x}for(var P=0;P<we.SBMAX_s;P++)for(var te=0;te<3;te++){var ee=V.thm[0].s[P][te],F=V.thm[1].s[P][te];V.thm[0].s[P][te]+=F*x,V.thm[1].s[P][te]+=ee*x}}}function q(S){for(var x=0;x<we.SBMAX_l;x++)if(!(S.thm[0].l[x]>1.58*S.thm[1].l[x]||S.thm[1].l[x]>1.58*S.thm[0].l[x])){var V=S.mld_l[x]*S.en[3].l[x],P=Math.max(S.thm[2].l[x],Math.min(S.thm[3].l[x],V));V=S.mld_l[x]*S.en[2].l[x];var ee=Math.max(S.thm[3].l[x],Math.min(S.thm[2].l[x],V));S.thm[2].l[x]=P,S.thm[3].l[x]=ee}for(var x=0;x<we.SBMAX_s;x++)for(var F=0;F<3;F++)if(!(S.thm[0].s[x][F]>1.58*S.thm[1].s[x][F]||S.thm[1].s[x][F]>1.58*S.thm[0].s[x][F])){var V=S.mld_s[x]*S.en[3].s[x][F],P=Math.max(S.thm[2].s[x][F],Math.min(S.thm[3].s[x][F],V));V=S.mld_s[x]*S.en[2].s[x][F];var ee=Math.max(S.thm[3].s[x][F],Math.min(S.thm[2].s[x][F],V));S.thm[2].s[x][F]=P,S.thm[3].s[x][F]=ee}}function le(S,x,V){var P=x,ee=Math.pow(10,V);x*=2,P*=2;for(var F=0;F<we.SBMAX_l;F++){var te,ue,ae,pe;if(pe=S.ATH.cb_l[S.bm_l[F]]*ee,te=Math.min(Math.max(S.thm[0].l[F],pe),Math.max(S.thm[1].l[F],pe)),ue=Math.max(S.thm[2].l[F],pe),ae=Math.max(S.thm[3].l[F],pe),te*x<ue+ae){var de=te*P/(ue+ae);ue*=de,ae*=de,ke(ue+ae>0)}S.thm[2].l[F]=Math.min(ue,S.thm[2].l[F]),S.thm[3].l[F]=Math.min(ae,S.thm[3].l[F])}ee*=we.BLKSIZE_s/we.BLKSIZE;for(var F=0;F<we.SBMAX_s;F++)for(var ye=0;ye<3;ye++){var te,ue,ae,pe;if(pe=S.ATH.cb_s[S.bm_s[F]]*ee,te=Math.min(Math.max(S.thm[0].s[F][ye],pe),Math.max(S.thm[1].s[F][ye],pe)),ue=Math.max(S.thm[2].s[F][ye],pe),ae=Math.max(S.thm[3].s[F][ye],pe),te*x<ue+ae){var de=te*x/(ue+ae);ue*=de,ae*=de,ke(ue+ae>0)}S.thm[2].s[F][ye]=Math.min(S.thm[2].s[F][ye],ue),S.thm[3].s[F][ye]=Math.min(S.thm[3].s[F][ye],ae)}}function v(S,x,V,P,ee){var F,te,ue=0,ae=0;for(F=te=0;F<we.SBMAX_s;++te,++F){for(var pe=S.bo_s[F],de=S.npart_s,ye=pe<de?pe:de;te<ye;)ke(x[te]>=0),ke(V[te]>=0),ue+=x[te],ae+=V[te],te++;if(S.en[P].s[F][ee]=ue,S.thm[P].s[F][ee]=ae,te>=de){++F;break}ke(x[te]>=0),ke(V[te]>=0);{var Ie=S.PSY.bo_s_weight[F],Ne=1-Ie;ue=Ie*x[te],ae=Ie*V[te],S.en[P].s[F][ee]+=ue,S.thm[P].s[F][ee]+=ae,ue=Ne*x[te],ae=Ne*V[te]}}for(;F<we.SBMAX_s;++F)S.en[P].s[F][ee]=0,S.thm[P].s[F][ee]=0}function a(S,x,V,P){var ee,F,te=0,ue=0;for(ee=F=0;ee<we.SBMAX_l;++F,++ee){for(var ae=S.bo_l[ee],pe=S.npart_l,de=ae<pe?ae:pe;F<de;)ke(x[F]>=0),ke(V[F]>=0),te+=x[F],ue+=V[F],F++;if(S.en[P].l[ee]=te,S.thm[P].l[ee]=ue,F>=pe){++ee;break}ke(x[F]>=0),ke(V[F]>=0);{var ye=S.PSY.bo_l_weight[ee],Ie=1-ye;te=ye*x[F],ue=ye*V[F],S.en[P].l[ee]+=te,S.thm[P].l[ee]+=ue,te=Ie*x[F],ue=Ie*V[F]}}for(;ee<we.SBMAX_l;++ee)S.en[P].l[ee]=0,S.thm[P].l[ee]=0}function n(S,x,V,P,ee,F){var te=S.internal_flags,ue,ae;for(ae=ue=0;ae<te.npart_s;++ae){for(var pe=0,de=te.numlines_s[ae],ye=0;ye<de;++ye,++ue){var Ie=x[F][ue];pe+=Ie}V[ae]=pe}for(ke(ae==te.npart_s),ke(ue==129),ue=ae=0;ae<te.npart_s;ae++){var Ne=te.s3ind_s[ae][0],Te=te.s3_ss[ue++]*V[Ne];for(++Ne;Ne<=te.s3ind_s[ae][1];)Te+=te.s3_ss[ue]*V[Ne],++ue,++Ne;{var Ve=c*te.nb_s1[ee][ae];P[ae]=Math.min(Te,Ve)}if(te.blocktype_old[ee&1]==we.SHORT_TYPE){var Ve=m*te.nb_s2[ee][ae],be=P[ae];P[ae]=Math.min(Ve,be)}te.nb_s2[ee][ae]=te.nb_s1[ee][ae],te.nb_s1[ee][ae]=Te,ke(P[ae]>=0)}for(;ae<=we.CBANDS;++ae)V[ae]=0,P[ae]=0}function f(S,x,V,P){var ee=S.internal_flags;S.short_blocks==X0.short_block_coupled&&!(x[0]!=0&&x[1]!=0)&&(x[0]=x[1]=0);for(var F=0;F<ee.channels_out;F++)P[F]=we.NORM_TYPE,S.short_blocks==X0.short_block_dispensed&&(x[F]=1),S.short_blocks==X0.short_block_forced&&(x[F]=0),x[F]!=0?(ke(ee.blocktype_old[F]!=we.START_TYPE),ee.blocktype_old[F]==we.SHORT_TYPE&&(P[F]=we.STOP_TYPE)):(P[F]=we.SHORT_TYPE,ee.blocktype_old[F]==we.NORM_TYPE&&(ee.blocktype_old[F]=we.START_TYPE),ee.blocktype_old[F]==we.STOP_TYPE&&(ee.blocktype_old[F]=we.SHORT_TYPE)),V[F]=ee.blocktype_old[F],ee.blocktype_old[F]=P[F]}function o(S,x,V){return V>=1?S:V<=0?x:x>0?Math.pow(S/x,V)*x:0}var h=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function O(S,x){for(var V=309.07,P=0;P<we.SBMAX_s-1;P++)for(var ee=0;ee<3;ee++){var F=S.thm.s[P][ee];if(ke(P<h.length),F>0){var te=F*x,ue=S.en.s[P][ee];ue>te&&(ue>te*1e10?V+=h[P]*(10*r):(ke(te>0),V+=h[P]*wt.FAST_LOG10(ue/te)))}}return V}var I=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function H(S,x){for(var V=281.0575,P=0;P<we.SBMAX_l-1;P++){var ee=S.thm.l[P];if(ke(P<I.length),ee>0){var F=ee*x,te=S.en.l[P];te>F&&(te>F*1e10?V+=I[P]*(10*r):(ke(F>0),V+=I[P]*wt.FAST_LOG10(te/F)))}}return V}function C(S,x,V,P,ee){var F,te;for(F=te=0;F<S.npart_l;++F){var ue=0,ae=0,pe;for(pe=0;pe<S.numlines_l[F];++pe,++te){var de=x[te];ke(de>=0),ue+=de,ae<de&&(ae=de)}V[F]=ue,P[F]=ae,ee[F]=ue*S.rnumlines_l[F],ke(S.rnumlines_l[F]>=0),ke(ue>=0),ke(V[F]>=0),ke(P[F]>=0),ke(ee[F]>=0)}}function $(S,x,V,P){var ee=W.length-1,F=0,te=V[F]+V[F+1];if(ke(te>=0),te>0){var ue=x[F];ue<x[F+1]&&(ue=x[F+1]),ke(S.numlines_l[F]+S.numlines_l[F+1]-1>0),te=20*(ue*2-te)/(te*(S.numlines_l[F]+S.numlines_l[F+1]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;for(F=1;F<S.npart_l-1;F++)if(te=V[F-1]+V[F]+V[F+1],ke(te>=0),te>0){var ue=x[F-1];ue<x[F]&&(ue=x[F]),ue<x[F+1]&&(ue=x[F+1]),ke(S.numlines_l[F-1]+S.numlines_l[F]+S.numlines_l[F+1]-1>0),te=20*(ue*3-te)/(te*(S.numlines_l[F-1]+S.numlines_l[F]+S.numlines_l[F+1]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;if(ke(F>0),ke(F==S.npart_l-1),te=V[F-1]+V[F],ke(te>=0),te>0){var ue=x[F-1];ue<x[F]&&(ue=x[F]),ke(S.numlines_l[F-1]+S.numlines_l[F]-1>0),te=20*(ue*2-te)/(te*(S.numlines_l[F-1]+S.numlines_l[F]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;ke(F==S.npart_l-1)}var se=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(S,x,V,P,ee,F,te,ue,ae,pe){var de=S.internal_flags,ye=Yt([2,we.BLKSIZE]),Ie=Yt([2,3,we.BLKSIZE_s]),Ne=lt(we.CBANDS+1),Te=lt(we.CBANDS+1),Ve=lt(we.CBANDS+2),be=B0(2),Fe=B0(2),He,Me,Oe,Ae,ge,je,Le,Ue,Xe=Yt([2,576]),Ze,vt=B0(we.CBANDS+2),st=B0(we.CBANDS+2);for(Il.fill(st,0),He=de.channels_out,S.mode==e.JOINT_STEREO&&(He=4),S.VBR==U0.vbr_off?Ze=de.ResvMax==0?0:de.ResvSize/de.ResvMax*.5:S.VBR==U0.vbr_rh||S.VBR==U0.vbr_mtrh||S.VBR==U0.vbr_mt?Ze=.6:Ze=1,Me=0;Me<de.channels_out;Me++){var Qe=x[Me],Rt=V+576-350-re+192;for(ke(se.length==(re-1)/2),Ae=0;Ae<576;Ae++){var Xt,qt;for(Xt=Qe[Rt+Ae+10],qt=0,ge=0;ge<(re-1)/2-1;ge+=2)Xt+=se[ge]*(Qe[Rt+Ae+ge]+Qe[Rt+Ae+re-ge]),qt+=se[ge+1]*(Qe[Rt+Ae+ge+1]+Qe[Rt+Ae+re-ge-1]);Xe[Me][Ae]=Xt+qt}ee[P][Me].en.assign(de.en[Me]),ee[P][Me].thm.assign(de.thm[Me]),He>2&&(F[P][Me].en.assign(de.en[Me+2]),F[P][Me].thm.assign(de.thm[Me+2]))}for(Me=0;Me<He;Me++){var Kt,zt,ct=lt(12),a0=[0,0,0,0],D0=lt(12),la=1,An,Mn=lt(we.CBANDS),Tn=lt(we.CBANDS),et=[0,0,0,0],En=lt(we.HBLKSIZE),Bn=Yt([3,we.HBLKSIZE_s]);for(ke(de.npart_s<=we.CBANDS),ke(de.npart_l<=we.CBANDS),Ae=0;Ae<3;Ae++)ct[Ae]=de.nsPsy.last_en_subshort[Me][Ae+6],ke(de.nsPsy.last_en_subshort[Me][Ae+4]>0),D0[Ae]=ct[Ae]/de.nsPsy.last_en_subshort[Me][Ae+4],a0[0]+=ct[Ae];if(Me==2)for(Ae=0;Ae<576;Ae++){var ua,fa;ua=Xe[0][Ae],fa=Xe[1][Ae],Xe[0][Ae]=ua+fa,Xe[1][Ae]=ua-fa}{var Cn=Xe[Me&1],rr=0;for(Ae=0;Ae<9;Ae++){for(var js=rr+64,ut=1;rr<js;rr++)ut<Math.abs(Cn[rr])&&(ut=Math.abs(Cn[rr]));de.nsPsy.last_en_subshort[Me][Ae]=ct[Ae+3]=ut,a0[1+Ae/3]+=ut,ut>ct[Ae+3-2]?(ke(ct[Ae+3-2]>0),ut=ut/ct[Ae+3-2]):ct[Ae+3-2]>ut*10?(ke(ut>0),ut=ct[Ae+3-2]/(ut*10)):ut=0,D0[Ae+3]=ut}}if(S.analysis){var _a=D0[0];for(Ae=1;Ae<12;Ae++)_a<D0[Ae]&&(_a=D0[Ae]);de.pinfo.ers[P][Me]=de.pinfo.ers_save[Me],de.pinfo.ers_save[Me]=_a}for(An=Me==3?de.nsPsy.attackthre_s:de.nsPsy.attackthre,Ae=0;Ae<12;Ae++)et[Ae/3]==0&&D0[Ae]>An&&(et[Ae/3]=Ae%3+1);for(Ae=1;Ae<4;Ae++){var ca;a0[Ae-1]>a0[Ae]?(ke(a0[Ae]>0),ca=a0[Ae-1]/a0[Ae]):(ke(a0[Ae-1]>0),ca=a0[Ae]/a0[Ae-1]),ca<1.7&&(et[Ae]=0,Ae==1&&(et[0]=0))}for(et[0]!=0&&de.nsPsy.lastAttacks[Me]!=0&&(et[0]=0),(de.nsPsy.lastAttacks[Me]==3||et[0]+et[1]+et[2]+et[3]!=0)&&(la=0,et[1]!=0&&et[0]!=0&&(et[1]=0),et[2]!=0&&et[1]!=0&&(et[2]=0),et[3]!=0&&et[2]!=0&&(et[3]=0)),Me<2?Fe[Me]=la:la==0&&(Fe[0]=Fe[1]=0),ae[Me]=de.tot_ener[Me],zt=Ie,Kt=ye,M(S,En,Bn,Kt,Me&1,zt,Me&1,P,Me,x,V),C(de,En,Ne,Mn,Tn),$(de,Mn,Tn,vt),Ue=0;Ue<3;Ue++){var da,yt;for(n(S,Bn,Te,Ve,Me,Ue),v(de,Te,Ve,Me,Ue),Le=0;Le<we.SBMAX_s;Le++){if(yt=de.thm[Me].s[Le][Ue],yt*=b,et[Ue]>=2||et[Ue+1]==1){var ar=Ue!=0?Ue-1:2,ut=o(de.thm[Me].s[Le][ar],yt,R*Ze);yt=Math.min(yt,ut)}if(et[Ue]==1){var ar=Ue!=0?Ue-1:2,ut=o(de.thm[Me].s[Le][ar],yt,U*Ze);yt=Math.min(yt,ut)}else if(Ue!=0&&et[Ue-1]==3||Ue==0&&de.nsPsy.lastAttacks[Me]==3){var ar=Ue!=2?Ue+1:0,ut=o(de.thm[Me].s[Le][ar],yt,U*Ze);yt=Math.min(yt,ut)}da=ct[Ue*3+3]+ct[Ue*3+4]+ct[Ue*3+5],ct[Ue*3+5]*6<da&&(yt*=.5,ct[Ue*3+4]*6<da&&(yt*=.5)),de.thm[Me].s[Le][Ue]=yt}}for(de.nsPsy.lastAttacks[Me]=et[2],je=0,Oe=0;Oe<de.npart_l;Oe++){for(var A0=de.s3ind[Oe][0],ha=Ne[A0]*W[vt[A0]],M0=de.s3_ll[je++]*ha;++A0<=de.s3ind[Oe][1];)ha=Ne[A0]*W[vt[A0]],M0=d(M0,de.s3_ll[je++]*ha,A0,A0-Oe,de,0);M0*=.158489319246111,de.blocktype_old[Me&1]==we.SHORT_TYPE?Ve[Oe]=M0:Ve[Oe]=o(Math.min(M0,Math.min(i*de.nb_1[Me][Oe],_*de.nb_2[Me][Oe])),M0,Ze),de.nb_2[Me][Oe]=de.nb_1[Me][Oe],de.nb_1[Me][Oe]=M0}for(;Oe<=we.CBANDS;++Oe)Ne[Oe]=0,Ve[Oe]=0;a(de,Ne,Ve,Me)}if((S.mode==e.STEREO||S.mode==e.JOINT_STEREO)&&S.interChRatio>0&&Z(S,S.interChRatio),S.mode==e.JOINT_STEREO){var va;q(de),va=S.msfix,Math.abs(va)>0&&le(de,va,S.ATHlower*de.ATH.adjust)}for(f(S,Fe,pe,be),Me=0;Me<He;Me++){var nr,ir=0,wr,Sr;Me>1?(nr=ue,ir=-2,wr=we.NORM_TYPE,(pe[0]==we.SHORT_TYPE||pe[1]==we.SHORT_TYPE)&&(wr=we.SHORT_TYPE),Sr=F[P][Me-2]):(nr=te,ir=0,wr=pe[Me],Sr=ee[P][Me]),wr==we.SHORT_TYPE?nr[ir+Me]=O(Sr,de.masking_lower):nr[ir+Me]=H(Sr,de.masking_lower),S.analysis&&(de.pinfo.pe[P][Me]=nr[ir+Me])}return 0};function ve(S,x,V,P,ee,F,te,ue){var ae=S.internal_flags;if(P<2)t.fft_long(ae,te[ue],P,x,V);else if(P==2)for(var pe=we.BLKSIZE-1;pe>=0;--pe){var de=te[ue+0][pe],ye=te[ue+1][pe];te[ue+0][pe]=(de+ye)*wt.SQRT2*.5,te[ue+1][pe]=(de-ye)*wt.SQRT2*.5}F[0]=te[ue+0][0],F[0]*=F[0];for(var pe=we.BLKSIZE/2-1;pe>=0;--pe){var Ie=te[ue+0][we.BLKSIZE/2-pe],Ne=te[ue+0][we.BLKSIZE/2+pe];F[we.BLKSIZE/2-pe]=(Ie*Ie+Ne*Ne)*.5}{for(var Te=0,pe=11;pe<we.HBLKSIZE;pe++)Te+=F[pe];ae.tot_ener[P]=Te}if(S.analysis){for(var pe=0;pe<we.HBLKSIZE;pe++)ae.pinfo.energy[ee][P][pe]=ae.pinfo.energy_save[P][pe],ae.pinfo.energy_save[P][pe]=F[pe];ae.pinfo.pe[ee][P]=ae.pe[P]}}function y(S,x,V,P,ee,F,te,ue){var ae=S.internal_flags;if(ee==0&&P<2&&t.fft_short(ae,te[ue],P,x,V),P==2)for(var pe=we.BLKSIZE_s-1;pe>=0;--pe){var de=te[ue+0][ee][pe],ye=te[ue+1][ee][pe];te[ue+0][ee][pe]=(de+ye)*wt.SQRT2*.5,te[ue+1][ee][pe]=(de-ye)*wt.SQRT2*.5}F[ee][0]=te[ue+0][ee][0],F[ee][0]*=F[ee][0];for(var pe=we.BLKSIZE_s/2-1;pe>=0;--pe){var Ie=te[ue+0][ee][we.BLKSIZE_s/2-pe],Ne=te[ue+0][ee][we.BLKSIZE_s/2+pe];F[ee][we.BLKSIZE_s/2-pe]=(Ie*Ie+Ne*Ne)*.5}}function A(S,x,V,P){var ee=S.internal_flags;S.athaa_loudapprox==2&&V<2&&(ee.loudness_sq[x][V]=ee.loudness_sq_save[V],ee.loudness_sq_save[V]=k(P,ee))}var X=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function J(S,x,V,P,ee,F,te,ue,ae,pe){for(var de=Yt([2,576]),ye=S.internal_flags,Ie=ye.channels_out,Ne=S.mode==e.JOINT_STEREO?4:Ie,Te=0;Te<Ie;Te++){firbuf=x[Te];var Ve=V+576-350-re+192;ke(X.length==(re-1)/2);for(var be=0;be<576;be++){var Fe,He;Fe=firbuf[Ve+be+10],He=0;for(var Me=0;Me<(re-1)/2-1;Me+=2)Fe+=X[Me]*(firbuf[Ve+be+Me]+firbuf[Ve+be+re-Me]),He+=X[Me+1]*(firbuf[Ve+be+Me+1]+firbuf[Ve+be+re-Me-1]);de[Te][be]=Fe+He}ee[P][Te].en.assign(ye.en[Te]),ee[P][Te].thm.assign(ye.thm[Te]),Ne>2&&(F[P][Te].en.assign(ye.en[Te+2]),F[P][Te].thm.assign(ye.thm[Te+2]))}for(var Te=0;Te<Ne;Te++){var Oe=lt(12),Ae=lt(12),ge=[0,0,0,0],je=de[Te&1],Le=0,Ue=Te==3?ye.nsPsy.attackthre_s:ye.nsPsy.attackthre,Xe=1;if(Te==2)for(var be=0,Me=576;Me>0;++be,--Me){var Ze=de[0][be],vt=de[1][be];de[0][be]=Ze+vt,de[1][be]=Ze-vt}for(var be=0;be<3;be++)Ae[be]=ye.nsPsy.last_en_subshort[Te][be+6],ke(ye.nsPsy.last_en_subshort[Te][be+4]>0),Oe[be]=Ae[be]/ye.nsPsy.last_en_subshort[Te][be+4],ge[0]+=Ae[be];for(var be=0;be<9;be++){for(var st=Le+64,Qe=1;Le<st;Le++)Qe<Math.abs(je[Le])&&(Qe=Math.abs(je[Le]));ye.nsPsy.last_en_subshort[Te][be]=Ae[be+3]=Qe,ge[1+be/3]+=Qe,Qe>Ae[be+3-2]?(ke(Ae[be+3-2]>0),Qe=Qe/Ae[be+3-2]):Ae[be+3-2]>Qe*10?(ke(Qe>0),Qe=Ae[be+3-2]/(Qe*10)):Qe=0,Oe[be+3]=Qe}for(var be=0;be<3;++be){var Rt=Ae[be*3+3]+Ae[be*3+4]+Ae[be*3+5],Xt=1;Ae[be*3+5]*6<Rt&&(Xt*=.5,Ae[be*3+4]*6<Rt&&(Xt*=.5)),ue[Te][be]=Xt}if(S.analysis){for(var qt=Oe[0],be=1;be<12;be++)qt<Oe[be]&&(qt=Oe[be]);ye.pinfo.ers[P][Te]=ye.pinfo.ers_save[Te],ye.pinfo.ers_save[Te]=qt}for(var be=0;be<12;be++)ae[Te][be/3]==0&&Oe[be]>Ue&&(ae[Te][be/3]=be%3+1);for(var be=1;be<4;be++){var Kt=ge[be-1],zt=ge[be],ct=Math.max(Kt,zt);ct<4e4&&Kt<1.7*zt&&zt<1.7*Kt&&(be==1&&ae[Te][0]<=ae[Te][be]&&(ae[Te][0]=0),ae[Te][be]=0)}ae[Te][0]<=ye.nsPsy.lastAttacks[Te]&&(ae[Te][0]=0),(ye.nsPsy.lastAttacks[Te]==3||ae[Te][0]+ae[Te][1]+ae[Te][2]+ae[Te][3]!=0)&&(Xe=0,ae[Te][1]!=0&&ae[Te][0]!=0&&(ae[Te][1]=0),ae[Te][2]!=0&&ae[Te][1]!=0&&(ae[Te][2]=0),ae[Te][3]!=0&&ae[Te][2]!=0&&(ae[Te][3]=0)),Te<2?pe[Te]=Xe:Xe==0&&(pe[0]=pe[1]=0),te[Te]=ye.tot_ener[Te]}}function D(S,x,V){if(V==0)for(var P=0;P<S.npart_s;P++)S.nb_s2[x][P]=S.nb_s1[x][P],S.nb_s1[x][P]=0}function he(S,x){for(var V=0;V<S.npart_l;V++)S.nb_2[x][V]=S.nb_1[x][V],S.nb_1[x][V]=0}function u(S,x,V,P){var ee=W.length-1,F=0,te=V[F]+V[F+1];if(ke(te>=0),te>0){var ue=x[F];ue<x[F+1]&&(ue=x[F+1]),ke(S.numlines_s[F]+S.numlines_s[F+1]-1>0),te=20*(ue*2-te)/(te*(S.numlines_s[F]+S.numlines_s[F+1]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;for(F=1;F<S.npart_s-1;F++)if(te=V[F-1]+V[F]+V[F+1],ke(F+1<S.npart_s),ke(te>=0),te>0){var ue=x[F-1];ue<x[F]&&(ue=x[F]),ue<x[F+1]&&(ue=x[F+1]),ke(S.numlines_s[F-1]+S.numlines_s[F]+S.numlines_s[F+1]-1>0),te=20*(ue*3-te)/(te*(S.numlines_s[F-1]+S.numlines_s[F]+S.numlines_s[F+1]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;if(ke(F>0),ke(F==S.npart_s-1),te=V[F-1]+V[F],ke(te>=0),te>0){var ue=x[F-1];ue<x[F]&&(ue=x[F]),ke(S.numlines_s[F-1]+S.numlines_s[F]-1>0),te=20*(ue*2-te)/(te*(S.numlines_s[F-1]+S.numlines_s[F]-1));var ae=0|te;ae>ee&&(ae=ee),P[F]=ae}else P[F]=0;ke(F==S.npart_s-1)}function l(S,x,V,P,ee,F){var te=S.internal_flags,ue=new float[we.CBANDS],ae=lt(we.CBANDS),pe,de,ye,Ie=new int[we.CBANDS];for(ye=de=0;ye<te.npart_s;++ye){var Ne=0,Te=0,Ve=te.numlines_s[ye];for(pe=0;pe<Ve;++pe,++de){var be=x[F][de];Ne+=be,Te<be&&(Te=be)}V[ye]=Ne,ke(Ne>=0),ue[ye]=Te,ke(Ve>0),ae[ye]=Ne/Ve,ke(ae[ye]>=0)}for(ke(ye==te.npart_s),ke(de==129);ye<we.CBANDS;++ye)ue[ye]=0,ae[ye]=0;for(u(te,ue,ae,Ie),de=ye=0;ye<te.npart_s;ye++){var Fe=te.s3ind_s[ye][0],He=te.s3ind_s[ye][1],Me,Oe,Ae,ge,je;for(Me=Ie[Fe],Oe=1,ge=te.s3_ss[de]*V[Fe]*W[Ie[Fe]],++de,++Fe;Fe<=He;)Me+=Ie[Fe],Oe+=1,Ae=te.s3_ss[de]*V[Fe]*W[Ie[Fe]],ge=j(ge,Ae,Fe-ye),++de,++Fe;Me=(1+2*Me)/(2*Oe),je=W[Me]*.5,ge*=je,P[ye]=ge,te.nb_s2[ee][ye]=te.nb_s1[ee][ye],te.nb_s1[ee][ye]=ge,Ae=ue[ye],Ae*=te.minval_s[ye],Ae*=je,P[ye]>Ae&&(P[ye]=Ae),te.masking_lower>1&&(P[ye]*=te.masking_lower),P[ye]>V[ye]&&(P[ye]=V[ye]),te.masking_lower<1&&(P[ye]*=te.masking_lower),ke(P[ye]>=0)}for(;ye<we.CBANDS;++ye)V[ye]=0,P[ye]=0}function G(S,x,V,P,ee){var F=lt(we.CBANDS),te=lt(we.CBANDS),ue=B0(we.CBANDS+2),ae;C(S,x,V,F,te),$(S,F,te,ue);var pe=0;for(ae=0;ae<S.npart_l;ae++){var de,ye,Ie,Ne,Te=S.s3ind[ae][0],Ve=S.s3ind[ae][1],be=0,Fe=0;for(be=ue[Te],Fe+=1,ye=S.s3_ll[pe]*V[Te]*W[ue[Te]],++pe,++Te;Te<=Ve;)be+=ue[Te],Fe+=1,de=S.s3_ll[pe]*V[Te]*W[ue[Te]],Ne=j(ye,de,Te-ae),ye=Ne,++pe,++Te;if(be=(1+2*be)/(2*Fe),Ie=W[be]*.5,ye*=Ie,S.blocktype_old[ee&1]==we.SHORT_TYPE){var He=i*S.nb_1[ee][ae];He>0?P[ae]=Math.min(ye,He):P[ae]=Math.min(ye,V[ae]*U)}else{var Me=_*S.nb_2[ee][ae],Oe=i*S.nb_1[ee][ae],He;Me<=0&&(Me=ye),Oe<=0&&(Oe=ye),S.blocktype_old[ee&1]==we.NORM_TYPE?He=Math.min(Oe,Me):He=Oe,P[ae]=Math.min(ye,He)}S.nb_2[ee][ae]=S.nb_1[ee][ae],S.nb_1[ee][ae]=ye,de=F[ae],de*=S.minval_l[ae],de*=Ie,P[ae]>de&&(P[ae]=de),S.masking_lower>1&&(P[ae]*=S.masking_lower),P[ae]>V[ae]&&(P[ae]=V[ae]),S.masking_lower<1&&(P[ae]*=S.masking_lower),ke(P[ae]>=0)}for(;ae<we.CBANDS;++ae)V[ae]=0,P[ae]=0}function z(S,x){var V=S.internal_flags;S.short_blocks==X0.short_block_coupled&&!(x[0]!=0&&x[1]!=0)&&(x[0]=x[1]=0);for(var P=0;P<V.channels_out;P++)S.short_blocks==X0.short_block_dispensed&&(x[P]=1),S.short_blocks==X0.short_block_forced&&(x[P]=0)}function ce(S,x,V){for(var P=S.internal_flags,ee=0;ee<P.channels_out;ee++){var F=we.NORM_TYPE;x[ee]!=0?(ke(P.blocktype_old[ee]!=we.START_TYPE),P.blocktype_old[ee]==we.SHORT_TYPE&&(F=we.STOP_TYPE)):(F=we.SHORT_TYPE,P.blocktype_old[ee]==we.NORM_TYPE&&(P.blocktype_old[ee]=we.START_TYPE),P.blocktype_old[ee]==we.STOP_TYPE&&(P.blocktype_old[ee]=we.SHORT_TYPE)),V[ee]=P.blocktype_old[ee],P.blocktype_old[ee]=F}}function Re(S,x,V,P,ee,F,te){for(var ue=F*2,ae=F>0?Math.pow(10,ee):1,pe,de,ye=0;ye<te;++ye){var Ie=S[2][ye],Ne=S[3][ye],Te=x[0][ye],Ve=x[1][ye],be=x[2][ye],Fe=x[3][ye];if(Te<=1.58*Ve&&Ve<=1.58*Te){var He=V[ye]*Ne,Me=V[ye]*Ie;de=Math.max(be,Math.min(Fe,He)),pe=Math.max(Fe,Math.min(be,Me))}else de=be,pe=Fe;if(F>0){var Oe,Ae,ge=P[ye]*ae;if(Oe=Math.min(Math.max(Te,ge),Math.max(Ve,ge)),be=Math.max(de,ge),Fe=Math.max(pe,ge),Ae=be+Fe,Ae>0&&Oe*ue<Ae){var je=Oe*ue/Ae;be*=je,Fe*=je,ke(Ae>0)}de=Math.min(be,de),pe=Math.min(Fe,pe)}de>Ie&&(de=Ie),pe>Ne&&(pe=Ne),x[2][ye]=de,x[3][ye]=pe}}this.L3psycho_anal_vbr=function(S,x,V,P,ee,F,te,ue,ae,pe){var de=S.internal_flags,ye,Ie,Ne=lt(we.HBLKSIZE),Te=Yt([3,we.HBLKSIZE_s]),Ve=Yt([2,we.BLKSIZE]),be=Yt([2,3,we.BLKSIZE_s]),Fe=Yt([4,we.CBANDS]),He=Yt([4,we.CBANDS]),Me=Yt([4,3]),Oe=.6,Ae=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],ge=B0(2),je=S.mode==e.JOINT_STEREO?4:de.channels_out;J(S,x,V,P,ee,F,ae,Me,Ae,ge),z(S,ge);{for(var Le=0;Le<je;Le++){var Ue=Le&1;ye=Ve,ve(S,x,V,Le,P,Ne,ye,Ue),A(S,P,Le,Ne),ge[Ue]!=0?G(de,Ne,Fe[Le],He[Le],Le):he(de,Le)}ge[0]+ge[1]==2&&S.mode==e.JOINT_STEREO&&Re(Fe,He,de.mld_cb_l,de.ATH.cb_l,S.ATHlower*de.ATH.adjust,S.msfix,de.npart_l);for(var Le=0;Le<je;Le++){var Ue=Le&1;ge[Ue]!=0&&a(de,Fe[Le],He[Le],Le)}}{for(var Xe=0;Xe<3;Xe++){for(var Le=0;Le<je;++Le){var Ue=Le&1;ge[Ue]!=0?D(de,Le,Xe):(Ie=be,y(S,x,V,Le,Xe,Te,Ie,Ue),l(S,Te,Fe[Le],He[Le],Le,Xe))}ge[0]+ge[1]==0&&S.mode==e.JOINT_STEREO&&Re(Fe,He,de.mld_cb_s,de.ATH.cb_s,S.ATHlower*de.ATH.adjust,S.msfix,de.npart_s);for(var Le=0;Le<je;++Le){var Ue=Le&1;ge[Ue]==0&&v(de,Fe[Le],He[Le],Le,Xe)}}for(var Le=0;Le<je;Le++){var Ue=Le&1;if(ge[Ue]==0)for(var Ze=0;Ze<we.SBMAX_s;Ze++){for(var vt=lt(3),Xe=0;Xe<3;Xe++){var st=de.thm[Le].s[Ze][Xe];if(st*=b,Ae[Le][Xe]>=2||Ae[Le][Xe+1]==1){var Qe=Xe!=0?Xe-1:2,Rt=o(de.thm[Le].s[Ze][Qe],st,R*Oe);st=Math.min(st,Rt)}else if(Ae[Le][Xe]==1){var Qe=Xe!=0?Xe-1:2,Rt=o(de.thm[Le].s[Ze][Qe],st,U*Oe);st=Math.min(st,Rt)}else if(Xe!=0&&Ae[Le][Xe-1]==3||Xe==0&&de.nsPsy.lastAttacks[Le]==3){var Qe=Xe!=2?Xe+1:0,Rt=o(de.thm[Le].s[Ze][Qe],st,U*Oe);st=Math.min(st,Rt)}st*=Me[Le][Xe],vt[Xe]=st}for(var Xe=0;Xe<3;Xe++)de.thm[Le].s[Ze][Xe]=vt[Xe]}}}for(var Le=0;Le<je;Le++)de.nsPsy.lastAttacks[Le]=Ae[Le][2];ce(S,ge,pe);for(var Le=0;Le<je;Le++){var Xt,qt,Kt,zt;Le>1?(Xt=ue,qt=-2,Kt=we.NORM_TYPE,(pe[0]==we.SHORT_TYPE||pe[1]==we.SHORT_TYPE)&&(Kt=we.SHORT_TYPE),zt=F[P][Le-2]):(Xt=te,qt=0,Kt=pe[Le],zt=ee[P][Le]),Kt==we.SHORT_TYPE?Xt[qt+Le]=O(zt,de.masking_lower):Xt[qt+Le]=H(zt,de.masking_lower),S.analysis&&(de.pinfo.pe[P][Le]=Xt[qt+Le])}return 0};function me(S,x){var V=S,P;return V>=0?P=-V*27:P=V*x,P<=-72?0:Math.exp(P*oe)}function Se(S){var x=0,V=0;{var P=0,ee,F;for(P=0;me(P,S)>1e-20;P-=1);for(ee=P,F=0;Math.abs(F-ee)>1e-12;)P=(F+ee)/2,me(P,S)>0?F=P:ee=P;x=ee}{var P=0,ee,F;for(P=0;me(P,S)>1e-20;P+=1);for(ee=0,F=P;Math.abs(F-ee)>1e-12;)P=(F+ee)/2,me(P,S)>0?ee=P:F=P;V=F}{var te=0,ue=1e3,ae;for(ae=0;ae<=ue;++ae){var P=x+ae*(V-x)/ue,pe=me(P,S);te+=pe}{var de=(ue+1)/(te*(V-x));return de}}}function Ce(S){var x,V,P,ee;return x=S,x>=0?x*=3:x*=1.5,x>=.5&&x<=2.5?(ee=x-.5,V=8*(ee*ee-2*ee)):V=0,x+=.474,P=15.811389+7.5*x-17.5*Math.sqrt(1+x*x),P<=-60?0:(x=Math.exp((V+P)*oe),x/=.6609193,x)}function Be(S){return S<0&&(S=0),S=S*.001,13*Math.atan(.76*S)+3.5*Math.atan(S*S/(7.5*7.5))}function xe(S,x,V,P,ee,F,te,ue,ae,pe,de,ye){var Ie=lt(we.CBANDS+1),Ne=ue/(ye>15?2*576:2*192),Te=B0(we.HBLKSIZE),Ve;ue/=ae;var be=0,Fe=0;for(Ve=0;Ve<we.CBANDS;Ve++){var He,Me;for(He=Be(ue*be),Ie[Ve]=ue*be,Me=be;Be(ue*Me)-He<w&&Me<=ae/2;Me++);for(S[Ve]=Me-be,Fe=Ve+1;be<Me;)ke(be<we.HBLKSIZE),Te[be++]=Ve;if(be>ae/2){be=ae/2,++Ve;break}}ke(Ve<we.CBANDS),Ie[Ve]=ue*be;for(var Oe=0;Oe<ye;Oe++){var Ae,ge,je,Le,Ue;je=pe[Oe],Le=pe[Oe+1],Ae=0|Math.floor(.5+de*(je-.5)),Ae<0&&(Ae=0),ge=0|Math.floor(.5+de*(Le-.5)),ge>ae/2&&(ge=ae/2),V[Oe]=(Te[Ae]+Te[ge])/2,x[Oe]=Te[ge];var Xe=Ne*Le;te[Oe]=(Xe-Ie[x[Oe]])/(Ie[x[Oe]+1]-Ie[x[Oe]]),te[Oe]<0?te[Oe]=0:te[Oe]>1&&(te[Oe]=1),Ue=Be(ue*pe[Oe]*de),Ue=Math.min(Ue,15.5)/15.5,F[Oe]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Ue))-2.5)}be=0;for(var Ze=0;Ze<Fe;Ze++){var vt=S[Ze],He,st;He=Be(ue*be),st=Be(ue*(be+vt-1)),P[Ze]=.5*(He+st),He=Be(ue*(be-.5)),st=Be(ue*(be+vt-.5)),ee[Ze]=st-He,be+=vt}return Fe}function De(S,x,V,P,ee,F){var te=Yt([we.CBANDS,we.CBANDS]),ue,ae=0;if(F)for(var pe=0;pe<x;pe++)for(ue=0;ue<x;ue++){var de=Ce(V[pe]-V[ue])*P[ue];te[pe][ue]=de*ee[pe]}else for(ue=0;ue<x;ue++)for(var ye=15+Math.min(21/V[ue],12),Ie=Se(ye),pe=0;pe<x;pe++){var de=Ie*me(V[pe]-V[ue],ye)*P[ue];te[pe][ue]=de*ee[pe]}for(var pe=0;pe<x;pe++){for(ue=0;ue<x&&!(te[pe][ue]>0);ue++);for(S[pe][0]=ue,ue=x-1;ue>0&&!(te[pe][ue]>0);ue--);S[pe][1]=ue,ae+=S[pe][1]-S[pe][0]+1}for(var Ne=lt(ae),Te=0,pe=0;pe<x;pe++)for(ue=S[pe][0];ue<=S[pe][1];ue++)Ne[Te++]=te[pe][ue];return Ne}function qe(S){var x=Be(S);return x=Math.min(x,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*x))-2.5)}this.psymodel_init=function(S){var x=S.internal_flags,V,P=!0,ee=13,F=24,te=0,ue=0,ae=-8.25,pe=-4.5,de=lt(we.CBANDS),ye=lt(we.CBANDS),Ie=lt(we.CBANDS),Ne=S.out_samplerate;switch(S.experimentalZ){default:case 0:P=!0;break;case 1:P=!(S.VBR==U0.vbr_mtrh||S.VBR==U0.vbr_mt);break;case 2:P=!1;break;case 3:ee=8,te=-1.75,ue=-.0125,ae=-8.25,pe=-2.25;break}for(x.ms_ener_ratio_old=.25,x.blocktype_old[0]=x.blocktype_old[1]=we.NORM_TYPE,V=0;V<4;++V){for(var be=0;be<we.CBANDS;++be)x.nb_1[V][be]=1e20,x.nb_2[V][be]=1e20,x.nb_s1[V][be]=x.nb_s2[V][be]=1;for(var Te=0;Te<we.SBMAX_l;Te++)x.en[V].l[Te]=1e20,x.thm[V].l[Te]=1e20;for(var be=0;be<3;++be){for(var Te=0;Te<we.SBMAX_s;Te++)x.en[V].s[Te][be]=1e20,x.thm[V].s[Te][be]=1e20;x.nsPsy.lastAttacks[V]=0}for(var be=0;be<9;be++)x.nsPsy.last_en_subshort[V][be]=10}for(x.loudness_sq_save[0]=x.loudness_sq_save[1]=0,x.npart_l=xe(x.numlines_l,x.bo_l,x.bm_l,de,ye,x.mld_l,x.PSY.bo_l_weight,Ne,we.BLKSIZE,x.scalefac_band.l,we.BLKSIZE/(2*576),we.SBMAX_l),ke(x.npart_l<we.CBANDS),V=0;V<x.npart_l;V++){var Ve=te;de[V]>=ee&&(Ve=ue*(de[V]-ee)/(F-ee)+te*(F-de[V])/(F-ee)),Ie[V]=Math.pow(10,Ve/10),x.numlines_l[V]>0?x.rnumlines_l[V]=1/x.numlines_l[V]:x.rnumlines_l[V]=0}x.s3_ll=De(x.s3ind,x.npart_l,de,ye,Ie,P);var be=0;for(V=0;V<x.npart_l;V++){var Fe;Fe=hi.MAX_VALUE;for(var He=0;He<x.numlines_l[V];He++,be++){var Me=Ne*be/(1e3*we.BLKSIZE),Oe;Oe=this.ATHformula(Me*1e3,S)-20,Oe=Math.pow(10,.1*Oe),Oe*=x.numlines_l[V],Fe>Oe&&(Fe=Oe)}x.ATH.cb_l[V]=Fe,Fe=-20+de[V]*20/10,Fe>6&&(Fe=100),Fe<-15&&(Fe=-15),Fe-=8,x.minval_l[V]=Math.pow(10,Fe/10)*x.numlines_l[V]}for(x.npart_s=xe(x.numlines_s,x.bo_s,x.bm_s,de,ye,x.mld_s,x.PSY.bo_s_weight,Ne,we.BLKSIZE_s,x.scalefac_band.s,we.BLKSIZE_s/(2*192),we.SBMAX_s),ke(x.npart_s<we.CBANDS),be=0,V=0;V<x.npart_s;V++){var Fe,Ve=ae;de[V]>=ee&&(Ve=pe*(de[V]-ee)/(F-ee)+ae*(F-de[V])/(F-ee)),Ie[V]=Math.pow(10,Ve/10),Fe=hi.MAX_VALUE;for(var He=0;He<x.numlines_s[V];He++,be++){var Me=Ne*be/(1e3*we.BLKSIZE_s),Oe;Oe=this.ATHformula(Me*1e3,S)-20,Oe=Math.pow(10,.1*Oe),Oe*=x.numlines_s[V],Fe>Oe&&(Fe=Oe)}x.ATH.cb_s[V]=Fe,Fe=-7+de[V]*7/12,de[V]>12&&(Fe*=1+Math.log(1+Fe)*3.1),de[V]<12&&(Fe*=1+Math.log(1-Fe)*2.3),Fe<-15&&(Fe=-15),Fe-=8,x.minval_s[V]=Math.pow(10,Fe/10)*x.numlines_s[V]}x.s3_ss=De(x.s3ind_s,x.npart_s,de,ye,Ie,P),Y(),t.init_fft(x),x.decay=Math.exp(-1*r/(Q*Ne/192));{var Ae;Ae=fe,S.exp_nspsytune&2&&(Ae=1),Math.abs(S.msfix)>0&&(Ae=S.msfix),S.msfix=Ae;for(var ge=0;ge<x.npart_l;ge++)x.s3ind[ge][1]>x.npart_l-1&&(x.s3ind[ge][1]=x.npart_l-1)}var je=576*x.mode_gr/Ne;if(x.ATH.decay=Math.pow(10,-12/10*je),x.ATH.adjust=.01,x.ATH.adjustLimit=1,ke(x.bo_l[we.SBMAX_l-1]<=x.npart_l),ke(x.bo_s[we.SBMAX_s-1]<=x.npart_s),S.ATHtype!=-1){var Me,Le=S.out_samplerate/we.BLKSIZE,Ue=0;for(Me=0,V=0;V<we.BLKSIZE/2;++V)Me+=Le,x.ATH.eql_w[V]=1/Math.pow(10,this.ATHformula(Me,S)/10),Ue+=x.ATH.eql_w[V];for(Ue=1/Ue,V=we.BLKSIZE/2;--V>=0;)x.ATH.eql_w[V]*=Ue}{for(var ge=be=0;ge<x.npart_s;++ge)for(V=0;V<x.numlines_s[ge];++V)++be;ke(be==129);for(var ge=be=0;ge<x.npart_l;++ge)for(V=0;V<x.numlines_l[ge];++V)++be;ke(be==513)}for(be=0,V=0;V<x.npart_l;V++){var Me=Ne*(be+x.numlines_l[V]/2)/(1*we.BLKSIZE);x.mld_cb_l[V]=qe(Me),be+=x.numlines_l[V]}for(;V<we.CBANDS;++V)x.mld_cb_l[V]=1;for(be=0,V=0;V<x.npart_s;V++){var Me=Ne*(be+x.numlines_s[V]/2)/(1*we.BLKSIZE_s);x.mld_cb_s[V]=qe(Me),be+=x.numlines_s[V]}for(;V<we.CBANDS;++V)x.mld_cb_s[V]=1;return 0};function Pe(S,x){S<-.3&&(S=3410),S/=1e3,S=Math.max(.1,S);var V=3.64*Math.pow(S,-.8)-6.8*Math.exp(-.6*Math.pow(S-3.4,2))+6*Math.exp(-.15*Math.pow(S-8.7,2))+(.6+.04*x)*.001*Math.pow(S,4);return V}this.ATHformula=function(S,x){var V;switch(x.ATHtype){case 0:V=Pe(S,9);break;case 1:V=Pe(S,-1);break;case 2:V=Pe(S,0);break;case 3:V=Pe(S,1)+6;break;case 4:V=Pe(S,x.ATHcurve);break;default:V=Pe(S,0);break}return V}}var Fl=Ol,Nl=yr;function kl(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=Nl.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}var gl=kl,Vl=ht(),Ps={};Ps.SFBMAX=Vl.SBMAX_s*3;var ia=Ps,Ct=at;Ct.System;Ct.VbrMode;Ct.Float;Ct.ShortBlock;Ct.Util;Ct.Arrays;Ct.new_array_n;Ct.new_byte;Ct.new_double;var Hl=Ct.new_float;Ct.new_float_n;var C0=Ct.new_int;Ct.new_int_n;Ct.assert;var Ia=ia;function Dl(){this.xr=Hl(576),this.l3_enc=C0(576),this.scalefac=C0(Ia.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=C0(3),this.subblock_gain=C0(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=C0(Ia.SFBMAX),this.window=C0(Ia.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=C0(4),this.max_nonzero_coeff=0;var e=this;function t(i){return new Int32Array(i)}function r(i){return new Float32Array(i)}this.assign=function(i){e.xr=r(i.xr),e.l3_enc=t(i.l3_enc),e.scalefac=t(i.scalefac),e.xrpow_max=i.xrpow_max,e.part2_3_length=i.part2_3_length,e.big_values=i.big_values,e.count1=i.count1,e.global_gain=i.global_gain,e.scalefac_compress=i.scalefac_compress,e.block_type=i.block_type,e.mixed_block_flag=i.mixed_block_flag,e.table_select=t(i.table_select),e.subblock_gain=t(i.subblock_gain),e.region0_count=i.region0_count,e.region1_count=i.region1_count,e.preflag=i.preflag,e.scalefac_scale=i.scalefac_scale,e.count1table_select=i.count1table_select,e.part2_length=i.part2_length,e.sfb_lmax=i.sfb_lmax,e.sfb_smin=i.sfb_smin,e.psy_lmax=i.psy_lmax,e.sfbmax=i.sfbmax,e.psymax=i.psymax,e.sfbdivide=i.sfbdivide,e.width=t(i.width),e.window=t(i.window),e.count1bits=i.count1bits,e.sfb_partition_table=i.sfb_partition_table.slice(0),e.slen=t(i.slen),e.max_nonzero_coeff=i.max_nonzero_coeff}}var Rn=Dl,It=at;It.System;It.VbrMode;It.Float;It.ShortBlock;It.Util;It.Arrays;It.new_array_n;It.new_byte;It.new_double;It.new_float;It.new_float_n;var vi=It.new_int;It.new_int_n;It.assert;var Pl=Rn;function Ul(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[vi(4),vi(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new Pl}var Xl=Ul,Lt=at,Ir=Lt.System;Lt.VbrMode;Lt.Float;Lt.ShortBlock;Lt.Util;Lt.Arrays;Lt.new_array_n;Lt.new_byte;Lt.new_double;Lt.new_float;Lt.new_float_n;var Lr=Lt.new_int;Lt.new_int_n;Lt.assert;var Or=ht();function ql(e,t,r,i){this.l=Lr(1+Or.SBMAX_l),this.s=Lr(1+Or.SBMAX_s),this.psfb21=Lr(1+Or.PSFB21),this.psfb12=Lr(1+Or.PSFB12);var _=this.l,c=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],Ir.arraycopy(this.arrL,0,_,0,Math.min(this.arrL.length,this.l.length)),Ir.arraycopy(this.arrS,0,c,0,Math.min(this.arrS.length,this.s.length)),Ir.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),Ir.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}var Us=ql,Ot=at;Ot.System;Ot.VbrMode;Ot.Float;Ot.ShortBlock;Ot.Util;Ot.Arrays;Ot.new_array_n;Ot.new_byte;Ot.new_double;var La=Ot.new_float,Gl=Ot.new_float_n,Yl=Ot.new_int;Ot.new_int_n;Ot.assert;var mi=ht();function jl(){this.last_en_subshort=Gl([4,9]),this.lastAttacks=Yl(4),this.pefirbuf=La(19),this.longfact=La(mi.SBMAX_l),this.shortfact=La(mi.SBMAX_s),this.attackthre=0,this.attackthre_s=0}var $l=jl;function Wl(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}var Kl=Wl,Ft=at;Ft.System;Ft.VbrMode;Ft.Float;Ft.ShortBlock;Ft.Util;Ft.Arrays;Ft.new_array_n;var zl=Ft.new_byte,Zl=Ft.new_double,jt=Ft.new_float,I0=Ft.new_float_n,Zt=Ft.new_int,Fr=Ft.new_int_n;Ft.assert;var Ql=Xl,Jl=Us,e2=$l,t2=Kl,bi=Ds(),nt=ht(),r2=ia;d0.MFSIZE=3*1152+nt.ENCDELAY-nt.MDCTDELAY;d0.MAX_HEADER_BUF=256;d0.MAX_BITS_PER_CHANNEL=4095;d0.MAX_BITS_PER_GRANULE=7680;d0.BPC=320;function d0(){var e=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=I0([2,d0.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new Ql,this.ms_ratio=jt(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=Zt(2),this.CurrentStep=Zt(2),this.masking_lower=0,this.bv_scf=Zt(576),this.pseudohalf=Zt(r2.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*d0.BPC+1),this.itime=Zl(2),this.sideinfo_len=0,this.sb_sample=I0([2,2,18,nt.SBLIMIT]),this.amp_filter=jt(32);function t(){this.write_timing=0,this.ptr=0,this.buf=zl(e)}this.header=new Array(d0.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Jl,this.minval_l=jt(nt.CBANDS),this.minval_s=jt(nt.CBANDS),this.nb_1=I0([4,nt.CBANDS]),this.nb_2=I0([4,nt.CBANDS]),this.nb_s1=I0([4,nt.CBANDS]),this.nb_s2=I0([4,nt.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=jt(4),this.loudness_sq=I0([2,2]),this.loudness_sq_save=jt(2),this.mld_l=jt(nt.SBMAX_l),this.mld_s=jt(nt.SBMAX_s),this.bm_l=Zt(nt.SBMAX_l),this.bo_l=Zt(nt.SBMAX_l),this.bm_s=Zt(nt.SBMAX_s),this.bo_s=Zt(nt.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Fr([nt.CBANDS,2]),this.s3ind_s=Fr([nt.CBANDS,2]),this.numlines_s=Zt(nt.CBANDS),this.numlines_l=Zt(nt.CBANDS),this.rnumlines_l=jt(nt.CBANDS),this.mld_cb_l=jt(nt.CBANDS),this.mld_cb_s=jt(nt.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=jt(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=Zt(2),this.nsPsy=new e2,this.VBR_seek_table=new t2,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Fr([16,5]),this.bitrate_blockType_Hist=Fr([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var r=0;r<this.en.length;r++)this.en[r]=new bi;for(var r=0;r<this.thm.length;r++)this.thm[r]=new bi;for(var r=0;r<this.header.length;r++)this.header[r]=new t}var sa=d0,Nt=at;Nt.System;Nt.VbrMode;Nt.Float;Nt.ShortBlock;Nt.Util;Nt.Arrays;Nt.new_array_n;Nt.new_byte;Nt.new_double;var L0=Nt.new_float;Nt.new_float_n;Nt.new_int;Nt.new_int_n;Nt.assert;var O0=ht();function a2(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=L0(O0.SBMAX_l),this.s=L0(O0.SBMAX_s),this.psfb21=L0(O0.PSFB21),this.psfb12=L0(O0.PSFB12),this.cb_l=L0(O0.CBANDS),this.cb_s=L0(O0.CBANDS),this.eql_w=L0(O0.BLKSIZE/2)}var n2=a2,kt=at,St=kt.System;kt.VbrMode;kt.Float;kt.ShortBlock;kt.Util;var pi=kt.Arrays;kt.new_array_n;kt.new_byte;kt.new_double;kt.new_float;kt.new_float_n;kt.new_int;kt.new_int_n;kt.assert;Je.STEPS_per_dB=100;Je.MAX_dB=120;Je.GAIN_NOT_ENOUGH_SAMPLES=-24601;Je.GAIN_ANALYSIS_ERROR=0;Je.GAIN_ANALYSIS_OK=1;Je.INIT_GAIN_ANALYSIS_ERROR=0;Je.INIT_GAIN_ANALYSIS_OK=1;Je.YULE_ORDER=10;Je.MAX_ORDER=Je.YULE_ORDER;Je.MAX_SAMP_FREQ=48e3;Je.RMS_WINDOW_TIME_NUMERATOR=1;Je.RMS_WINDOW_TIME_DENOMINATOR=20;Je.MAX_SAMPLES_PER_WINDOW=Je.MAX_SAMP_FREQ*Je.RMS_WINDOW_TIME_NUMERATOR/Je.RMS_WINDOW_TIME_DENOMINATOR+1;function Je(){var e=64.82;Je.YULE_ORDER;var t=.95;Je.MAX_SAMP_FREQ;var r=Je.RMS_WINDOW_TIME_NUMERATOR,i=Je.RMS_WINDOW_TIME_DENOMINATOR;Je.MAX_SAMPLES_PER_WINDOW;var _=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],c=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function m(R,U,fe,re,oe,ne){for(;oe--!=0;)fe[re]=1e-10+R[U+0]*ne[0]-fe[re-1]*ne[1]+R[U-1]*ne[2]-fe[re-2]*ne[3]+R[U-2]*ne[4]-fe[re-3]*ne[5]+R[U-3]*ne[6]-fe[re-4]*ne[7]+R[U-4]*ne[8]-fe[re-5]*ne[9]+R[U-5]*ne[10]-fe[re-6]*ne[11]+R[U-6]*ne[12]-fe[re-7]*ne[13]+R[U-7]*ne[14]-fe[re-8]*ne[15]+R[U-8]*ne[16]-fe[re-9]*ne[17]+R[U-9]*ne[18]-fe[re-10]*ne[19]+R[U-10]*ne[20],++re,++U}function w(R,U,fe,re,oe,ne){for(;oe--!=0;)fe[re]=R[U+0]*ne[0]-fe[re-1]*ne[1]+R[U-1]*ne[2]-fe[re-2]*ne[3]+R[U-2]*ne[4],++re,++U}function E(R,U){for(var fe=0;fe<MAX_ORDER;fe++)R.linprebuf[fe]=R.lstepbuf[fe]=R.loutbuf[fe]=R.rinprebuf[fe]=R.rstepbuf[fe]=R.routbuf[fe]=0;switch(0|U){case 48e3:R.reqindex=0;break;case 44100:R.reqindex=1;break;case 32e3:R.reqindex=2;break;case 24e3:R.reqindex=3;break;case 22050:R.reqindex=4;break;case 16e3:R.reqindex=5;break;case 12e3:R.reqindex=6;break;case 11025:R.reqindex=7;break;case 8e3:R.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return R.sampleWindow=0|(U*r+i-1)/i,R.lsum=0,R.rsum=0,R.totsamp=0,pi.ill(R.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(R,U){return E(R,U)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(R.linpre=MAX_ORDER,R.rinpre=MAX_ORDER,R.lstep=MAX_ORDER,R.rstep=MAX_ORDER,R.lout=MAX_ORDER,R.rout=MAX_ORDER,pi.fill(R.B,0),INIT_GAIN_ANALYSIS_OK)};function Q(R){return R*R}this.AnalyzeSamples=function(R,U,fe,re,oe,ne,k){var M,T,B,s,p,N,K;if(ne==0)return GAIN_ANALYSIS_OK;switch(K=0,p=ne,k){case 1:re=U,oe=fe;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ne<MAX_ORDER?(St.arraycopy(U,fe,R.linprebuf,MAX_ORDER,ne),St.arraycopy(re,oe,R.rinprebuf,MAX_ORDER,ne)):(St.arraycopy(U,fe,R.linprebuf,MAX_ORDER,MAX_ORDER),St.arraycopy(re,oe,R.rinprebuf,MAX_ORDER,MAX_ORDER));p>0;){N=p>R.sampleWindow-R.totsamp?R.sampleWindow-R.totsamp:p,K<MAX_ORDER?(M=R.linpre+K,T=R.linprebuf,B=R.rinpre+K,s=R.rinprebuf,N>MAX_ORDER-K&&(N=MAX_ORDER-K)):(M=fe+K,T=U,B=oe+K,s=re),m(T,M,R.lstepbuf,R.lstep+R.totsamp,N,_[R.reqindex]),m(s,B,R.rstepbuf,R.rstep+R.totsamp,N,_[R.reqindex]),w(R.lstepbuf,R.lstep+R.totsamp,R.loutbuf,R.lout+R.totsamp,N,c[R.reqindex]),w(R.rstepbuf,R.rstep+R.totsamp,R.routbuf,R.rout+R.totsamp,N,c[R.reqindex]),M=R.lout+R.totsamp,T=R.loutbuf,B=R.rout+R.totsamp,s=R.routbuf;for(var W=N%8;W--!=0;)R.lsum+=Q(T[M++]),R.rsum+=Q(s[B++]);for(W=N/8;W--!=0;)R.lsum+=Q(T[M+0])+Q(T[M+1])+Q(T[M+2])+Q(T[M+3])+Q(T[M+4])+Q(T[M+5])+Q(T[M+6])+Q(T[M+7]),M+=8,R.rsum+=Q(s[B+0])+Q(s[B+1])+Q(s[B+2])+Q(s[B+3])+Q(s[B+4])+Q(s[B+5])+Q(s[B+6])+Q(s[B+7]),B+=8;if(p-=N,K+=N,R.totsamp+=N,R.totsamp==R.sampleWindow){var Y=Je.STEPS_per_dB*10*Math.log10((R.lsum+R.rsum)/R.totsamp*.5+1e-37),ie=Y<=0?0:0|Y;ie>=R.A.length&&(ie=R.A.length-1),R.A[ie]++,R.lsum=R.rsum=0,St.arraycopy(R.loutbuf,R.totsamp,R.loutbuf,0,MAX_ORDER),St.arraycopy(R.routbuf,R.totsamp,R.routbuf,0,MAX_ORDER),St.arraycopy(R.lstepbuf,R.totsamp,R.lstepbuf,0,MAX_ORDER),St.arraycopy(R.rstepbuf,R.totsamp,R.rstepbuf,0,MAX_ORDER),R.totsamp=0}if(R.totsamp>R.sampleWindow)return GAIN_ANALYSIS_ERROR}return ne<MAX_ORDER?(St.arraycopy(R.linprebuf,ne,R.linprebuf,0,MAX_ORDER-ne),St.arraycopy(R.rinprebuf,ne,R.rinprebuf,0,MAX_ORDER-ne),St.arraycopy(U,fe,R.linprebuf,MAX_ORDER-ne,ne),St.arraycopy(re,oe,R.rinprebuf,MAX_ORDER-ne,ne)):(St.arraycopy(U,fe+ne-MAX_ORDER,R.linprebuf,0,MAX_ORDER),St.arraycopy(re,oe+ne-MAX_ORDER,R.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function b(R,U){var fe,re=0;for(fe=0;fe<U;fe++)re+=R[fe];if(re==0)return GAIN_NOT_ENOUGH_SAMPLES;var oe=0|Math.ceil(re*(1-t));for(fe=U;fe-- >0&&!((oe-=R[fe])<=0););return e-fe/Je.STEPS_per_dB}this.GetTitleGain=function(R){for(var U=b(R.A,R.A.length),fe=0;fe<R.A.length;fe++)R.B[fe]+=R.A[fe],R.A[fe]=0;for(var fe=0;fe<MAX_ORDER;fe++)R.linprebuf[fe]=R.lstepbuf[fe]=R.loutbuf[fe]=R.rinprebuf[fe]=R.rstepbuf[fe]=R.routbuf[fe]=0;return R.totsamp=0,R.lsum=R.rsum=0,U}}var Xs=Je,gt=at;gt.System;gt.VbrMode;gt.Float;gt.ShortBlock;gt.Util;gt.Arrays;gt.new_array_n;gt.new_byte;gt.new_double;var q0=gt.new_float;gt.new_float_n;var Ri=gt.new_int;gt.new_int_n;gt.assert;var xt=Xs;function i2(){this.linprebuf=q0(xt.MAX_ORDER*2),this.linpre=0,this.lstepbuf=q0(xt.MAX_SAMPLES_PER_WINDOW+xt.MAX_ORDER),this.lstep=0,this.loutbuf=q0(xt.MAX_SAMPLES_PER_WINDOW+xt.MAX_ORDER),this.lout=0,this.rinprebuf=q0(xt.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=q0(xt.MAX_SAMPLES_PER_WINDOW+xt.MAX_ORDER),this.rstep=0,this.routbuf=q0(xt.MAX_SAMPLES_PER_WINDOW+xt.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=Ri(0|xt.STEPS_per_dB*xt.MAX_dB),this.B=Ri(0|xt.STEPS_per_dB*xt.MAX_dB)}var s2=i2;function o2(e){this.bits=e}var qs=o2,Vt=at;Vt.System;Vt.VbrMode;Vt.Float;Vt.ShortBlock;Vt.Util;Vt.Arrays;Vt.new_array_n;Vt.new_byte;Vt.new_double;var yi=Vt.new_float;Vt.new_float_n;var l2=Vt.new_int;Vt.new_int_n;var wi=Vt.assert,u2=qs,Si=ht(),f2=ia,_2=sa;function c2(e){var t=e;this.quantize=t,this.iteration_loop=function(r,i,_,c){var m=r.internal_flags,w=yi(f2.SFBMAX),E=yi(576),Q=l2(2),b=0,R,U=m.l3_side,fe=new u2(b);this.quantize.rv.ResvFrameBegin(r,fe),b=fe.bits;for(var re=0;re<m.mode_gr;re++){R=this.quantize.qupvt.on_pe(r,i,Q,b,re,re),m.mode_ext==Si.MPG_MD_MS_LR&&(this.quantize.ms_convert(m.l3_side,re),this.quantize.qupvt.reduce_side(Q,_[re],b,R));for(var oe=0;oe<m.channels_out;oe++){var ne,k,M=U.tt[re][oe];M.block_type!=Si.SHORT_TYPE?(ne=0,k=m.PSY.mask_adjust-ne):(ne=0,k=m.PSY.mask_adjust_short-ne),m.masking_lower=Math.pow(10,k*.1),this.quantize.init_outer_loop(m,M),this.quantize.init_xrpow(m,M,E)&&(this.quantize.qupvt.calc_xmin(r,c[re][oe],M,w),this.quantize.outer_loop(r,M,w,E,oe,Q[oe])),this.quantize.iteration_finish_one(m,re,oe),wi(M.part2_3_length<=_2.MAX_BITS_PER_CHANNEL),wi(M.part2_3_length<=Q[oe])}}this.quantize.rv.ResvFrameEnd(m,b)}}var d2=c2;function $e(e,t,r,i){this.xlen=e,this.linmax=t,this.table=r,this.hlen=i}var Ee={};Ee.t1HB=[1,1,1,0];Ee.t2HB=[1,2,1,3,1,1,3,2,0];Ee.t3HB=[3,2,1,1,1,1,3,2,0];Ee.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0];Ee.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0];Ee.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0];Ee.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0];Ee.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0];Ee.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0];Ee.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0];Ee.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0];Ee.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1];Ee.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0];Ee.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3];Ee.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3];Ee.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16];Ee.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0];Ee.t1l=[1,4,3,5];Ee.t2l=[1,4,7,4,5,7,6,7,8];Ee.t3l=[2,3,7,4,4,7,6,7,8];Ee.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10];Ee.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9];Ee.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12];Ee.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13];Ee.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11];Ee.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13];Ee.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12];Ee.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12];Ee.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18];Ee.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15];Ee.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12];Ee.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10];Ee.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6];Ee.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10];Ee.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8];Ee.ht=[new $e(0,0,null,null),new $e(2,0,Ee.t1HB,Ee.t1l),new $e(3,0,Ee.t2HB,Ee.t2l),new $e(3,0,Ee.t3HB,Ee.t3l),new $e(0,0,null,null),new $e(4,0,Ee.t5HB,Ee.t5l),new $e(4,0,Ee.t6HB,Ee.t6l),new $e(6,0,Ee.t7HB,Ee.t7l),new $e(6,0,Ee.t8HB,Ee.t8l),new $e(6,0,Ee.t9HB,Ee.t9l),new $e(8,0,Ee.t10HB,Ee.t10l),new $e(8,0,Ee.t11HB,Ee.t11l),new $e(8,0,Ee.t12HB,Ee.t12l),new $e(16,0,Ee.t13HB,Ee.t13l),new $e(0,0,null,Ee.t16_5l),new $e(16,0,Ee.t15HB,Ee.t15l),new $e(1,1,Ee.t16HB,Ee.t16l),new $e(2,3,Ee.t16HB,Ee.t16l),new $e(3,7,Ee.t16HB,Ee.t16l),new $e(4,15,Ee.t16HB,Ee.t16l),new $e(6,63,Ee.t16HB,Ee.t16l),new $e(8,255,Ee.t16HB,Ee.t16l),new $e(10,1023,Ee.t16HB,Ee.t16l),new $e(13,8191,Ee.t16HB,Ee.t16l),new $e(4,15,Ee.t24HB,Ee.t24l),new $e(5,31,Ee.t24HB,Ee.t24l),new $e(6,63,Ee.t24HB,Ee.t24l),new $e(7,127,Ee.t24HB,Ee.t24l),new $e(8,255,Ee.t24HB,Ee.t24l),new $e(9,511,Ee.t24HB,Ee.t24l),new $e(11,2047,Ee.t24HB,Ee.t24l),new $e(13,8191,Ee.t24HB,Ee.t24l),new $e(0,0,Ee.t32HB,Ee.t32l),new $e(0,0,Ee.t33HB,Ee.t33l)];Ee.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366];Ee.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296];Ee.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369];Ee.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]];Ee.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]];Ee.scfsi_band=[0,6,11,16,21];var yn=Ee,Oa,xi;function Gs(){if(xi)return Oa;xi=1;var e=Us,t=at;t.System;var r=t.VbrMode,i=t.Float;t.ShortBlock;var _=t.Util;t.Arrays,t.new_array_n,t.new_byte,t.new_double;var c=t.new_float;t.new_float_n;var m=t.new_int;t.new_int_n;var w=t.assert,E=ht(),Q=qs,b=sa;R.Q_MAX=257,R.Q_MAX2=116,R.LARGE_BITS=1e5,R.IXMAX_VAL=8206;function R(){var U=wn(),fe=null,re=null,oe=null;this.setModules=function(g,j,Z){fe=g,re=j,oe=Z};function ne(g){return w(0<=g+R.Q_MAX2&&g<R.Q_MAX),K[g+R.Q_MAX2]}this.IPOW20=function(g){return w(0<=g&&g<R.Q_MAX),W[g]};var k=2220446049250313e-31,M=R.IXMAX_VAL,T=M+2,B=R.Q_MAX,s=R.Q_MAX2;R.LARGE_BITS;var p=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var N=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=N,this.sfBandIndex=[new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new e([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var K=c(B+s+1),W=c(B),Y=c(T),ie=c(T);this.adj43=ie;function _e(g,j){var Z=oe.ATHformula(j,g);return Z-=p,Z=Math.pow(10,Z/10+g.ATHlower),Z}function L(g){for(var j=g.internal_flags.ATH.l,Z=g.internal_flags.ATH.psfb21,q=g.internal_flags.ATH.s,le=g.internal_flags.ATH.psfb12,v=g.internal_flags,a=g.out_samplerate,n=0;n<E.SBMAX_l;n++){var f=v.scalefac_band.l[n],o=v.scalefac_band.l[n+1];j[n]=i.MAX_VALUE;for(var h=f;h<o;h++){var O=h*a/1152,I=_e(g,O);j[n]=Math.min(j[n],I)}}for(var n=0;n<E.PSFB21;n++){var f=v.scalefac_band.psfb21[n],o=v.scalefac_band.psfb21[n+1];Z[n]=i.MAX_VALUE;for(var h=f;h<o;h++){var O=h*a/1152,I=_e(g,O);Z[n]=Math.min(Z[n],I)}}for(var n=0;n<E.SBMAX_s;n++){var f=v.scalefac_band.s[n],o=v.scalefac_band.s[n+1];q[n]=i.MAX_VALUE;for(var h=f;h<o;h++){var O=h*a/384,I=_e(g,O);q[n]=Math.min(q[n],I)}q[n]*=v.scalefac_band.s[n+1]-v.scalefac_band.s[n]}for(var n=0;n<E.PSFB12;n++){var f=v.scalefac_band.psfb12[n],o=v.scalefac_band.psfb12[n+1];le[n]=i.MAX_VALUE;for(var h=f;h<o;h++){var O=h*a/384,I=_e(g,O);le[n]=Math.min(le[n],I)}le[n]*=v.scalefac_band.s[13]-v.scalefac_band.s[12]}if(g.noATH){for(var n=0;n<E.SBMAX_l;n++)j[n]=1e-20;for(var n=0;n<E.PSFB21;n++)Z[n]=1e-20;for(var n=0;n<E.SBMAX_s;n++)q[n]=1e-20;for(var n=0;n<E.PSFB12;n++)le[n]=1e-20}v.ATH.floor=10*Math.log10(_e(g,-1))}this.iteration_init=function(g){var j=g.internal_flags,Z=j.l3_side,q;if(j.iteration_init_init==0){for(j.iteration_init_init=1,Z.main_data_begin=0,L(g),Y[0]=0,q=1;q<T;q++)Y[q]=Math.pow(q,4/3);for(q=0;q<T-1;q++)ie[q]=q+1-Math.pow(.5*(Y[q]+Y[q+1]),.75);for(ie[q]=.5,q=0;q<B;q++)W[q]=Math.pow(2,(q-210)*-.1875);for(q=0;q<=B+s;q++)K[q]=Math.pow(2,(q-210-s)*.25);fe.huffman_init(j);{var le,v,a,n;for(q=g.exp_nspsytune>>2&63,q>=32&&(q-=64),le=Math.pow(10,q/4/10),q=g.exp_nspsytune>>8&63,q>=32&&(q-=64),v=Math.pow(10,q/4/10),q=g.exp_nspsytune>>14&63,q>=32&&(q-=64),a=Math.pow(10,q/4/10),q=g.exp_nspsytune>>20&63,q>=32&&(q-=64),n=a*Math.pow(10,q/4/10),q=0;q<E.SBMAX_l;q++){var f;q<=6?f=le:q<=13?f=v:q<=20?f=a:f=n,j.nsPsy.longfact[q]=f}for(q=0;q<E.SBMAX_s;q++){var f;q<=5?f=le:q<=10?f=v:q<=11?f=a:f=n,j.nsPsy.shortfact[q]=f}}}},this.on_pe=function(g,j,Z,q,le,v){var a=g.internal_flags,n=0,f,o=m(2),h,O=new Q(n),I=re.ResvMaxBits(g,q,O,v);n=O.bits;var H=n+I;for(H>b.MAX_BITS_PER_GRANULE&&(H=b.MAX_BITS_PER_GRANULE),f=0,h=0;h<a.channels_out;++h)Z[h]=Math.min(b.MAX_BITS_PER_CHANNEL,n/a.channels_out),o[h]=0|Z[h]*j[le][h]/700-Z[h],o[h]>q*3/4&&(o[h]=q*3/4),o[h]<0&&(o[h]=0),o[h]+Z[h]>b.MAX_BITS_PER_CHANNEL&&(o[h]=Math.max(0,b.MAX_BITS_PER_CHANNEL-Z[h])),f+=o[h];if(f>I)for(h=0;h<a.channels_out;++h)o[h]=I*o[h]/f;for(h=0;h<a.channels_out;++h)Z[h]+=o[h],I-=o[h];for(f=0,h=0;h<a.channels_out;++h)f+=Z[h];if(f>b.MAX_BITS_PER_GRANULE){var C=0;for(h=0;h<a.channels_out;++h)Z[h]*=b.MAX_BITS_PER_GRANULE,Z[h]/=f,C+=Z[h];w(C<=b.MAX_BITS_PER_GRANULE)}return H},this.reduce_side=function(g,j,Z,q){w(q<=b.MAX_BITS_PER_GRANULE),w(g[0]+g[1]<=b.MAX_BITS_PER_GRANULE);var le=.33*(.5-j)/.5;le<0&&(le=0),le>.5&&(le=.5);var v=0|le*.5*(g[0]+g[1]);v>b.MAX_BITS_PER_CHANNEL-g[0]&&(v=b.MAX_BITS_PER_CHANNEL-g[0]),v<0&&(v=0),g[1]>=125&&(g[1]-v>125?(g[0]<Z&&(g[0]+=v),g[1]-=v):(g[0]+=g[1]-125,g[1]=125)),v=g[0]+g[1],v>q&&(g[0]=q*g[0]/v,g[1]=q*g[1]/v),w(g[0]<=b.MAX_BITS_PER_CHANNEL),w(g[1]<=b.MAX_BITS_PER_CHANNEL),w(g[0]+g[1]<=b.MAX_BITS_PER_GRANULE)},this.athAdjust=function(g,j,Z){var q=90.30873362,le=94.82444863,v=_.FAST_LOG10_X(j,10),a=g*g,n=0;return v-=Z,a>1e-20&&(n=1+_.FAST_LOG10_X(a,10/q)),n<0&&(n=0),v*=n,v+=Z+q-le,Math.pow(10,.1*v)},this.calc_xmin=function(g,j,Z,q){var le=0,v=g.internal_flags,a,n=0,f=0,o=v.ATH,h=Z.xr,O=g.VBR==r.vbr_mtrh?1:0,I=v.masking_lower;for((g.VBR==r.vbr_mtrh||g.VBR==r.vbr_mt)&&(I=1),a=0;a<Z.psy_lmax;a++){var H,C,$,se,ve,y;g.VBR==r.vbr_rh||g.VBR==r.vbr_mtrh?C=athAdjust(o.adjust,o.l[a],o.floor):C=o.adjust*o.l[a],ve=Z.width[a],$=C/ve,se=k,y=ve>>1,H=0;do{var A,X;A=h[n]*h[n],H+=A,se+=A<$?A:$,n++,X=h[n]*h[n],H+=X,se+=X<$?X:$,n++}while(--y>0);if(H>C&&f++,a==E.SBPSY_l){var J=C*v.nsPsy.longfact[a];se<J&&(se=J)}if(O!=0&&(C=se),!g.ATHonly){var D=j.en.l[a];if(D>0){var J;J=H*j.thm.l[a]*I/D,O!=0&&(J*=v.nsPsy.longfact[a]),C<J&&(C=J)}}O!=0?q[le++]=C:q[le++]=C*v.nsPsy.longfact[a]}var he=575;if(Z.block_type!=E.SHORT_TYPE)for(var u=576;u--!=0&&U.EQ(h[u],0);)he=u;Z.max_nonzero_coeff=he;for(var l=Z.sfb_smin;a<Z.psymax;l++,a+=3){var ve,G,z;for(g.VBR==r.vbr_rh||g.VBR==r.vbr_mtrh?z=athAdjust(o.adjust,o.s[l],o.floor):z=o.adjust*o.s[l],ve=Z.width[a],G=0;G<3;G++){var H=0,C,$,se,y=ve>>1;$=z/ve,se=k;do{var A,X;A=h[n]*h[n],H+=A,se+=A<$?A:$,n++,X=h[n]*h[n],H+=X,se+=X<$?X:$,n++}while(--y>0);if(H>z&&f++,l==E.SBPSY_s){var J=z*v.nsPsy.shortfact[l];se<J&&(se=J)}if(O!=0?C=se:C=z,!g.ATHonly&&!g.ATHshort){var D=j.en.s[l][G];if(D>0){var J;J=H*j.thm.s[l][G]*I/D,O!=0&&(J*=v.nsPsy.shortfact[l]),C<J&&(C=J)}}O!=0?q[le++]=C:q[le++]=C*v.nsPsy.shortfact[l]}g.useTemporal&&(q[le-3]>q[le-3+1]&&(q[le-3+1]+=(q[le-3]-q[le-3+1])*v.decay),q[le-3+1]>q[le-3+2]&&(q[le-3+2]+=(q[le-3+1]-q[le-3+2])*v.decay))}return f};function d(g){this.s=g}this.calc_noise_core=function(g,j,Z,q){var le=0,v=j.s,a=g.l3_enc;if(v>g.count1)for(;Z--!=0;){var n;n=g.xr[v],v++,le+=n*n,n=g.xr[v],v++,le+=n*n}else if(v>g.big_values){var f=c(2);for(f[0]=0,f[1]=q;Z--!=0;){var n;n=Math.abs(g.xr[v])-f[a[v]],v++,le+=n*n,n=Math.abs(g.xr[v])-f[a[v]],v++,le+=n*n}}else for(;Z--!=0;){var n;n=Math.abs(g.xr[v])-Y[a[v]]*q,v++,le+=n*n,n=Math.abs(g.xr[v])-Y[a[v]]*q,v++,le+=n*n}return j.s=v,le},this.calc_noise=function(g,j,Z,q,le){var v=0,a=0,n,f,o=0,h=0,O=0,I=-20,H=0,C=g.scalefac,$=0;for(q.over_SSD=0,n=0;n<g.psymax;n++){var se=g.global_gain-(C[$++]+(g.preflag!=0?N[n]:0)<<g.scalefac_scale+1)-g.subblock_gain[g.window[n]]*8,ve=0;if(le!=null&&le.step[n]==se)ve=le.noise[n],H+=g.width[n],Z[v++]=ve/j[a++],ve=le.noise_log[n];else{var y=ne(se);if(f=g.width[n]>>1,H+g.width[n]>g.max_nonzero_coeff){var A;A=g.max_nonzero_coeff-H+1,A>0?f=A>>1:f=0}var X=new d(H);ve=this.calc_noise_core(g,X,f,y),H=X.s,le!=null&&(le.step[n]=se,le.noise[n]=ve),ve=Z[v++]=ve/j[a++],ve=_.FAST_LOG10(Math.max(ve,1e-20)),le!=null&&(le.noise_log[n]=ve)}if(le!=null&&(le.global_gain=g.global_gain),O+=ve,ve>0){var J;J=Math.max(0|ve*10+.5,1),q.over_SSD+=J*J,o++,h+=ve}I=Math.max(I,ve)}return q.over_count=o,q.tot_noise=O,q.over_noise=h,q.max_noise=I,o},this.set_pinfo=function(g,j,Z,q,le){var v=g.internal_flags,a,n,f,o,h,O=j.scalefac_scale==0?.5:1,I=j.scalefac,H=c(L3Side.SFBMAX),C=c(L3Side.SFBMAX),$=new CalcNoiseResult;calc_xmin(g,Z,j,H),calc_noise(j,H,C,$,null);var se=0;for(n=j.sfb_lmax,j.block_type!=E.SHORT_TYPE&&j.mixed_block_flag==0&&(n=22),a=0;a<n;a++){var ve=v.scalefac_band.l[a],y=v.scalefac_band.l[a+1],A=y-ve;for(o=0;se<y;se++)o+=j.xr[se]*j.xr[se];o/=A,h=1e15,v.pinfo.en[q][le][a]=h*o,v.pinfo.xfsf[q][le][a]=h*H[a]*C[a]/A,Z.en.l[a]>0&&!g.ATHonly?o=o/Z.en.l[a]:o=0,v.pinfo.thr[q][le][a]=h*Math.max(o*Z.thm.l[a],v.ATH.l[a]),v.pinfo.LAMEsfb[q][le][a]=0,j.preflag!=0&&a>=11&&(v.pinfo.LAMEsfb[q][le][a]=-O*N[a]),a<E.SBPSY_l&&(w(I[a]>=0),v.pinfo.LAMEsfb[q][le][a]-=O*I[a])}if(j.block_type==E.SHORT_TYPE)for(n=a,a=j.sfb_smin;a<E.SBMAX_s;a++)for(var ve=v.scalefac_band.s[a],y=v.scalefac_band.s[a+1],A=y-ve,X=0;X<3;X++){for(o=0,f=ve;f<y;f++)o+=j.xr[se]*j.xr[se],se++;o=Math.max(o/A,1e-20),h=1e15,v.pinfo.en_s[q][le][3*a+X]=h*o,v.pinfo.xfsf_s[q][le][3*a+X]=h*H[n]*C[n]/A,Z.en.s[a][X]>0?o=o/Z.en.s[a][X]:o=0,(g.ATHonly||g.ATHshort)&&(o=0),v.pinfo.thr_s[q][le][3*a+X]=h*Math.max(o*Z.thm.s[a][X],v.ATH.s[a]),v.pinfo.LAMEsfb_s[q][le][3*a+X]=-2*j.subblock_gain[X],a<E.SBPSY_s&&(v.pinfo.LAMEsfb_s[q][le][3*a+X]-=O*I[n]),n++}v.pinfo.LAMEqss[q][le]=j.global_gain,v.pinfo.LAMEmainbits[q][le]=j.part2_3_length+j.part2_length,v.pinfo.LAMEsfbits[q][le]=j.part2_length,v.pinfo.over[q][le]=$.over_count,v.pinfo.max_noise[q][le]=$.max_noise*10,v.pinfo.over_noise[q][le]=$.over_noise*10,v.pinfo.tot_noise[q][le]=$.tot_noise*10,v.pinfo.over_SSD[q][le]=$.over_SSD}}return Oa=R,Oa}var Fa,Ai;function Ys(){if(Ai)return Fa;Ai=1;var e=at,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n,e.new_byte,e.new_double,e.new_float,e.new_float_n;var i=e.new_int;e.new_int_n;var _=e.assert,c=ht(),m=yn,w=Rn,E=Gs();function Q(){var b=null;this.qupvt=null,this.setModules=function(v){this.qupvt=v,b=v};function R(v){this.bits=0|v}var U=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function fe(v,a,n,f,o,h){var O=.5946/a;for(_(v>0),v=v>>1;v--!=0;)o[h++]=O>n[f++]?0:1,o[h++]=O>n[f++]?0:1}function re(v,a,n,f,o,h){_(v>0),v=v>>1;var O=v%2;for(v=v>>1;v--!=0;){var I,H,C,$,se,ve,y,A;I=n[f++]*a,H=n[f++]*a,se=0|I,C=n[f++]*a,ve=0|H,$=n[f++]*a,y=0|C,I+=b.adj43[se],A=0|$,H+=b.adj43[ve],o[h++]=0|I,C+=b.adj43[y],o[h++]=0|H,$+=b.adj43[A],o[h++]=0|C,o[h++]=0|$}if(O!=0){var I,H,se,ve;I=n[f++]*a,H=n[f++]*a,se=0|I,ve=0|H,I+=b.adj43[se],H+=b.adj43[ve],o[h++]=0|I,o[h++]=0|H}}function oe(v,a,n,f,o){var h,O,I=0,H,C=0,$=0,se=0,ve=a,y=0,A=ve,X=0,J=v,D=0;for(H=o!=null&&f.global_gain==o.global_gain,f.block_type==c.SHORT_TYPE?O=38:O=21,h=0;h<=O;h++){var he=-1;if((H||f.block_type==c.NORM_TYPE)&&(he=f.global_gain-(f.scalefac[h]+(f.preflag!=0?b.pretab[h]:0)<<f.scalefac_scale+1)-f.subblock_gain[f.window[h]]*8),_(f.width[h]>=0),H&&o.step[h]==he)C!=0&&(re(C,n,J,D,A,X),C=0),$!=0&&(fe($,n,J,D,A,X),$=0);else{var u=f.width[h];if(I+f.width[h]>f.max_nonzero_coeff){var l;l=f.max_nonzero_coeff-I+1,r.fill(a,f.max_nonzero_coeff,576,0),u=l,u<0&&(u=0),h=O+1}if(C==0&&$==0&&(A=ve,X=y,J=v,D=se),o!=null&&o.sfb_count1>0&&h>=o.sfb_count1&&o.step[h]>0&&he>=o.step[h]?(C!=0&&(re(C,n,J,D,A,X),C=0,A=ve,X=y,J=v,D=se),$+=u):($!=0&&(fe($,n,J,D,A,X),$=0,A=ve,X=y,J=v,D=se),C+=u),u<=0){$!=0&&(fe($,n,J,D,A,X),$=0),C!=0&&(re(C,n,J,D,A,X),C=0);break}}h<=O&&(y+=f.width[h],se+=f.width[h],I+=f.width[h])}C!=0&&(re(C,n,J,D,A,X),C=0),$!=0&&(fe($,n,J,D,A,X),$=0)}function ne(v,a,n){var f=0,o=0;do{var h=v[a++],O=v[a++];f<h&&(f=h),o<O&&(o=O)}while(a<n);return f<o&&(f=o),f}function k(v,a,n,f,o,h){var O=m.ht[f].xlen*65536+m.ht[o].xlen,I=0,H;do{var C=v[a++],$=v[a++];C!=0&&(C>14&&(C=15,I+=O),C*=16),$!=0&&($>14&&($=15,I+=O),C+=$),I+=m.largetbl[C]}while(a<n);return H=I&65535,I>>=16,I>H&&(I=H,f=o),h.bits+=I,f}function M(v,a,n,f){var o=0,h=m.ht[1].hlen;do{var O=v[a+0]*2+v[a+1];a+=2,o+=h[O]}while(a<n);return f.bits+=o,1}function T(v,a,n,f,o){var h=0,O,I=m.ht[f].xlen,H;f==2?H=m.table23:H=m.table56;do{var C=v[a+0]*I+v[a+1];a+=2,h+=H[C]}while(a<n);return O=h&65535,h>>=16,h>O&&(h=O,f++),o.bits+=h,f}function B(v,a,n,f,o){var h=0,O=0,I=0,H=m.ht[f].xlen,C=m.ht[f].hlen,$=m.ht[f+1].hlen,se=m.ht[f+2].hlen;do{var ve=v[a+0]*H+v[a+1];a+=2,h+=C[ve],O+=$[ve],I+=se[ve]}while(a<n);var y=f;return h>O&&(h=O,y++),h>I&&(h=I,y=f+2),o.bits+=h,y}var s=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function p(v,a,n,f){var o=ne(v,a,n);switch(o){case 0:return o;case 1:return M(v,a,n,f);case 2:case 3:return T(v,a,n,s[o-1],f);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return B(v,a,n,s[o-1],f);default:if(o>E.IXMAX_VAL)return f.bits=E.LARGE_BITS,-1;o-=15;var h;for(h=24;h<32&&!(m.ht[h].linmax>=o);h++);var O;for(O=h-8;O<24&&!(m.ht[O].linmax>=o);O++);return k(v,a,n,O,h,f)}}this.noquant_count_bits=function(v,a,n){var f=a.l3_enc,o=Math.min(576,a.max_nonzero_coeff+2>>1<<1);for(n!=null&&(n.sfb_count1=0);o>1&&!(f[o-1]|f[o-2]);o-=2);a.count1=o;for(var h=0,O=0;o>3;o-=4){var I;if(((f[o-1]|f[o-2]|f[o-3]|f[o-4])&2147483647)>1)break;I=((f[o-4]*2+f[o-3])*2+f[o-2])*2+f[o-1],h+=m.t32l[I],O+=m.t33l[I]}var H=h;if(a.count1table_select=0,h>O&&(H=O,a.count1table_select=1),a.count1bits=H,a.big_values=o,o==0)return H;if(a.block_type==c.SHORT_TYPE)h=3*v.scalefac_band.s[3],h>a.big_values&&(h=a.big_values),O=a.big_values;else if(a.block_type==c.NORM_TYPE){if(_(o<=576),h=a.region0_count=v.bv_scf[o-2],O=a.region1_count=v.bv_scf[o-1],_(h+O+2<c.SBPSY_l),O=v.scalefac_band.l[h+O+2],h=v.scalefac_band.l[h+1],O<o){var C=new R(H);a.table_select[2]=p(f,O,o,C),H=C.bits}}else a.region0_count=7,a.region1_count=c.SBMAX_l-1-7-1,h=v.scalefac_band.l[8],O=o,h>O&&(h=O);if(h=Math.min(h,o),O=Math.min(O,o),_(h>=0),_(O>=0),0<h){var C=new R(H);a.table_select[0]=p(f,0,h,C),H=C.bits}if(h<O){var C=new R(H);a.table_select[1]=p(f,h,O,C),H=C.bits}if(v.use_best_huffman==2&&(a.part2_3_length=H,best_huffman_divide(v,a),H=a.part2_3_length),n!=null&&a.block_type==c.NORM_TYPE){for(var $=0;v.scalefac_band.l[$]<a.big_values;)$++;n.sfb_count1=$}return H},this.count_bits=function(v,a,n,f){var o=n.l3_enc,h=E.IXMAX_VAL/b.IPOW20(n.global_gain);if(n.xrpow_max>h)return E.LARGE_BITS;if(oe(a,o,b.IPOW20(n.global_gain),n,f),v.substep_shaping&2)for(var O=0,I=n.global_gain+n.scalefac_scale,H=.634521682242439/b.IPOW20(I),C=0;C<n.sfbmax;C++){var $=n.width[C];if(_($>=0),v.pseudohalf[C]==0)O+=$;else{var se;for(se=O,O+=$;se<O;++se)o[se]=a[se]>=H?o[se]:0}}return this.noquant_count_bits(v,n,f)};function N(v,a,n,f,o,h,O){for(var I=a.big_values,H=0;H<=22;H++)f[H]=E.LARGE_BITS;for(var H=0;H<16;H++){var C=v.scalefac_band.l[H+1];if(C>=I)break;var $=0,se=new R($),ve=p(n,0,C,se);$=se.bits;for(var y=0;y<8;y++){var A=v.scalefac_band.l[H+y+2];if(A>=I)break;var X=$;se=new R(X);var J=p(n,C,A,se);X=se.bits,f[H+y]>X&&(f[H+y]=X,o[H+y]=H,h[H+y]=ve,O[H+y]=J)}}}function K(v,a,n,f,o,h,O,I){for(var H=a.big_values,C=2;C<c.SBMAX_l+1;C++){var $=v.scalefac_band.l[C];if($>=H)break;var se=o[C-2]+a.count1bits;if(n.part2_3_length<=se)break;var ve=new R(se),y=p(f,$,H,ve);se=ve.bits,!(n.part2_3_length<=se)&&(n.assign(a),n.part2_3_length=se,n.region0_count=h[C-2],n.region1_count=C-2-h[C-2],n.table_select[0]=O[C-2],n.table_select[1]=I[C-2],n.table_select[2]=y)}}this.best_huffman_divide=function(v,a){var n=new w,f=a.l3_enc,o=i(23),h=i(23),O=i(23),I=i(23);if(!(a.block_type==c.SHORT_TYPE&&v.mode_gr==1)){n.assign(a),a.block_type==c.NORM_TYPE&&(N(v,a,f,o,h,O,I),K(v,n,a,f,o,h,O,I));var H=n.big_values;if(!(H==0||(f[H-2]|f[H-1])>1)&&(H=a.count1+2,!(H>576))){n.assign(a),n.count1=H;var C=0,$=0;for(_(H<=576);H>n.big_values;H-=4){var se=((f[H-4]*2+f[H-3])*2+f[H-2])*2+f[H-1];C+=m.t32l[se],$+=m.t33l[se]}if(n.big_values=H,n.count1table_select=0,C>$&&(C=$,n.count1table_select=1),n.count1bits=C,n.block_type==c.NORM_TYPE)K(v,n,a,f,o,h,O,I);else{if(n.part2_3_length=C,C=v.scalefac_band.l[8],C>H&&(C=H),C>0){var ve=new R(n.part2_3_length);n.table_select[0]=p(f,0,C,ve),n.part2_3_length=ve.bits}if(H>C){var ve=new R(n.part2_3_length);n.table_select[1]=p(f,C,H,ve),n.part2_3_length=ve.bits}a.part2_3_length>n.part2_3_length&&a.assign(n)}}}};var W=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],Y=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],ie=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],_e=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];Q.slen1_tab=ie,Q.slen2_tab=_e;function L(v,a){for(var n,f=a.tt[1][v],o=a.tt[0][v],h=0;h<m.scfsi_band.length-1;h++){for(n=m.scfsi_band[h];n<m.scfsi_band[h+1]&&!(o.scalefac[n]!=f.scalefac[n]&&f.scalefac[n]>=0);n++);if(n==m.scfsi_band[h+1]){for(n=m.scfsi_band[h];n<m.scfsi_band[h+1];n++)f.scalefac[n]=-1;a.scfsi[v][h]=1}}var O=0,I=0;for(n=0;n<11;n++)f.scalefac[n]!=-1&&(I++,O<f.scalefac[n]&&(O=f.scalefac[n]));for(var H=0,C=0;n<c.SBPSY_l;n++)f.scalefac[n]!=-1&&(C++,H<f.scalefac[n]&&(H=f.scalefac[n]));for(var h=0;h<16;h++)if(O<W[h]&&H<Y[h]){var $=ie[h]*I+_e[h]*C;f.part2_length>$&&(f.part2_length=$,f.scalefac_compress=h)}}this.best_scalefac_store=function(v,a,n,f){var o=f.tt[a][n],h,O,I,H,C=0;for(I=0,h=0;h<o.sfbmax;h++){var $=o.width[h];for(_($>=0),I+=$,H=-$;H<0&&o.l3_enc[H+I]==0;H++);H==0&&(o.scalefac[h]=C=-2)}if(o.scalefac_scale==0&&o.preflag==0){var se=0;for(h=0;h<o.sfbmax;h++)o.scalefac[h]>0&&(se|=o.scalefac[h]);if(!(se&1)&&se!=0){for(h=0;h<o.sfbmax;h++)o.scalefac[h]>0&&(o.scalefac[h]>>=1);o.scalefac_scale=C=1}}if(o.preflag==0&&o.block_type!=c.SHORT_TYPE&&v.mode_gr==2){for(h=11;h<c.SBPSY_l&&!(o.scalefac[h]<b.pretab[h]&&o.scalefac[h]!=-2);h++);if(h==c.SBPSY_l){for(h=11;h<c.SBPSY_l;h++)o.scalefac[h]>0&&(o.scalefac[h]-=b.pretab[h]);o.preflag=C=1}}for(O=0;O<4;O++)f.scfsi[n][O]=0;for(v.mode_gr==2&&a==1&&f.tt[0][n].block_type!=c.SHORT_TYPE&&f.tt[1][n].block_type!=c.SHORT_TYPE&&(L(n,f),C=0),h=0;h<o.sfbmax;h++)o.scalefac[h]==-2&&(o.scalefac[h]=0);C!=0&&(v.mode_gr==2?this.scale_bitcount(o):this.scale_bitcount_lsf(v,o))};function d(v,a){for(var n=0;n<a;++n)if(v[n]<0)return!1;return!0}var g=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],j=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Z=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(v){var a,n,f=0,o=0,h,O=v.scalefac;if(_(d(O,v.sfbmax)),v.block_type==c.SHORT_TYPE)h=g,v.mixed_block_flag!=0&&(h=j);else if(h=Z,v.preflag==0){for(n=11;n<c.SBPSY_l&&!(O[n]<b.pretab[n]);n++);if(n==c.SBPSY_l)for(v.preflag=1,n=11;n<c.SBPSY_l;n++)O[n]-=b.pretab[n]}for(n=0;n<v.sfbdivide;n++)f<O[n]&&(f=O[n]);for(;n<v.sfbmax;n++)o<O[n]&&(o=O[n]);for(v.part2_length=E.LARGE_BITS,a=0;a<16;a++)f<W[a]&&o<Y[a]&&v.part2_length>h[a]&&(v.part2_length=h[a],v.scalefac_compress=a);return v.part2_length==E.LARGE_BITS};var q=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(v,a){var n,f,o,h,O,I,H,C,$=i(4),se=a.scalefac;for(a.preflag!=0?n=2:n=0,H=0;H<4;H++)$[H]=0;if(a.block_type==c.SHORT_TYPE){f=1;var ve=b.nr_of_sfb_block[n][f];for(C=0,o=0;o<4;o++)for(h=ve[o]/3,H=0;H<h;H++,C++)for(O=0;O<3;O++)se[C*3+O]>$[o]&&($[o]=se[C*3+O])}else{f=0;var ve=b.nr_of_sfb_block[n][f];for(C=0,o=0;o<4;o++)for(h=ve[o],H=0;H<h;H++,C++)se[C]>$[o]&&($[o]=se[C])}for(I=!1,o=0;o<4;o++)$[o]>q[n][o]&&(I=!0);if(!I){var y,A,X,J;for(a.sfb_partition_table=b.nr_of_sfb_block[n][f],o=0;o<4;o++)a.slen[o]=le[$[o]];switch(y=a.slen[0],A=a.slen[1],X=a.slen[2],J=a.slen[3],n){case 0:a.scalefac_compress=(y*5+A<<4)+(X<<2)+J;break;case 1:a.scalefac_compress=400+(y*5+A<<2)+X;break;case 2:a.scalefac_compress=500+y*3+A;break;default:t.err.printf(`intensity stereo not implemented yet
`);break}}if(!I)for(_(a.sfb_partition_table!=null),a.part2_length=0,o=0;o<4;o++)a.part2_length+=a.slen[o]*a.sfb_partition_table[o];return I};var le=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(v){for(var a=2;a<=576;a+=2){for(var n=0,f;v.scalefac_band.l[++n]<a;);for(f=U[n][0];v.scalefac_band.l[f+1]>a;)f--;for(f<0&&(f=U[n][0]),v.bv_scf[a-2]=f,f=U[n][1];v.scalefac_band.l[f+v.bv_scf[a-2]+2]>a;)f--;f<0&&(f=U[n][1]),v.bv_scf[a-1]=f}}}return Fa=Q,Fa}var Na,Mi;function wn(){if(Mi)return Na;Mi=1;var e=at,t=e.System;e.VbrMode,e.Float,e.ShortBlock,e.Util;var r=e.Arrays;e.new_array_n;var i=e.new_byte;e.new_double,e.new_float;var _=e.new_float_n,c=e.new_int;e.new_int_n;var m=e.assert,w=Ys(),E=yn,Q=ht(),b=sa;R.EQ=function(U,fe){return Math.abs(U)>Math.abs(fe)?Math.abs(U-fe)<=Math.abs(U)*1e-6:Math.abs(U-fe)<=Math.abs(fe)*1e-6},R.NEQ=function(U,fe){return!R.EQ(U,fe)};function R(){var U=Sn(),fe=this,re=32773,oe=32,ne=null,k=null,M=null,T=null;this.setModules=function(n,f,o,h){ne=n,k=f,M=o,T=h};var B=null,s=0,p=0,N=0;this.getframebits=function(n){var f=n.internal_flags,o;f.bitrate_index!=0?o=E.bitrate_table[n.version][f.bitrate_index]:o=n.brate,m(8<=o&&o<=640);var h=0|(n.version+1)*72e3*o/n.out_samplerate+f.padding;return 8*h};function K(n){t.arraycopy(n.header[n.w_ptr].buf,0,B,p,n.sideinfo_len),p+=n.sideinfo_len,s+=n.sideinfo_len*8,n.w_ptr=n.w_ptr+1&b.MAX_HEADER_BUF-1}function W(n,f,o){for(m(o<oe-2);o>0;){var h;N==0&&(N=8,p++,m(p<U.LAME_MAXMP3BUFFER),m(n.header[n.w_ptr].write_timing>=s),n.header[n.w_ptr].write_timing==s&&K(n),B[p]=0),h=Math.min(o,N),o-=h,N-=h,m(o<oe),m(N<oe),B[p]|=f>>o<<N,s+=h}}function Y(n,f,o){for(m(o<oe-2);o>0;){var h;N==0&&(N=8,p++,m(p<U.LAME_MAXMP3BUFFER),B[p]=0),h=Math.min(o,N),o-=h,N-=h,m(o<oe),m(N<oe),B[p]|=f>>o<<N,s+=h}}function ie(n,f){var o=n.internal_flags,h;if(m(f>=0),f>=8&&(W(o,76,8),f-=8),f>=8&&(W(o,65,8),f-=8),f>=8&&(W(o,77,8),f-=8),f>=8&&(W(o,69,8),f-=8),f>=32){var O=M.getLameShortVersion();if(f>=32)for(h=0;h<O.length&&f>=8;++h)f-=8,W(o,O.charAt(h),8)}for(;f>=1;f-=1)W(o,o.ancillary_flag,1),o.ancillary_flag^=n.disable_reservoir?0:1;m(f==0)}function _e(n,f,o){for(var h=n.header[n.h_ptr].ptr;o>0;){var O=Math.min(o,8-(h&7));o-=O,m(o<oe),n.header[n.h_ptr].buf[h>>3]|=f>>o<<8-(h&7)-O,h+=O}n.header[n.h_ptr].ptr=h}function L(n,f){n<<=8;for(var o=0;o<8;o++)n<<=1,f<<=1,(f^n)&65536&&(f^=re);return f}this.CRC_writeheader=function(n,f){var o=65535;o=L(f[2]&255,o),o=L(f[3]&255,o);for(var h=6;h<n.sideinfo_len;h++)o=L(f[h]&255,o);f[4]=byte(o>>8),f[5]=byte(o&255)};function d(n,f){var o=n.internal_flags,h,O,I;if(h=o.l3_side,o.header[o.h_ptr].ptr=0,r.fill(o.header[o.h_ptr].buf,0,o.sideinfo_len,0),n.out_samplerate<16e3?_e(o,4094,12):_e(o,4095,12),_e(o,n.version,1),_e(o,1,2),_e(o,n.error_protection?0:1,1),_e(o,o.bitrate_index,4),_e(o,o.samplerate_index,2),_e(o,o.padding,1),_e(o,n.extension,1),_e(o,n.mode.ordinal(),2),_e(o,o.mode_ext,2),_e(o,n.copyright,1),_e(o,n.original,1),_e(o,n.emphasis,2),n.error_protection&&_e(o,0,16),n.version==1){for(m(h.main_data_begin>=0),_e(o,h.main_data_begin,9),o.channels_out==2?_e(o,h.private_bits,3):_e(o,h.private_bits,5),I=0;I<o.channels_out;I++){var H;for(H=0;H<4;H++)_e(o,h.scfsi[I][H],1)}for(O=0;O<2;O++)for(I=0;I<o.channels_out;I++){var C=h.tt[O][I];_e(o,C.part2_3_length+C.part2_length,12),_e(o,C.big_values/2,9),_e(o,C.global_gain,8),_e(o,C.scalefac_compress,4),C.block_type!=Q.NORM_TYPE?(_e(o,1,1),_e(o,C.block_type,2),_e(o,C.mixed_block_flag,1),C.table_select[0]==14&&(C.table_select[0]=16),_e(o,C.table_select[0],5),C.table_select[1]==14&&(C.table_select[1]=16),_e(o,C.table_select[1],5),_e(o,C.subblock_gain[0],3),_e(o,C.subblock_gain[1],3),_e(o,C.subblock_gain[2],3)):(_e(o,0,1),C.table_select[0]==14&&(C.table_select[0]=16),_e(o,C.table_select[0],5),C.table_select[1]==14&&(C.table_select[1]=16),_e(o,C.table_select[1],5),C.table_select[2]==14&&(C.table_select[2]=16),_e(o,C.table_select[2],5),m(0<=C.region0_count&&C.region0_count<16),m(0<=C.region1_count&&C.region1_count<8),_e(o,C.region0_count,4),_e(o,C.region1_count,3)),_e(o,C.preflag,1),_e(o,C.scalefac_scale,1),_e(o,C.count1table_select,1)}}else for(m(h.main_data_begin>=0),_e(o,h.main_data_begin,8),_e(o,h.private_bits,o.channels_out),O=0,I=0;I<o.channels_out;I++){var C=h.tt[O][I];_e(o,C.part2_3_length+C.part2_length,12),_e(o,C.big_values/2,9),_e(o,C.global_gain,8),_e(o,C.scalefac_compress,9),C.block_type!=Q.NORM_TYPE?(_e(o,1,1),_e(o,C.block_type,2),_e(o,C.mixed_block_flag,1),C.table_select[0]==14&&(C.table_select[0]=16),_e(o,C.table_select[0],5),C.table_select[1]==14&&(C.table_select[1]=16),_e(o,C.table_select[1],5),_e(o,C.subblock_gain[0],3),_e(o,C.subblock_gain[1],3),_e(o,C.subblock_gain[2],3)):(_e(o,0,1),C.table_select[0]==14&&(C.table_select[0]=16),_e(o,C.table_select[0],5),C.table_select[1]==14&&(C.table_select[1]=16),_e(o,C.table_select[1],5),C.table_select[2]==14&&(C.table_select[2]=16),_e(o,C.table_select[2],5),m(0<=C.region0_count&&C.region0_count<16),m(0<=C.region1_count&&C.region1_count<8),_e(o,C.region0_count,4),_e(o,C.region1_count,3)),_e(o,C.scalefac_scale,1),_e(o,C.count1table_select,1)}n.error_protection&&CRC_writeheader(o,o.header[o.h_ptr].buf);{var $=o.h_ptr;m(o.header[$].ptr==o.sideinfo_len*8),o.h_ptr=$+1&b.MAX_HEADER_BUF-1,o.header[o.h_ptr].write_timing=o.header[$].write_timing+f,o.h_ptr==o.w_ptr&&t.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function g(n,f){var o=E.ht[f.count1table_select+32],h,O=0,I=f.big_values,H=f.big_values;for(m(f.count1table_select<2),h=(f.count1-f.big_values)/4;h>0;--h){var C=0,$=0,se;se=f.l3_enc[I+0],se!=0&&($+=8,f.xr[H+0]<0&&C++,m(se<=1)),se=f.l3_enc[I+1],se!=0&&($+=4,C*=2,f.xr[H+1]<0&&C++,m(se<=1)),se=f.l3_enc[I+2],se!=0&&($+=2,C*=2,f.xr[H+2]<0&&C++,m(se<=1)),se=f.l3_enc[I+3],se!=0&&($++,C*=2,f.xr[H+3]<0&&C++,m(se<=1)),I+=4,H+=4,W(n,C+o.table[$],o.hlen[$]),O+=o.hlen[$]}return O}function j(n,f,o,h,O){var I=E.ht[f],H=0;if(m(f<32),f==0)return H;for(var C=o;C<h;C+=2){var $=0,se=0,ve=I.xlen,y=I.xlen,A=0,X=O.l3_enc[C],J=O.l3_enc[C+1];if(X!=0&&(O.xr[C]<0&&A++,$--),f>15){if(X>14){var D=X-15;m(D<=I.linmax),A|=D<<1,se=ve,X=15}if(J>14){var he=J-15;m(he<=I.linmax),A<<=ve,A|=he,se+=ve,J=15}y=16}J!=0&&(A<<=1,O.xr[C+1]<0&&A++,$--),m((X|J)<16),X=X*y+J,se-=$,$+=I.hlen[X],m($<=oe),m(se<=oe),W(n,I.table[X],$),W(n,A,se),H+=$+se}return H}function Z(n,f){var o=3*n.scalefac_band.s[3];o>f.big_values&&(o=f.big_values);var h=j(n,f.table_select[0],0,o,f);return h+=j(n,f.table_select[1],o,f.big_values,f),h}function q(n,f){var o,h,O,I;o=f.big_values,m(0<=o&&o<=576);var H=f.region0_count+1;return m(0<=H),m(H<n.scalefac_band.l.length),O=n.scalefac_band.l[H],H+=f.region1_count+1,m(0<=H),m(H<n.scalefac_band.l.length),I=n.scalefac_band.l[H],O>o&&(O=o),I>o&&(I=o),h=j(n,f.table_select[0],0,O,f),h+=j(n,f.table_select[1],O,I,f),h+=j(n,f.table_select[2],I,o,f),h}function le(n){var f,o,h,O,I=0,H=n.internal_flags,C=H.l3_side;if(n.version==1)for(f=0;f<2;f++)for(o=0;o<H.channels_out;o++){var $=C.tt[f][o],se=w.slen1_tab[$.scalefac_compress],ve=w.slen2_tab[$.scalefac_compress];for(O=0,h=0;h<$.sfbdivide;h++)$.scalefac[h]!=-1&&(W(H,$.scalefac[h],se),O+=se);for(;h<$.sfbmax;h++)$.scalefac[h]!=-1&&(W(H,$.scalefac[h],ve),O+=ve);m(O==$.part2_length),$.block_type==Q.SHORT_TYPE?O+=Z(H,$):O+=q(H,$),O+=g(H,$),m(O==$.part2_3_length+$.part2_length),I+=O}else for(f=0,o=0;o<H.channels_out;o++){var $=C.tt[f][o],y,A,X=0;if(m($.sfb_partition_table!=null),O=0,h=0,A=0,$.block_type==Q.SHORT_TYPE){for(;A<4;A++){var J=$.sfb_partition_table[A]/3,D=$.slen[A];for(y=0;y<J;y++,h++)W(H,Math.max($.scalefac[h*3+0],0),D),W(H,Math.max($.scalefac[h*3+1],0),D),W(H,Math.max($.scalefac[h*3+2],0),D),X+=3*D}O+=Z(H,$)}else{for(;A<4;A++){var J=$.sfb_partition_table[A],D=$.slen[A];for(y=0;y<J;y++,h++)W(H,Math.max($.scalefac[h],0),D),X+=D}O+=q(H,$)}O+=g(H,$),m(O==$.part2_3_length),m(X==$.part2_length),I+=X+O}return I}function v(){this.total=0}function a(n,f){var o=n.internal_flags,h,O,I,H,C;return C=o.w_ptr,H=o.h_ptr-1,H==-1&&(H=b.MAX_HEADER_BUF-1),h=o.header[H].write_timing-s,f.total=h,h>=0&&(O=1+H-C,H<C&&(O=1+H-C+b.MAX_HEADER_BUF),h-=O*8*o.sideinfo_len),I=fe.getframebits(n),h+=I,f.total+=I,f.total%8!=0?f.total=1+f.total/8:f.total=f.total/8,f.total+=p+1,h<0&&t.err.println(`strange error flushing buffer ... 
`),h}this.flush_bitstream=function(n){var f=n.internal_flags,o,h,O=f.h_ptr-1;if(O==-1&&(O=b.MAX_HEADER_BUF-1),o=f.l3_side,!((h=a(n,new v))<0)){if(ie(n,h),m(f.header[O].write_timing+this.getframebits(n)==s),f.ResvSize=0,o.main_data_begin=0,f.findReplayGain){var I=ne.GetTitleGain(f.rgdata);m(NEQ(I,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),f.RadioGain=Math.floor(I*10+.5)|0}f.findPeakSample&&(f.noclipGainChange=Math.ceil(Math.log10(f.PeakSample/32767)*20*10)|0,f.noclipGainChange>0&&(EQ(n.scale,1)||EQ(n.scale,0))?f.noclipScale=Math.floor(32767/f.PeakSample*100)/100:f.noclipScale=-1)}},this.add_dummy_byte=function(n,f,o){for(var h=n.internal_flags,O;o-- >0;)for(Y(h,f,8),O=0;O<b.MAX_HEADER_BUF;++O)h.header[O].write_timing+=8},this.format_bitstream=function(n){var f=n.internal_flags,o;o=f.l3_side;var h=this.getframebits(n);ie(n,o.resvDrain_pre),d(n,h);var O=8*f.sideinfo_len;if(O+=le(n),ie(n,o.resvDrain_post),O+=o.resvDrain_post,o.main_data_begin+=(h-O)/8,a(n,new v)!=f.ResvSize&&t.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),o.main_data_begin*8!=f.ResvSize&&(t.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*o.main_data_begin,f.ResvSize,o.resvDrain_post,o.resvDrain_pre,8*f.sideinfo_len,O-o.resvDrain_post-8*f.sideinfo_len,O,O%8,h),t.err.println("This is a fatal error.  It has several possible causes:"),t.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),t.err.println(" 9%%  Your system is overclocked"),t.err.println(" 1%%  bug in LAME encoding library"),f.ResvSize=o.main_data_begin*8),m(s%8==0),s>1e9){var I;for(I=0;I<b.MAX_HEADER_BUF;++I)f.header[I].write_timing-=s;s=0}return 0},this.copy_buffer=function(n,f,o,h,O){var I=p+1;if(I<=0)return 0;if(h!=0&&I>h)return-1;if(t.arraycopy(B,0,f,o,I),p=-1,N=0,O!=0){var H=c(1);if(H[0]=n.nMusicCRC,T.updateMusicCRC(H,f,o,I),n.nMusicCRC=H[0],I>0&&(n.VBR_seek_table.nBytesWritten+=I),n.decode_on_the_fly){for(var C=_([2,1152]),$=I,se=-1,ve;se!=0;)if(se=k.hip_decode1_unclipped(n.hip,f,o,$,C[0],C[1]),$=0,se==-1&&(se=0),se>0){if(m(se<=1152),n.findPeakSample){for(ve=0;ve<se;ve++)C[0][ve]>n.PeakSample?n.PeakSample=C[0][ve]:-C[0][ve]>n.PeakSample&&(n.PeakSample=-C[0][ve]);if(n.channels_out>1)for(ve=0;ve<se;ve++)C[1][ve]>n.PeakSample?n.PeakSample=C[1][ve]:-C[1][ve]>n.PeakSample&&(n.PeakSample=-C[1][ve])}if(n.findReplayGain&&ne.AnalyzeSamples(n.rgdata,C[0],0,C[1],0,se,n.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return I},this.init_bit_stream_w=function(n){B=i(U.LAME_MAXMP3BUFFER),n.h_ptr=n.w_ptr=0,n.header[n.h_ptr].write_timing=0,p=-1,N=0,s=0}}return Na=R,Na}var ka,Ti;function Sn(){if(Ti)return ka;Ti=1;var e=at,t=e.System,r=e.VbrMode;e.Float;var i=e.ShortBlock;e.Util,e.Arrays,e.new_array_n,e.new_byte,e.new_double;var _=e.new_float;e.new_float_n,e.new_int;var c=e.new_int_n,m=e.new_short_n,w=e.assert,E=Fl,Q=gl,b=sa,R=n2,U=s2,fe=d2,re=wn(),oe=yn,ne=ht();function k(){var M=yr,T=this,B=128*1024;k.V9=410,k.V8=420,k.V7=430,k.V6=440,k.V5=450,k.V4=460,k.V3=470,k.V2=480,k.V1=490,k.V0=500,k.R3MIX=1e3,k.STANDARD=1001,k.EXTREME=1002,k.INSANE=1003,k.STANDARD_FAST=1004,k.EXTREME_FAST=1005,k.MEDIUM=1006,k.MEDIUM_FAST=1007;var s=16384+B;k.LAME_MAXMP3BUFFER=s;var p,N,K,W,Y,ie=new E,_e,L,d;this.enc=new ne,this.setModules=function(u,l,G,z,ce,Re,me,Se,Ce){p=u,N=l,K=G,W=z,Y=ce,_e=Re,L=Se,d=Ce,this.enc.setModules(N,ie,W,_e)};function g(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=_(ne.SBMAX_l),this.bo_s_weight=_(ne.SBMAX_s)}function j(){this.lowerlimit=0}function Z(u,l){this.lowpass=l}var q=4294479419;function le(u){var l;return u.class_id=q,l=u.internal_flags=new b,u.mode=M.NOT_SET,u.original=1,u.in_samplerate=44100,u.num_channels=2,u.num_samples=-1,u.bWriteVbrTag=!0,u.quality=-1,u.short_blocks=null,l.subblock_gain=-1,u.lowpassfreq=0,u.highpassfreq=0,u.lowpasswidth=-1,u.highpasswidth=-1,u.VBR=r.vbr_off,u.VBR_q=4,u.ATHcurve=-1,u.VBR_mean_bitrate_kbps=128,u.VBR_min_bitrate_kbps=0,u.VBR_max_bitrate_kbps=0,u.VBR_hard_min=0,l.VBR_min_bitrate=1,l.VBR_max_bitrate=13,u.quant_comp=-1,u.quant_comp_short=-1,u.msfix=-1,l.resample_ratio=1,l.OldValue[0]=180,l.OldValue[1]=180,l.CurrentStep[0]=4,l.CurrentStep[1]=4,l.masking_lower=1,l.nsPsy.attackthre=-1,l.nsPsy.attackthre_s=-1,u.scale=-1,u.athaa_type=-1,u.ATHtype=-1,u.athaa_loudapprox=-1,u.athaa_sensitivity=0,u.useTemporal=null,u.interChRatio=-1,l.mf_samples_to_encode=ne.ENCDELAY+ne.POSTDELAY,u.encoder_padding=0,l.mf_size=ne.ENCDELAY-ne.MDCTDELAY,u.findReplayGain=!1,u.decode_on_the_fly=!1,l.decode_on_the_fly=!1,l.findReplayGain=!1,l.findPeakSample=!1,l.RadioGain=0,l.AudiophileGain=0,l.noclipGainChange=0,l.noclipScale=-1,u.preset=0,u.write_id3tag_automatic=!0,0}this.lame_init=function(){var u=new Q;return le(u),u.lame_allocated_gfp=1,u};function v(u){return u>1?0:u<=0?1:Math.cos(Math.PI/2*u)}this.nearestBitrateFullIndex=function(u){var l=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],G=0,z=0,ce=0,Re=0;Re=l[16],ce=16,z=l[16],G=16;for(var me=0;me<16;me++)if(Math.max(u,l[me+1])!=u){Re=l[me+1],ce=me+1,z=l[me],G=me;break}return Re-u>u-z?G:ce};function a(u,l){var G=44100;return l>=48e3?G=48e3:l>=44100?G=44100:l>=32e3?G=32e3:l>=24e3?G=24e3:l>=22050?G=22050:l>=16e3?G=16e3:l>=12e3?G=12e3:l>=11025?G=11025:l>=8e3&&(G=8e3),u==-1?G:(u<=15960&&(G=44100),u<=15250&&(G=32e3),u<=11220&&(G=24e3),u<=9970&&(G=22050),u<=7230&&(G=16e3),u<=5420&&(G=12e3),u<=4510&&(G=11025),u<=3970&&(G=8e3),l<G?l>44100?48e3:l>32e3?44100:l>24e3?32e3:l>22050?24e3:l>16e3?22050:l>12e3?16e3:l>11025?12e3:l>8e3?11025:8e3:G)}function n(u,l){switch(u){case 44100:return l.version=1,0;case 48e3:return l.version=1,1;case 32e3:return l.version=1,2;case 22050:return l.version=0,0;case 24e3:return l.version=0,1;case 16e3:return l.version=0,2;case 11025:return l.version=0,0;case 12e3:return l.version=0,1;case 8e3:return l.version=0,2;default:return l.version=0,-1}}function f(u,l,G){G<16e3&&(l=2);for(var z=oe.bitrate_table[l][1],ce=2;ce<=14;ce++)oe.bitrate_table[l][ce]>0&&Math.abs(oe.bitrate_table[l][ce]-u)<Math.abs(z-u)&&(z=oe.bitrate_table[l][ce]);return z}function o(u,l,G){G<16e3&&(l=2);for(var z=0;z<=14;z++)if(oe.bitrate_table[l][z]>0&&oe.bitrate_table[l][z]==u)return z;return-1}function h(u,l){var G=[new Z(8,2e3),new Z(16,3700),new Z(24,3900),new Z(32,5500),new Z(40,7e3),new Z(48,7500),new Z(56,1e4),new Z(64,11e3),new Z(80,13500),new Z(96,15100),new Z(112,15600),new Z(128,17e3),new Z(160,17500),new Z(192,18600),new Z(224,19400),new Z(256,19700),new Z(320,20500)],z=T.nearestBitrateFullIndex(l);u.lowerlimit=G[z].lowpass}function O(u){var l=u.internal_flags,G=32,z=-1;if(l.lowpass1>0){for(var ce=999,Re=0;Re<=31;Re++){var me=Re/31;me>=l.lowpass2&&(G=Math.min(G,Re)),l.lowpass1<me&&me<l.lowpass2&&(ce=Math.min(ce,Re))}ce==999?l.lowpass1=(G-.75)/31:l.lowpass1=(ce-.75)/31,l.lowpass2=G/31}if(l.highpass2>0&&l.highpass2<.9*(.75/31)&&(l.highpass1=0,l.highpass2=0,t.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),l.highpass2>0){for(var Se=-1,Re=0;Re<=31;Re++){var me=Re/31;me<=l.highpass1&&(z=Math.max(z,Re)),l.highpass1<me&&me<l.highpass2&&(Se=Math.max(Se,Re))}l.highpass1=z/31,Se==-1?l.highpass2=(z+.75)/31:l.highpass2=(Se+.75)/31}for(var Re=0;Re<32;Re++){var Ce,Be,me=Re/31;l.highpass2>l.highpass1?Ce=v((l.highpass2-me)/(l.highpass2-l.highpass1+1e-20)):Ce=1,l.lowpass2>l.lowpass1?Be=v((me-l.lowpass1)/(l.lowpass2-l.lowpass1+1e-20)):Be=1,l.amp_filter[Re]=Ce*Be}}function I(u){var l=u.internal_flags;switch(u.quality){default:case 9:l.psymodel=0,l.noise_shaping=0,l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.use_best_huffman=0,l.full_outer_loop=0;break;case 8:u.quality=7;case 7:l.psymodel=1,l.noise_shaping=0,l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.use_best_huffman=0,l.full_outer_loop=0;break;case 6:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=0,l.full_outer_loop=0;break;case 5:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=0,l.full_outer_loop=0;break;case 4:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=0,l.noise_shaping_stop=0,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 3:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.noise_shaping_amp=1,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 2:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=1,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 1:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=2,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break;case 0:l.psymodel=1,l.noise_shaping==0&&(l.noise_shaping=1),l.substep_shaping==0&&(l.substep_shaping=2),l.noise_shaping_amp=2,l.noise_shaping_stop=1,l.subblock_gain==-1&&(l.subblock_gain=1),l.use_best_huffman=1,l.full_outer_loop=0;break}}function H(u){var l=u.internal_flags;u.frameNum=0,u.write_id3tag_automatic&&L.id3tag_write_v2(u),l.bitrate_stereoMode_Hist=c([16,5]),l.bitrate_blockType_Hist=c([16,6]),l.PeakSample=0,u.bWriteVbrTag&&_e.InitVbrTag(u)}this.lame_init_params=function(u){var l=u.internal_flags;if(l.Class_ID=0,l.ATH==null&&(l.ATH=new R),l.PSY==null&&(l.PSY=new g),l.rgdata==null&&(l.rgdata=new U),l.channels_in=u.num_channels,l.channels_in==1&&(u.mode=M.MONO),l.channels_out=u.mode==M.MONO?1:2,l.mode_ext=ne.MPG_MD_MS_LR,u.mode==M.MONO&&(u.force_ms=!1),u.VBR==r.vbr_off&&u.VBR_mean_bitrate_kbps!=128&&u.brate==0&&(u.brate=u.VBR_mean_bitrate_kbps),u.VBR==r.vbr_off||u.VBR==r.vbr_mtrh||u.VBR==r.vbr_mt||(u.free_format=!1),u.VBR==r.vbr_off&&u.brate==0&&re.EQ(u.compression_ratio,0)&&(u.compression_ratio=11.025),u.VBR==r.vbr_off&&u.compression_ratio>0&&(u.out_samplerate==0&&(u.out_samplerate=map2MP3Frequency(int(.97*u.in_samplerate))),u.brate=0|u.out_samplerate*16*l.channels_out/(1e3*u.compression_ratio),l.samplerate_index=n(u.out_samplerate,u),u.free_format||(u.brate=f(u.brate,u.version,u.out_samplerate))),u.out_samplerate!=0&&(u.out_samplerate<16e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,64)):u.out_samplerate<32e3?(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,8),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,160)):(u.VBR_mean_bitrate_kbps=Math.max(u.VBR_mean_bitrate_kbps,32),u.VBR_mean_bitrate_kbps=Math.min(u.VBR_mean_bitrate_kbps,320))),u.lowpassfreq==0){var G=16e3;switch(u.VBR){case r.vbr_off:{var z=new j;h(z,u.brate),G=z.lowerlimit;break}case r.vbr_abr:{var z=new j;h(z,u.VBR_mean_bitrate_kbps),G=z.lowerlimit;break}case r.vbr_rh:{var ce=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=u.VBR_q&&u.VBR_q<=9){var Re=ce[u.VBR_q],me=ce[u.VBR_q+1],Se=u.VBR_q_frac;G=linear_int(Re,me,Se)}else G=19500;break}default:{var ce=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=u.VBR_q&&u.VBR_q<=9){var Re=ce[u.VBR_q],me=ce[u.VBR_q+1],Se=u.VBR_q_frac;G=linear_int(Re,me,Se)}else G=19500}}u.mode==M.MONO&&(u.VBR==r.vbr_off||u.VBR==r.vbr_abr)&&(G*=1.5),u.lowpassfreq=G|0}if(u.out_samplerate==0&&(2*u.lowpassfreq>u.in_samplerate&&(u.lowpassfreq=u.in_samplerate/2),u.out_samplerate=a(u.lowpassfreq|0,u.in_samplerate)),u.lowpassfreq=Math.min(20500,u.lowpassfreq),u.lowpassfreq=Math.min(u.out_samplerate/2,u.lowpassfreq),u.VBR==r.vbr_off&&(u.compression_ratio=u.out_samplerate*16*l.channels_out/(1e3*u.brate)),u.VBR==r.vbr_abr&&(u.compression_ratio=u.out_samplerate*16*l.channels_out/(1e3*u.VBR_mean_bitrate_kbps)),u.bWriteVbrTag||(u.findReplayGain=!1,u.decode_on_the_fly=!1,l.findPeakSample=!1),l.findReplayGain=u.findReplayGain,l.decode_on_the_fly=u.decode_on_the_fly,l.decode_on_the_fly&&(l.findPeakSample=!0),l.findReplayGain&&p.InitGainAnalysis(l.rgdata,u.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return u.internal_flags=null,-6;switch(l.decode_on_the_fly&&!u.decode_only&&(l.hip!=null&&d.hip_decode_exit(l.hip),l.hip=d.hip_decode_init()),l.mode_gr=u.out_samplerate<=24e3?1:2,u.framesize=576*l.mode_gr,u.encoder_delay=ne.ENCDELAY,l.resample_ratio=u.in_samplerate/u.out_samplerate,u.VBR){case r.vbr_mt:case r.vbr_rh:case r.vbr_mtrh:{var Ce=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];u.compression_ratio=Ce[u.VBR_q]}break;case r.vbr_abr:u.compression_ratio=u.out_samplerate*16*l.channels_out/(1e3*u.VBR_mean_bitrate_kbps);break;default:u.compression_ratio=u.out_samplerate*16*l.channels_out/(1e3*u.brate);break}if(u.mode==M.NOT_SET&&(u.mode=M.JOINT_STEREO),u.highpassfreq>0?(l.highpass1=2*u.highpassfreq,u.highpasswidth>=0?l.highpass2=2*(u.highpassfreq+u.highpasswidth):l.highpass2=1*2*u.highpassfreq,l.highpass1/=u.out_samplerate,l.highpass2/=u.out_samplerate):(l.highpass1=0,l.highpass2=0),u.lowpassfreq>0?(l.lowpass2=2*u.lowpassfreq,u.lowpasswidth>=0?(l.lowpass1=2*(u.lowpassfreq-u.lowpasswidth),l.lowpass1<0&&(l.lowpass1=0)):l.lowpass1=1*2*u.lowpassfreq,l.lowpass1/=u.out_samplerate,l.lowpass2/=u.out_samplerate):(l.lowpass1=0,l.lowpass2=0),O(u),l.samplerate_index=n(u.out_samplerate,u),l.samplerate_index<0)return u.internal_flags=null,-1;if(u.VBR==r.vbr_off){if(u.free_format)l.bitrate_index=0;else if(u.brate=f(u.brate,u.version,u.out_samplerate),l.bitrate_index=o(u.brate,u.version,u.out_samplerate),l.bitrate_index<=0)return u.internal_flags=null,-1}else l.bitrate_index=1;u.analysis&&(u.bWriteVbrTag=!1),l.pinfo!=null&&(u.bWriteVbrTag=!1),N.init_bit_stream_w(l);for(var Be=l.samplerate_index+3*u.version+6*(u.out_samplerate<16e3?1:0),xe=0;xe<ne.SBMAX_l+1;xe++)l.scalefac_band.l[xe]=W.sfBandIndex[Be].l[xe];for(var xe=0;xe<ne.PSFB21+1;xe++){var De=(l.scalefac_band.l[22]-l.scalefac_band.l[21])/ne.PSFB21,qe=l.scalefac_band.l[21]+xe*De;l.scalefac_band.psfb21[xe]=qe}l.scalefac_band.psfb21[ne.PSFB21]=576;for(var xe=0;xe<ne.SBMAX_s+1;xe++)l.scalefac_band.s[xe]=W.sfBandIndex[Be].s[xe];for(var xe=0;xe<ne.PSFB12+1;xe++){var De=(l.scalefac_band.s[13]-l.scalefac_band.s[12])/ne.PSFB12,qe=l.scalefac_band.s[12]+xe*De;l.scalefac_band.psfb12[xe]=qe}l.scalefac_band.psfb12[ne.PSFB12]=192,u.version==1?l.sideinfo_len=l.channels_out==1?21:36:l.sideinfo_len=l.channels_out==1?13:21,u.error_protection&&(l.sideinfo_len+=2),H(u),l.Class_ID=q;{var Pe;for(Pe=0;Pe<19;Pe++)l.nsPsy.pefirbuf[Pe]=700*l.mode_gr*l.channels_out;u.ATHtype==-1&&(u.ATHtype=4)}switch(w(u.VBR_q<=9),w(u.VBR_q>=0),u.VBR){case r.vbr_mt:u.VBR=r.vbr_mtrh;case r.vbr_mtrh:{u.useTemporal==null&&(u.useTemporal=!1),K.apply_preset(u,500-u.VBR_q*10,0),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),u.quality<5&&(u.quality=0),u.quality>5&&(u.quality=5),l.PSY.mask_adjust=u.maskingadjust,l.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?l.sfb21_extra=!1:l.sfb21_extra=u.out_samplerate>44e3,l.iteration_loop=new VBRNewIterationLoop(Y);break}case r.vbr_rh:{K.apply_preset(u,500-u.VBR_q*10,0),l.PSY.mask_adjust=u.maskingadjust,l.PSY.mask_adjust_short=u.maskingadjust_short,u.experimentalY?l.sfb21_extra=!1:l.sfb21_extra=u.out_samplerate>44e3,u.quality>6&&(u.quality=6),u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),l.iteration_loop=new VBROldIterationLoop(Y);break}default:{var S;l.sfb21_extra=!1,u.quality<0&&(u.quality=LAME_DEFAULT_QUALITY),S=u.VBR,S==r.vbr_off&&(u.VBR_mean_bitrate_kbps=u.brate),K.apply_preset(u,u.VBR_mean_bitrate_kbps,0),u.VBR=S,l.PSY.mask_adjust=u.maskingadjust,l.PSY.mask_adjust_short=u.maskingadjust_short,S==r.vbr_off?l.iteration_loop=new fe(Y):l.iteration_loop=new ABRIterationLoop(Y);break}}if(w(u.scale>=0),u.VBR!=r.vbr_off){if(l.VBR_min_bitrate=1,l.VBR_max_bitrate=14,u.out_samplerate<16e3&&(l.VBR_max_bitrate=8),u.VBR_min_bitrate_kbps!=0&&(u.VBR_min_bitrate_kbps=f(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),l.VBR_min_bitrate=o(u.VBR_min_bitrate_kbps,u.version,u.out_samplerate),l.VBR_min_bitrate<0)||u.VBR_max_bitrate_kbps!=0&&(u.VBR_max_bitrate_kbps=f(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),l.VBR_max_bitrate=o(u.VBR_max_bitrate_kbps,u.version,u.out_samplerate),l.VBR_max_bitrate<0))return-1;u.VBR_min_bitrate_kbps=oe.bitrate_table[u.version][l.VBR_min_bitrate],u.VBR_max_bitrate_kbps=oe.bitrate_table[u.version][l.VBR_max_bitrate],u.VBR_mean_bitrate_kbps=Math.min(oe.bitrate_table[u.version][l.VBR_max_bitrate],u.VBR_mean_bitrate_kbps),u.VBR_mean_bitrate_kbps=Math.max(oe.bitrate_table[u.version][l.VBR_min_bitrate],u.VBR_mean_bitrate_kbps)}return u.tune&&(l.PSY.mask_adjust+=u.tune_value_a,l.PSY.mask_adjust_short+=u.tune_value_a),I(u),w(u.scale>=0),u.athaa_type<0?l.ATH.useAdjust=3:l.ATH.useAdjust=u.athaa_type,l.ATH.aaSensitivityP=Math.pow(10,u.athaa_sensitivity/-10),u.short_blocks==null&&(u.short_blocks=i.short_block_allowed),u.short_blocks==i.short_block_allowed&&(u.mode==M.JOINT_STEREO||u.mode==M.STEREO)&&(u.short_blocks=i.short_block_coupled),u.quant_comp<0&&(u.quant_comp=1),u.quant_comp_short<0&&(u.quant_comp_short=0),u.msfix<0&&(u.msfix=0),u.exp_nspsytune=u.exp_nspsytune|1,u.internal_flags.nsPsy.attackthre<0&&(u.internal_flags.nsPsy.attackthre=E.NSATTACKTHRE),u.internal_flags.nsPsy.attackthre_s<0&&(u.internal_flags.nsPsy.attackthre_s=E.NSATTACKTHRE_S),w(u.scale>=0),u.scale<0&&(u.scale=1),u.ATHtype<0&&(u.ATHtype=4),u.ATHcurve<0&&(u.ATHcurve=4),u.athaa_loudapprox<0&&(u.athaa_loudapprox=2),u.interChRatio<0&&(u.interChRatio=0),u.useTemporal==null&&(u.useTemporal=!0),l.slot_lag=l.frac_SpF=0,u.VBR==r.vbr_off&&(l.slot_lag=l.frac_SpF=(u.version+1)*72e3*u.brate%u.out_samplerate|0),W.iteration_init(u),ie.psymodel_init(u),w(u.scale>=0),0};function C(u,l){(u.in_buffer_0==null||u.in_buffer_nsamples<l)&&(u.in_buffer_0=_(l),u.in_buffer_1=_(l),u.in_buffer_nsamples=l)}this.lame_encode_flush=function(u,l,G,z){var ce=u.internal_flags,Re=m([2,1152]),me=0,Se,Ce,Be,xe,De=ce.mf_samples_to_encode-ne.POSTDELAY,qe=$(u);if(ce.mf_samples_to_encode<1)return 0;for(Se=0,u.in_samplerate!=u.out_samplerate&&(De+=16*u.out_samplerate/u.in_samplerate),Be=u.framesize-De%u.framesize,Be<576&&(Be+=u.framesize),u.encoder_padding=Be,xe=(De+Be)/u.framesize;xe>0&&me>=0;){var Pe=qe-ce.mf_size,S=u.frameNum;Pe*=u.in_samplerate,Pe/=u.out_samplerate,Pe>1152&&(Pe=1152),Pe<1&&(Pe=1),Ce=z-Se,z==0&&(Ce=0),me=this.lame_encode_buffer(u,Re[0],Re[1],Pe,l,G,Ce),G+=me,Se+=me,xe-=S!=u.frameNum?1:0}if(ce.mf_samples_to_encode=0,me<0||(Ce=z-Se,z==0&&(Ce=0),N.flush_bitstream(u),me=N.copy_buffer(ce,l,G,Ce,1),me<0))return me;if(G+=me,Se+=me,Ce=z-Se,z==0&&(Ce=0),u.write_id3tag_automatic){if(L.id3tag_write_v1(u),me=N.copy_buffer(ce,l,G,Ce,0),me<0)return me;Se+=me}return Se},this.lame_encode_buffer=function(u,l,G,z,ce,Re,me){var Se=u.internal_flags,Ce=[null,null];if(Se.Class_ID!=q)return-3;if(z==0)return 0;C(Se,z),Ce[0]=Se.in_buffer_0,Ce[1]=Se.in_buffer_1;for(var Be=0;Be<z;Be++)Ce[0][Be]=l[Be],Se.channels_in>1&&(Ce[1][Be]=G[Be]);return se(u,Ce[0],Ce[1],z,ce,Re,me)};function $(u){var l=ne.BLKSIZE+u.framesize-ne.FFTOFFSET;return l=Math.max(l,512+u.framesize-32),w(b.MFSIZE>=l),l}function se(u,l,G,z,ce,Re,me){var Se=u.internal_flags,Ce=0,Be,xe,De,qe,Pe,S=[null,null],x=[null,null];if(Se.Class_ID!=q)return-3;if(z==0)return 0;if(Pe=N.copy_buffer(Se,ce,Re,me,0),Pe<0)return Pe;if(Re+=Pe,Ce+=Pe,x[0]=l,x[1]=G,re.NEQ(u.scale,0)&&re.NEQ(u.scale,1))for(xe=0;xe<z;++xe)x[0][xe]*=u.scale,Se.channels_out==2&&(x[1][xe]*=u.scale);if(re.NEQ(u.scale_left,0)&&re.NEQ(u.scale_left,1))for(xe=0;xe<z;++xe)x[0][xe]*=u.scale_left;if(re.NEQ(u.scale_right,0)&&re.NEQ(u.scale_right,1))for(xe=0;xe<z;++xe)x[1][xe]*=u.scale_right;if(u.num_channels==2&&Se.channels_out==1)for(xe=0;xe<z;++xe)x[0][xe]=.5*(x[0][xe]+x[1][xe]),x[1][xe]=0;qe=$(u),S[0]=Se.mfbuf[0],S[1]=Se.mfbuf[1];for(var V=0;z>0;){var P=[null,null],ee=0,F=0;P[0]=x[0],P[1]=x[1];var te=new y;if(he(u,S,P,V,z,te),ee=te.n_in,F=te.n_out,Se.findReplayGain&&!Se.decode_on_the_fly&&p.AnalyzeSamples(Se.rgdata,S[0],Se.mf_size,S[1],Se.mf_size,F,Se.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(z-=ee,V+=ee,Se.channels_out==2,Se.mf_size+=F,w(Se.mf_size<=b.MFSIZE),Se.mf_samples_to_encode<1&&(Se.mf_samples_to_encode=ne.ENCDELAY+ne.POSTDELAY),Se.mf_samples_to_encode+=F,Se.mf_size>=qe){var ue=me-Ce;if(me==0&&(ue=0),Be=ve(u,S[0],S[1],ce,Re,ue),Be<0)return Be;for(Re+=Be,Ce+=Be,Se.mf_size-=u.framesize,Se.mf_samples_to_encode-=u.framesize,De=0;De<Se.channels_out;De++)for(xe=0;xe<Se.mf_size;xe++)S[De][xe]=S[De][xe+u.framesize]}}return w(z==0),Ce}function ve(u,l,G,z,ce,Re){var me=T.enc.lame_encode_mp3_frame(u,l,G,z,ce,Re);return u.frameNum++,me}function y(){this.n_in=0,this.n_out=0}function A(){this.num_used=0}function X(u,l){return l!=0?X(l,u%l):u}function J(u,l,G){var z=Math.PI*l;u/=G,u<0&&(u=0),u>1&&(u=1);var ce=u-.5,Re=.42-.5*Math.cos(2*u*Math.PI)+.08*Math.cos(4*u*Math.PI);return Math.abs(ce)<1e-9?z/Math.PI:Re*Math.sin(G*z*ce)/(Math.PI*G*ce)}function D(u,l,G,z,ce,Re,me,Se,Ce){var Be=u.internal_flags,xe,De=0,qe,Pe=u.out_samplerate/X(u.out_samplerate,u.in_samplerate);Pe>b.BPC&&(Pe=b.BPC);var S=Math.abs(Be.resample_ratio-Math.floor(.5+Be.resample_ratio))<1e-4?1:0,x=1/Be.resample_ratio;x>1&&(x=1);var V=31;V%2==0&&--V,V+=S;var P=V+1;if(Be.fill_buffer_resample_init==0){for(Be.inbuf_old[0]=_(P),Be.inbuf_old[1]=_(P),xe=0;xe<=2*Pe;++xe)Be.blackfilt[xe]=_(P);for(Be.itime[0]=0,Be.itime[1]=0,De=0;De<=2*Pe;De++){var ee=0,F=(De-Pe)/(2*Pe);for(xe=0;xe<=V;xe++)ee+=Be.blackfilt[De][xe]=J(xe-F,x,V);for(xe=0;xe<=V;xe++)Be.blackfilt[De][xe]/=ee}Be.fill_buffer_resample_init=1}var te=Be.inbuf_old[Ce];for(qe=0;qe<z;qe++){var ue,ae;if(ue=qe*Be.resample_ratio,De=0|Math.floor(ue-Be.itime[Ce]),V+De-V/2>=me)break;var F=ue-Be.itime[Ce]-(De+.5*(V%2));w(Math.abs(F)<=.501),ae=0|Math.floor(F*2*Pe+Pe+.5);var pe=0;for(xe=0;xe<=V;++xe){var de=0|xe+De-V/2,ye;w(de<me),w(de+P>=0),ye=de<0?te[P+de]:ce[Re+de],pe+=ye*Be.blackfilt[ae][xe]}l[G+qe]=pe}if(Se.num_used=Math.min(me,V+De-V/2),Be.itime[Ce]+=Se.num_used-qe*Be.resample_ratio,Se.num_used>=P)for(xe=0;xe<P;xe++)te[xe]=ce[Re+Se.num_used+xe-P];else{var Ie=P-Se.num_used;for(xe=0;xe<Ie;++xe)te[xe]=te[xe+Se.num_used];for(De=0;xe<P;++xe,++De)te[xe]=ce[Re+De];w(De==Se.num_used)}return qe}function he(u,l,G,z,ce,Re){var me=u.internal_flags;if(me.resample_ratio<.9999||me.resample_ratio>1.0001)for(var Se=0;Se<me.channels_out;Se++){var Ce=new A;Re.n_out=D(u,l[Se],me.mf_size,u.framesize,G[Se],z,ce,Ce,Se),Re.n_in=Ce.num_used}else{Re.n_out=Math.min(u.framesize,ce),Re.n_in=Re.n_out;for(var Be=0;Be<Re.n_out;++Be)l[0][me.mf_size+Be]=G[0][z+Be],me.channels_out==2&&(l[1][me.mf_size+Be]=G[1][z+Be])}}}return ka=k,ka}var Ht=at;Ht.System;var i0=Ht.VbrMode;Ht.Float;Ht.ShortBlock;Ht.Util;Ht.Arrays;Ht.new_array_n;Ht.new_byte;Ht.new_double;Ht.new_float;Ht.new_float_n;Ht.new_int;Ht.new_int_n;Ht.assert;function h2(){var e=Sn();function t(b,R,U,fe,re,oe,ne,k,M,T,B,s,p,N,K){this.vbr_q=b,this.quant_comp=R,this.quant_comp_s=U,this.expY=fe,this.st_lrm=re,this.st_s=oe,this.masking_adj=ne,this.masking_adj_short=k,this.ath_lower=M,this.ath_curve=T,this.ath_sensitivity=B,this.interch=s,this.safejoint=p,this.sfb21mod=N,this.msfix=K}function r(b,R,U,fe,re,oe,ne,k,M,T,B,s,p,N){this.quant_comp=R,this.quant_comp_s=U,this.safejoint=fe,this.nsmsfix=re,this.st_lrm=oe,this.st_s=ne,this.nsbass=k,this.scale=M,this.masking_adj=T,this.ath_lower=B,this.ath_curve=s,this.interch=p,this.sfscale=N}var i;this.setModules=function(b){i=b};var _=[new t(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new t(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new t(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new t(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new t(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new t(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new t(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new t(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new t(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],c=[new t(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new t(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new t(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new t(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new t(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new t(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new t(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new t(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new t(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new t(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new t(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function m(b,R,U){var fe=b.VBR==i0.vbr_rh?_:c,re=b.VBR_q_frac,oe=fe[R],ne=fe[R+1],k=oe;oe.st_lrm=oe.st_lrm+re*(ne.st_lrm-oe.st_lrm),oe.st_s=oe.st_s+re*(ne.st_s-oe.st_s),oe.masking_adj=oe.masking_adj+re*(ne.masking_adj-oe.masking_adj),oe.masking_adj_short=oe.masking_adj_short+re*(ne.masking_adj_short-oe.masking_adj_short),oe.ath_lower=oe.ath_lower+re*(ne.ath_lower-oe.ath_lower),oe.ath_curve=oe.ath_curve+re*(ne.ath_curve-oe.ath_curve),oe.ath_sensitivity=oe.ath_sensitivity+re*(ne.ath_sensitivity-oe.ath_sensitivity),oe.interch=oe.interch+re*(ne.interch-oe.interch),oe.msfix=oe.msfix+re*(ne.msfix-oe.msfix),Q(b,k.vbr_q),U!=0?b.quant_comp=k.quant_comp:Math.abs(b.quant_comp- -1)>0||(b.quant_comp=k.quant_comp),U!=0?b.quant_comp_short=k.quant_comp_s:Math.abs(b.quant_comp_short- -1)>0||(b.quant_comp_short=k.quant_comp_s),k.expY!=0&&(b.experimentalY=k.expY!=0),U!=0?b.internal_flags.nsPsy.attackthre=k.st_lrm:Math.abs(b.internal_flags.nsPsy.attackthre- -1)>0||(b.internal_flags.nsPsy.attackthre=k.st_lrm),U!=0?b.internal_flags.nsPsy.attackthre_s=k.st_s:Math.abs(b.internal_flags.nsPsy.attackthre_s- -1)>0||(b.internal_flags.nsPsy.attackthre_s=k.st_s),U!=0?b.maskingadjust=k.masking_adj:Math.abs(b.maskingadjust-0)>0||(b.maskingadjust=k.masking_adj),U!=0?b.maskingadjust_short=k.masking_adj_short:Math.abs(b.maskingadjust_short-0)>0||(b.maskingadjust_short=k.masking_adj_short),U!=0?b.ATHlower=-k.ath_lower/10:Math.abs(-b.ATHlower*10-0)>0||(b.ATHlower=-k.ath_lower/10),U!=0?b.ATHcurve=k.ath_curve:Math.abs(b.ATHcurve- -1)>0||(b.ATHcurve=k.ath_curve),U!=0?b.athaa_sensitivity=k.ath_sensitivity:Math.abs(b.athaa_sensitivity- -1)>0||(b.athaa_sensitivity=k.ath_sensitivity),k.interch>0&&(U!=0?b.interChRatio=k.interch:Math.abs(b.interChRatio- -1)>0||(b.interChRatio=k.interch)),k.safejoint>0&&(b.exp_nspsytune=b.exp_nspsytune|k.safejoint),k.sfb21mod>0&&(b.exp_nspsytune=b.exp_nspsytune|k.sfb21mod<<20),U!=0?b.msfix=k.msfix:Math.abs(b.msfix- -1)>0||(b.msfix=k.msfix),U==0&&(b.VBR_q=R,b.VBR_q_frac=re)}var w=[new r(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new r(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new r(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new r(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new r(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new r(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new r(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new r(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new r(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new r(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new r(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new r(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new r(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new r(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new r(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new r(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function E(b,R,U){var fe=R,re=i.nearestBitrateFullIndex(R);if(b.VBR=i0.vbr_abr,b.VBR_mean_bitrate_kbps=fe,b.VBR_mean_bitrate_kbps=Math.min(b.VBR_mean_bitrate_kbps,320),b.VBR_mean_bitrate_kbps=Math.max(b.VBR_mean_bitrate_kbps,8),b.brate=b.VBR_mean_bitrate_kbps,b.VBR_mean_bitrate_kbps>320&&(b.disable_reservoir=!0),w[re].safejoint>0&&(b.exp_nspsytune=b.exp_nspsytune|2),w[re].sfscale>0&&(b.internal_flags.noise_shaping=2),Math.abs(w[re].nsbass)>0){var oe=int(w[re].nsbass*4);oe<0&&(oe+=64),b.exp_nspsytune=b.exp_nspsytune|oe<<2}return U!=0?b.quant_comp=w[re].quant_comp:Math.abs(b.quant_comp- -1)>0||(b.quant_comp=w[re].quant_comp),U!=0?b.quant_comp_short=w[re].quant_comp_s:Math.abs(b.quant_comp_short- -1)>0||(b.quant_comp_short=w[re].quant_comp_s),U!=0?b.msfix=w[re].nsmsfix:Math.abs(b.msfix- -1)>0||(b.msfix=w[re].nsmsfix),U!=0?b.internal_flags.nsPsy.attackthre=w[re].st_lrm:Math.abs(b.internal_flags.nsPsy.attackthre- -1)>0||(b.internal_flags.nsPsy.attackthre=w[re].st_lrm),U!=0?b.internal_flags.nsPsy.attackthre_s=w[re].st_s:Math.abs(b.internal_flags.nsPsy.attackthre_s- -1)>0||(b.internal_flags.nsPsy.attackthre_s=w[re].st_s),U!=0?b.scale=w[re].scale:Math.abs(b.scale- -1)>0||(b.scale=w[re].scale),U!=0?b.maskingadjust=w[re].masking_adj:Math.abs(b.maskingadjust-0)>0||(b.maskingadjust=w[re].masking_adj),w[re].masking_adj>0?U!=0?b.maskingadjust_short=w[re].masking_adj*.9:Math.abs(b.maskingadjust_short-0)>0||(b.maskingadjust_short=w[re].masking_adj*.9):U!=0?b.maskingadjust_short=w[re].masking_adj*1.1:Math.abs(b.maskingadjust_short-0)>0||(b.maskingadjust_short=w[re].masking_adj*1.1),U!=0?b.ATHlower=-w[re].ath_lower/10:Math.abs(-b.ATHlower*10-0)>0||(b.ATHlower=-w[re].ath_lower/10),U!=0?b.ATHcurve=w[re].ath_curve:Math.abs(b.ATHcurve- -1)>0||(b.ATHcurve=w[re].ath_curve),U!=0?b.interChRatio=w[re].interch:Math.abs(b.interChRatio- -1)>0||(b.interChRatio=w[re].interch),R}this.apply_preset=function(b,R,U){switch(R){case e.R3MIX:{R=e.V3,b.VBR=i0.vbr_mtrh;break}case e.MEDIUM:{R=e.V4,b.VBR=i0.vbr_rh;break}case e.MEDIUM_FAST:{R=e.V4,b.VBR=i0.vbr_mtrh;break}case e.STANDARD:{R=e.V2,b.VBR=i0.vbr_rh;break}case e.STANDARD_FAST:{R=e.V2,b.VBR=i0.vbr_mtrh;break}case e.EXTREME:{R=e.V0,b.VBR=i0.vbr_rh;break}case e.EXTREME_FAST:{R=e.V0,b.VBR=i0.vbr_mtrh;break}case e.INSANE:return R=320,b.preset=R,E(b,R,U),b.VBR=i0.vbr_off,R}switch(b.preset=R,R){case e.V9:return m(b,9,U),R;case e.V8:return m(b,8,U),R;case e.V7:return m(b,7,U),R;case e.V6:return m(b,6,U),R;case e.V5:return m(b,5,U),R;case e.V4:return m(b,4,U),R;case e.V3:return m(b,3,U),R;case e.V2:return m(b,2,U),R;case e.V1:return m(b,1,U),R;case e.V0:return m(b,0,U),R}return 8<=R&&R<=320?E(b,R,U):(b.preset=0,R)};function Q(b,R){var U=0;return 0>R&&(U=-1,R=0),9<R&&(U=-1,R=9),b.VBR_q=R,b.VBR_q_frac=0,U}}var v2=h2;function m2(){this.setModules=function(e,t){}}var b2=m2;function p2(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}var R2=p2,xn=at,Ei=xn.new_float,y2=xn.new_int;xn.assert;function w2(){this.global_gain=0,this.sfb_count1=0,this.step=y2(39),this.noise=Ei(39),this.noise_log=Ei(39)}var S2=w2,Dt=at,b0=Dt.System,Bi=Dt.VbrMode;Dt.Float;Dt.ShortBlock;var ga=Dt.Util,G0=Dt.Arrays;Dt.new_array_n;Dt.new_byte;Dt.new_double;var or=Dt.new_float;Dt.new_float_n;Dt.new_int;Dt.new_int_n;var $t=Dt.assert,x2=b2,Va=R2,A2=S2,We=ht(),Ci=Rn,Ii=ia;function M2(){var e;this.rv=null;var t;this.qupvt=null;var r,i=new x2,_;this.setModules=function(k,M,T,B){e=k,t=M,this.rv=M,r=T,this.qupvt=T,_=B,i.setModules(r,_)},this.ms_convert=function(k,M){for(var T=0;T<576;++T){var B=k.tt[M][0].xr[T],s=k.tt[M][1].xr[T];k.tt[M][0].xr[T]=(B+s)*(ga.SQRT2*.5),k.tt[M][1].xr[T]=(B-s)*(ga.SQRT2*.5)}};function c(k,M,T,B){B=0;for(var s=0;s<=T;++s){var p=Math.abs(k.xr[s]);B+=p,M[s]=Math.sqrt(p*Math.sqrt(p)),M[s]>k.xrpow_max&&(k.xrpow_max=M[s])}return B}this.init_xrpow=function(k,M,T){var B=0,s=0|M.max_nonzero_coeff;if($t(T!=null),M.xrpow_max=0,$t(0<=s&&s<=575),G0.fill(T,s,576,0),B=c(M,T,s,B),B>1e-20){var p=0;k.substep_shaping&2&&(p=1);for(var N=0;N<M.psymax;N++)k.pseudohalf[N]=p;return!0}return G0.fill(M.l3_enc,0,576,0),!1};function m(k,M){var T=k.ATH,B=M.xr;if(M.block_type!=We.SHORT_TYPE)for(var s=!1,p=We.PSFB21-1;p>=0&&!s;p--){var N=k.scalefac_band.psfb21[p],K=k.scalefac_band.psfb21[p+1],W=r.athAdjust(T.adjust,T.psfb21[p],T.floor);k.nsPsy.longfact[21]>1e-12&&(W*=k.nsPsy.longfact[21]);for(var Y=K-1;Y>=N;Y--)if(Math.abs(B[Y])<W)B[Y]=0;else{s=!0;break}}else for(var ie=0;ie<3;ie++)for(var s=!1,p=We.PSFB12-1;p>=0&&!s;p--){var N=k.scalefac_band.s[12]*3+(k.scalefac_band.s[13]-k.scalefac_band.s[12])*ie+(k.scalefac_band.psfb12[p]-k.scalefac_band.psfb12[0]),K=N+(k.scalefac_band.psfb12[p+1]-k.scalefac_band.psfb12[p]),_e=r.athAdjust(T.adjust,T.psfb12[p],T.floor);k.nsPsy.shortfact[12]>1e-12&&(_e*=k.nsPsy.shortfact[12]);for(var Y=K-1;Y>=N;Y--)if(Math.abs(B[Y])<_e)B[Y]=0;else{s=!0;break}}}this.init_outer_loop=function(k,M){M.part2_3_length=0,M.big_values=0,M.count1=0,M.global_gain=210,M.scalefac_compress=0,M.table_select[0]=0,M.table_select[1]=0,M.table_select[2]=0,M.subblock_gain[0]=0,M.subblock_gain[1]=0,M.subblock_gain[2]=0,M.subblock_gain[3]=0,M.region0_count=0,M.region1_count=0,M.preflag=0,M.scalefac_scale=0,M.count1table_select=0,M.part2_length=0,M.sfb_lmax=We.SBPSY_l,M.sfb_smin=We.SBPSY_s,M.psy_lmax=k.sfb21_extra?We.SBMAX_l:We.SBPSY_l,M.psymax=M.psy_lmax,M.sfbmax=M.sfb_lmax,M.sfbdivide=11;for(var T=0;T<We.SBMAX_l;T++)M.width[T]=k.scalefac_band.l[T+1]-k.scalefac_band.l[T],M.window[T]=3;if(M.block_type==We.SHORT_TYPE){var B=or(576);M.sfb_smin=0,M.sfb_lmax=0,M.mixed_block_flag!=0&&(M.sfb_smin=3,M.sfb_lmax=k.mode_gr*2+4),M.psymax=M.sfb_lmax+3*((k.sfb21_extra?We.SBMAX_s:We.SBPSY_s)-M.sfb_smin),M.sfbmax=M.sfb_lmax+3*(We.SBPSY_s-M.sfb_smin),M.sfbdivide=M.sfbmax-18,M.psy_lmax=M.sfb_lmax;var s=k.scalefac_band.l[M.sfb_lmax];b0.arraycopy(M.xr,0,B,0,576);for(var T=M.sfb_smin;T<We.SBMAX_s;T++)for(var p=k.scalefac_band.s[T],N=k.scalefac_band.s[T+1],K=0;K<3;K++)for(var W=p;W<N;W++)M.xr[s++]=B[3*W+K];for(var Y=M.sfb_lmax,T=M.sfb_smin;T<We.SBMAX_s;T++)M.width[Y]=M.width[Y+1]=M.width[Y+2]=k.scalefac_band.s[T+1]-k.scalefac_band.s[T],M.window[Y]=0,M.window[Y+1]=1,M.window[Y+2]=2,Y+=3}M.count1bits=0,M.sfb_partition_table=r.nr_of_sfb_block[0][0],M.slen[0]=0,M.slen[1]=0,M.slen[2]=0,M.slen[3]=0,M.max_nonzero_coeff=575,G0.fill(M.scalefac,0),m(k,M)};function w(k){this.ordinal=k}w.BINSEARCH_NONE=new w(0),w.BINSEARCH_UP=new w(1),w.BINSEARCH_DOWN=new w(2);function E(k,M,T,B,s){var p,N=k.CurrentStep[B],K=!1,W=k.OldValue[B],Y=w.BINSEARCH_NONE;for(M.global_gain=W,T-=M.part2_length,$t(N!=0);;){var ie;if(p=_.count_bits(k,s,M,null),N==1||p==T)break;p>T?(Y==w.BINSEARCH_DOWN&&(K=!0),K&&(N/=2),Y=w.BINSEARCH_UP,ie=N):(Y==w.BINSEARCH_UP&&(K=!0),K&&(N/=2),Y=w.BINSEARCH_DOWN,ie=-N),M.global_gain+=ie,M.global_gain<0&&(M.global_gain=0,K=!0),M.global_gain>255&&(M.global_gain=255,K=!0)}for($t(M.global_gain>=0),$t(M.global_gain<256);p>T&&M.global_gain<255;)M.global_gain++,p=_.count_bits(k,s,M,null);return k.CurrentStep[B]=W-M.global_gain>=4?4:2,k.OldValue[B]=M.global_gain,M.part2_3_length=p,p}this.trancate_smallspectrums=function(k,M,T,B){var s=or(Ii.SFBMAX);if(!(!(k.substep_shaping&4)&&M.block_type==We.SHORT_TYPE||k.substep_shaping&128)){r.calc_noise(M,T,s,new Va,null);for(var N=0;N<576;N++){var p=0;M.l3_enc[N]!=0&&(p=Math.abs(M.xr[N])),B[N]=p}var N=0,K=8;M.block_type==We.SHORT_TYPE&&(K=6);do{var W,Y,ie,_e,L=M.width[K];if(N+=L,!(s[K]>=1)&&(G0.sort(B,N-L,L),!BitStream.EQ(B[N-1],0))){W=(1-s[K])*T[K],Y=0,_e=0;do{var d;for(ie=1;_e+ie<L&&!BitStream.NEQ(B[_e+N-L],B[_e+N+ie-L]);ie++);if(d=B[_e+N-L]*B[_e+N-L]*ie,W<d){_e!=0&&(Y=B[_e+N-L-1]);break}W-=d,_e+=ie}while(_e<L);if(!BitStream.EQ(Y,0))do Math.abs(M.xr[N-L])<=Y&&(M.l3_enc[N-L]=0);while(--L>0)}}while(++K<M.psymax);M.part2_3_length=_.noquant_count_bits(k,M,null)}};function Q(k){for(var M=0;M<k.sfbmax;M++)if(k.scalefac[M]+k.subblock_gain[k.window[M]]==0)return!1;return!0}function b(k){return ga.FAST_LOG10(.368+.632*k*k*k)}function R(k,M){for(var T=1e-37,B=0;B<M.psymax;B++)T+=b(k[B]);return Math.max(1e-20,T)}function U(k,M,T,B,s){var p;switch(k){default:case 9:{M.over_count>0?(p=T.over_SSD<=M.over_SSD,T.over_SSD==M.over_SSD&&(p=T.bits<M.bits)):p=T.max_noise<0&&T.max_noise*10+T.bits<=M.max_noise*10+M.bits;break}case 0:p=T.over_count<M.over_count||T.over_count==M.over_count&&T.over_noise<M.over_noise||T.over_count==M.over_count&&BitStream.EQ(T.over_noise,M.over_noise)&&T.tot_noise<M.tot_noise;break;case 8:T.max_noise=R(s,B);case 1:p=T.max_noise<M.max_noise;break;case 2:p=T.tot_noise<M.tot_noise;break;case 3:p=T.tot_noise<M.tot_noise&&T.max_noise<M.max_noise;break;case 4:p=T.max_noise<=0&&M.max_noise>.2||T.max_noise<=0&&M.max_noise<0&&M.max_noise>T.max_noise-.2&&T.tot_noise<M.tot_noise||T.max_noise<=0&&M.max_noise>0&&M.max_noise>T.max_noise-.2&&T.tot_noise<M.tot_noise+M.over_noise||T.max_noise>0&&M.max_noise>-.05&&M.max_noise>T.max_noise-.1&&T.tot_noise+T.over_noise<M.tot_noise+M.over_noise||T.max_noise>0&&M.max_noise>-.1&&M.max_noise>T.max_noise-.15&&T.tot_noise+T.over_noise+T.over_noise<M.tot_noise+M.over_noise+M.over_noise;break;case 5:p=T.over_noise<M.over_noise||BitStream.EQ(T.over_noise,M.over_noise)&&T.tot_noise<M.tot_noise;break;case 6:p=T.over_noise<M.over_noise||BitStream.EQ(T.over_noise,M.over_noise)&&(T.max_noise<M.max_noise||BitStream.EQ(T.max_noise,M.max_noise)&&T.tot_noise<=M.tot_noise);break;case 7:p=T.over_count<M.over_count||T.over_noise<M.over_noise;break}return M.over_count==0&&(p=p&&T.bits<M.bits),p}function fe(k,M,T,B,s){var p=k.internal_flags,N;M.scalefac_scale==0?N=1.2968395546510096:N=1.6817928305074292;for(var K=0,W=0;W<M.sfbmax;W++)K<T[W]&&(K=T[W]);var Y=p.noise_shaping_amp;switch(Y==3&&(s?Y=2:Y=1),Y){case 2:break;case 1:K>1?K=Math.pow(K,.5):K*=.95;break;case 0:default:K>1?K=1:K*=.95;break}for(var ie=0,W=0;W<M.sfbmax;W++){var _e=M.width[W],L;if(ie+=_e,!(T[W]<K)){if(p.substep_shaping&2&&(p.pseudohalf[W]=p.pseudohalf[W]==0?1:0,p.pseudohalf[W]==0&&p.noise_shaping_amp==2))return;for(M.scalefac[W]++,L=-_e;L<0;L++)B[ie+L]*=N,B[ie+L]>M.xrpow_max&&(M.xrpow_max=B[ie+L]);if(p.noise_shaping_amp==2)return}}}function re(k,M){for(var T=1.2968395546510096,B=0,s=0;s<k.sfbmax;s++){var p=k.width[s],N=k.scalefac[s];if(k.preflag!=0&&(N+=r.pretab[s]),B+=p,N&1){N++;for(var K=-p;K<0;K++)M[B+K]*=T,M[B+K]>k.xrpow_max&&(k.xrpow_max=M[B+K])}k.scalefac[s]=N>>1}k.preflag=0,k.scalefac_scale=1}function oe(k,M,T){var B,s=M.scalefac;for(B=0;B<M.sfb_lmax;B++)if(s[B]>=16)return!0;for(var p=0;p<3;p++){var N=0,K=0;for(B=M.sfb_lmax+p;B<M.sfbdivide;B+=3)N<s[B]&&(N=s[B]);for(;B<M.sfbmax;B+=3)K<s[B]&&(K=s[B]);if(!(N<16&&K<8)){if(M.subblock_gain[p]>=7)return!0;M.subblock_gain[p]++;var W=k.scalefac_band.l[M.sfb_lmax];for(B=M.sfb_lmax+p;B<M.sfbmax;B+=3){var Y,ie=M.width[B],_e=s[B];if($t(_e>=0),_e=_e-(4>>M.scalefac_scale),_e>=0){s[B]=_e,W+=ie*3;continue}s[B]=0;{var L=210+(_e<<M.scalefac_scale+1);Y=r.IPOW20(L)}W+=ie*(p+1);for(var d=-ie;d<0;d++)T[W+d]*=Y,T[W+d]>M.xrpow_max&&(M.xrpow_max=T[W+d]);W+=ie*(3-p-1)}{var Y=r.IPOW20(202);W+=M.width[B]*(p+1);for(var d=-M.width[B];d<0;d++)T[W+d]*=Y,T[W+d]>M.xrpow_max&&(M.xrpow_max=T[W+d])}}}return!1}function ne(k,M,T,B,s){var p=k.internal_flags;fe(k,M,T,B,s);var N=Q(M);return N?!1:(p.mode_gr==2?N=_.scale_bitcount(M):N=_.scale_bitcount_lsf(p,M),N?(p.noise_shaping>1&&(G0.fill(p.pseudohalf,0),M.scalefac_scale==0?(re(M,B),N=!1):M.block_type==We.SHORT_TYPE&&p.subblock_gain>0&&(N=oe(p,M,B)||Q(M))),N||(p.mode_gr==2?N=_.scale_bitcount(M):N=_.scale_bitcount_lsf(p,M)),!N):!0)}this.outer_loop=function(k,M,T,B,s,p){var N=k.internal_flags,K=new Ci,W=or(576),Y=or(Ii.SFBMAX),ie=new Va,_e,L=new A2,d=9999999,g=!1,j=!1,Z=0;if(E(N,M,p,s,B),N.noise_shaping==0)return 100;r.calc_noise(M,T,Y,ie,L),ie.bits=M.part2_3_length,K.assign(M);var q=0;for(b0.arraycopy(B,0,W,0,576);!g;){do{var le=new Va,v,a=255;if(N.substep_shaping&2?v=20:v=3,N.sfb21_extra&&(Y[K.sfbmax]>1||K.block_type==We.SHORT_TYPE&&(Y[K.sfbmax+1]>1||Y[K.sfbmax+2]>1))||!ne(k,K,Y,B,j))break;K.scalefac_scale!=0&&(a=254);var n=p-K.part2_length;if(n<=0)break;for(;(K.part2_3_length=_.count_bits(N,B,K,L))>n&&K.global_gain<=a;)K.global_gain++;if(K.global_gain>a)break;if(ie.over_count==0){for(;(K.part2_3_length=_.count_bits(N,B,K,L))>d&&K.global_gain<=a;)K.global_gain++;if(K.global_gain>a)break}if(r.calc_noise(K,T,Y,le,L),le.bits=K.part2_3_length,M.block_type!=We.SHORT_TYPE?_e=k.quant_comp:_e=k.quant_comp_short,_e=U(_e,ie,le,K,Y)?1:0,_e!=0)d=M.part2_3_length,ie=le,M.assign(K),q=0,b0.arraycopy(B,0,W,0,576);else if(N.full_outer_loop==0&&(++q>v&&ie.over_count==0||N.noise_shaping_amp==3&&j&&q>30||N.noise_shaping_amp==3&&j&&K.global_gain-Z>15))break}while(K.global_gain+K.scalefac_scale<255);N.noise_shaping_amp==3?j?g=!0:(K.assign(M),b0.arraycopy(W,0,B,0,576),q=0,Z=K.global_gain,j=!0):g=!0}return $t(M.global_gain+M.scalefac_scale<=255),k.VBR==Bi.vbr_rh||k.VBR==Bi.vbr_mtrh?b0.arraycopy(W,0,B,0,576):N.substep_shaping&1&&trancate_smallspectrums(N,M,T,B),ie.over_count},this.iteration_finish_one=function(k,M,T){var B=k.l3_side,s=B.tt[M][T];_.best_scalefac_store(k,M,T,B),k.use_best_huffman==1&&_.best_huffman_divide(k,s),t.ResvAdjust(k,s)},this.VBR_encode_granule=function(k,M,T,B,s,p,N){var K=k.internal_flags,W=new Ci,Y=or(576),ie=N,_e=N+1,L=(N+p)/2,d,g,j=0,Z=K.sfb21_extra;$t(ie<=LameInternalFlags.MAX_BITS_PER_CHANNEL),G0.fill(W.l3_enc,0);do $t(L>=p),$t(L<=N),$t(p<=N),L>ie-42?K.sfb21_extra=!1:K.sfb21_extra=Z,g=outer_loop(k,M,T,B,s,L),g<=0?(j=1,_e=M.part2_3_length,W.assign(M),b0.arraycopy(B,0,Y,0,576),N=_e-32,d=N-p,L=(N+p)/2):(p=L+32,d=N-p,L=(N+p)/2,j!=0&&(j=2,M.assign(W),b0.arraycopy(Y,0,B,0,576)));while(d>12);K.sfb21_extra=Z,j==2&&b0.arraycopy(W.l3_enc,0,M.l3_enc,0,576),$t(M.part2_3_length<=ie)},this.get_framebits=function(k,M){var T=k.internal_flags;T.bitrate_index=T.VBR_min_bitrate;var B=e.getframebits(k);T.bitrate_index=1,B=e.getframebits(k);for(var s=1;s<=T.VBR_max_bitrate;s++){T.bitrate_index=s;var p=new MeanBits(B);M[s]=t.ResvFrameBegin(k,p),B=p.bits}},this.VBR_old_prepare=function(k,M,T,B,s,p,N,K,W){var Y=k.internal_flags,ie,_e=0,L=1,d=0;Y.bitrate_index=Y.VBR_max_bitrate;var g=t.ResvFrameBegin(k,new MeanBits(0))/Y.mode_gr;get_framebits(k,p);for(var j=0;j<Y.mode_gr;j++){var Z=r.on_pe(k,M,K[j],g,j,0);Y.mode_ext==We.MPG_MD_MS_LR&&(ms_convert(Y.l3_side,j),r.reduce_side(K[j],T[j],g,Z));for(var q=0;q<Y.channels_out;++q){var le=Y.l3_side.tt[j][q];le.block_type!=We.SHORT_TYPE?(_e=1.28/(1+Math.exp(3.5-M[j][q]/300))-.05,ie=Y.PSY.mask_adjust-_e):(_e=2.56/(1+Math.exp(3.5-M[j][q]/300))-.14,ie=Y.PSY.mask_adjust_short-_e),Y.masking_lower=Math.pow(10,ie*.1),init_outer_loop(Y,le),W[j][q]=r.calc_xmin(k,B[j][q],le,s[j][q]),W[j][q]!=0&&(L=0),N[j][q]=126,d+=K[j][q]}}for(var j=0;j<Y.mode_gr;j++)for(var q=0;q<Y.channels_out;q++)d>p[Y.VBR_max_bitrate]&&(K[j][q]*=p[Y.VBR_max_bitrate],K[j][q]/=d),N[j][q]>K[j][q]&&(N[j][q]=K[j][q]);return L},this.bitpressure_strategy=function(k,M,T,B){for(var s=0;s<k.mode_gr;s++)for(var p=0;p<k.channels_out;p++){for(var N=k.l3_side.tt[s][p],K=M[s][p],W=0,Y=0;Y<N.psy_lmax;Y++)K[W++]*=1+.029*Y*Y/We.SBMAX_l/We.SBMAX_l;if(N.block_type==We.SHORT_TYPE)for(var Y=N.sfb_smin;Y<We.SBMAX_s;Y++)K[W++]*=1+.029*Y*Y/We.SBMAX_s/We.SBMAX_s,K[W++]*=1+.029*Y*Y/We.SBMAX_s/We.SBMAX_s,K[W++]*=1+.029*Y*Y/We.SBMAX_s/We.SBMAX_s;B[s][p]=0|Math.max(T[s][p],.9*B[s][p])}},this.VBR_new_prepare=function(k,M,T,B,s,p){var N=k.internal_flags,K=1,W=0,Y=0,ie;if(k.free_format){N.bitrate_index=0;var _e=new MeanBits(W);ie=t.ResvFrameBegin(k,_e),W=_e.bits,s[0]=ie}else{N.bitrate_index=N.VBR_max_bitrate;var _e=new MeanBits(W);t.ResvFrameBegin(k,_e),W=_e.bits,get_framebits(k,s),ie=s[N.VBR_max_bitrate]}for(var L=0;L<N.mode_gr;L++){r.on_pe(k,M,p[L],W,L,0),N.mode_ext==We.MPG_MD_MS_LR&&ms_convert(N.l3_side,L);for(var d=0;d<N.channels_out;++d){var g=N.l3_side.tt[L][d];N.masking_lower=Math.pow(10,N.PSY.mask_adjust*.1),init_outer_loop(N,g),r.calc_xmin(k,T[L][d],g,B[L][d])!=0&&(K=0),Y+=p[L][d]}}for(var L=0;L<N.mode_gr;L++)for(var d=0;d<N.channels_out;d++)Y>ie&&(p[L][d]*=ie,p[L][d]/=Y);return K},this.calc_target_bits=function(k,M,T,B,s,p){var N=k.internal_flags,K=N.l3_side,W,Y,ie,_e,L=0;N.bitrate_index=N.VBR_max_bitrate;var d=new MeanBits(L);for(p[0]=t.ResvFrameBegin(k,d),L=d.bits,N.bitrate_index=1,L=e.getframebits(k)-N.sideinfo_len*8,s[0]=L/(N.mode_gr*N.channels_out),L=k.VBR_mean_bitrate_kbps*k.framesize*1e3,N.substep_shaping&1&&(L*=1.09),L/=k.out_samplerate,L-=N.sideinfo_len*8,L/=N.mode_gr*N.channels_out,W=.93+.07*(11-k.compression_ratio)/(11-5.5),W<.9&&(W=.9),W>1&&(W=1),Y=0;Y<N.mode_gr;Y++){var g=0;for(ie=0;ie<N.channels_out;ie++){if(B[Y][ie]=int(W*L),M[Y][ie]>700){var j=int((M[Y][ie]-700)/1.4),Z=K.tt[Y][ie];B[Y][ie]=int(W*L),Z.block_type==We.SHORT_TYPE&&j<L/2&&(j=L/2),j>L*3/2?j=L*3/2:j<0&&(j=0),B[Y][ie]+=j}B[Y][ie]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[Y][ie]=LameInternalFlags.MAX_BITS_PER_CHANNEL),g+=B[Y][ie]}if(g>LameInternalFlags.MAX_BITS_PER_GRANULE)for(ie=0;ie<N.channels_out;++ie)B[Y][ie]*=LameInternalFlags.MAX_BITS_PER_GRANULE,B[Y][ie]/=g}if(N.mode_ext==We.MPG_MD_MS_LR)for(Y=0;Y<N.mode_gr;Y++)r.reduce_side(B[Y],T[Y],L*N.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(_e=0,Y=0;Y<N.mode_gr;Y++)for(ie=0;ie<N.channels_out;ie++)B[Y][ie]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(B[Y][ie]=LameInternalFlags.MAX_BITS_PER_CHANNEL),_e+=B[Y][ie];if(_e>p[0])for(Y=0;Y<N.mode_gr;Y++)for(ie=0;ie<N.channels_out;ie++)B[Y][ie]*=p[0],B[Y][ie]/=_e}}var T2=M2,E2=at,Nr=E2.assert;function B2(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,r){var i=t.internal_flags,_,c=i.l3_side,m=e.getframebits(t);r.bits=(m-i.sideinfo_len*8)/i.mode_gr;var w=8*256*i.mode_gr-8;t.brate>320?_=8*int(t.brate*1e3/(t.out_samplerate/1152)/8+.5):(_=8*1440,t.strict_ISO&&(_=8*int(32e4/(t.out_samplerate/1152)/8+.5))),i.ResvMax=_-m,i.ResvMax>w&&(i.ResvMax=w),(i.ResvMax<0||t.disable_reservoir)&&(i.ResvMax=0);var E=r.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return E>_&&(E=_),Nr(i.ResvMax%8==0),Nr(i.ResvMax>=0),c.resvDrain_pre=0,i.pinfo!=null&&(i.pinfo.mean_bits=r.bits/2,i.pinfo.resvsize=i.ResvSize),E},this.ResvMaxBits=function(t,r,i,_){var c=t.internal_flags,m,w=c.ResvSize,E=c.ResvMax;_!=0&&(w+=r),c.substep_shaping&1&&(E*=.9),i.bits=r,w*10>E*9?(m=w-E*9/10,i.bits+=m,c.substep_shaping|=128):(m=0,c.substep_shaping&=127,!t.disable_reservoir&&!(c.substep_shaping&1)&&(i.bits-=.1*r));var Q=w<c.ResvMax*6/10?w:c.ResvMax*6/10;return Q-=m,Q<0&&(Q=0),Q},this.ResvAdjust=function(t,r){t.ResvSize-=r.part2_3_length+r.part2_length},this.ResvFrameEnd=function(t,r){var i,_=t.l3_side;t.ResvSize+=r*t.mode_gr;var c=0;_.resvDrain_post=0,_.resvDrain_pre=0,(i=t.ResvSize%8)!=0&&(c+=i),i=t.ResvSize-c-t.ResvMax,i>0&&(Nr(i%8==0),Nr(i>=0),c+=i);{var m=Math.min(_.main_data_begin*8,c)/8;_.resvDrain_pre+=8*m,c-=8*m,t.ResvSize-=8*m,_.main_data_begin-=m}_.resvDrain_post+=c,t.ResvSize-=c}}var C2=B2;function I2(){var e="http://www.mp3dev.org/",t=3,r=98,i=4,_=0,c=93;this.getLameVersion=function(){return t+"."+r+"."+i},this.getLameShortVersion=function(){return t+"."+r+"."+i},this.getLameVeryShortVersion=function(){return"LAME"+t+"."+r+"r"},this.getPsyVersion=function(){return _+"."+c},this.getLameUrl=function(){return e},this.getLameOsBitness=function(){return"32bits"}}var L2=I2,Pt=at,O2=Pt.System,Ha=Pt.VbrMode;Pt.Float;var Li=Pt.ShortBlock;Pt.Util;var F2=Pt.Arrays;Pt.new_array_n;var kr=Pt.new_byte;Pt.new_double;Pt.new_float;Pt.new_float_n;Pt.new_int;Pt.new_int_n;var N2=Pt.assert;br.NUMTOCENTRIES=100;br.MAXFRAMESIZE=2880;function br(){var e,t,r;this.setModules=function(L,d,g){e=L,t=d,r=g};var i=1,_=2,c=4,m=8,w=br.NUMTOCENTRIES,E=br.MAXFRAMESIZE,Q=w+4+4+4+4+4,b=Q+9+1+1+8+1+1+3+1+1+2+4+2+2,R=128,U=64,fe=32,re=null,oe="Xing",ne="Info",k=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function M(L,d){if(L.nVbrNumFrames++,L.sum+=d,L.seen++,!(L.seen<L.want)&&(L.pos<L.size&&(L.bag[L.pos]=L.sum,L.pos++,L.seen=0),L.pos==L.size)){for(var g=1;g<L.size;g+=2)L.bag[g/2]=L.bag[g];L.want*=2,L.pos/=2}}function T(L,d){if(!(L.pos<=0))for(var g=1;g<w;++g){var j=g/w,Z,q,le=0|Math.floor(j*L.pos);le>L.pos-1&&(le=L.pos-1),Z=L.bag[le],q=L.sum;var v=0|256*Z/q;v>255&&(v=255),d[g]=255&v}}this.addVbrFrame=function(L){var d=L.internal_flags,g=Tables.bitrate_table[L.version][d.bitrate_index];N2(d.VBR_seek_table.bag!=null),M(d.VBR_seek_table,g)};function B(L,d){var g=L[d+0]&255;return g<<=8,g|=L[d+1]&255,g<<=8,g|=L[d+2]&255,g<<=8,g|=L[d+3]&255,g}function s(L,d,g){L[d+0]=255&(g>>24&255),L[d+1]=255&(g>>16&255),L[d+2]=255&(g>>8&255),L[d+3]=255&(g&255)}function p(L,d,g){L[d+0]=255&(g>>8&255),L[d+1]=255&(g&255)}function N(L,d){return new String(L,d,oe.length(),re).equals(oe)||new String(L,d,ne.length(),re).equals(ne)}function K(L,d,g){return 255&(L<<d|g&~(-1<<d))}function W(L,d){var g=L.internal_flags;d[0]=K(d[0],8,255),d[1]=K(d[1],3,7),d[1]=K(d[1],1,L.out_samplerate<16e3?0:1),d[1]=K(d[1],1,L.version),d[1]=K(d[1],2,1),d[1]=K(d[1],1,L.error_protection?0:1),d[2]=K(d[2],4,g.bitrate_index),d[2]=K(d[2],2,g.samplerate_index),d[2]=K(d[2],1,0),d[2]=K(d[2],1,L.extension),d[3]=K(d[3],2,L.mode.ordinal()),d[3]=K(d[3],2,g.mode_ext),d[3]=K(d[3],1,L.copyright),d[3]=K(d[3],1,L.original),d[3]=K(d[3],2,L.emphasis),d[0]=255;var j=255&(d[1]&241),Z;L.version==1?Z=R:L.out_samplerate<16e3?Z=fe:Z=U,L.VBR==Ha.vbr_off&&(Z=L.brate);var q;L.free_format?q=0:q=255&16*e.BitrateIndex(Z,L.version,L.out_samplerate),L.version==1?(d[1]=255&(j|10),j=255&(d[2]&13),d[2]=255&(q|j)):(d[1]=255&(j|2),j=255&(d[2]&13),d[2]=255&(q|j))}this.getVbrTag=function(L){var d=new VBRTagData,g=0;d.flags=0;var j=L[g+1]>>3&1,Z=L[g+2]>>2&3,q=L[g+3]>>6&3,le=L[g+2]>>4&15;if(le=Tables.bitrate_table[j][le],L[g+1]>>4==14?d.samprate=Tables.samplerate_table[2][Z]:d.samprate=Tables.samplerate_table[j][Z],j!=0?q!=3?g+=36:g+=21:q!=3?g+=21:g+=13,!N(L,g))return null;g+=4,d.hId=j;var v=d.flags=B(L,g);if(g+=4,v&i&&(d.frames=B(L,g),g+=4),v&_&&(d.bytes=B(L,g),g+=4),v&c){if(d.toc!=null)for(var a=0;a<w;a++)d.toc[a]=L[g+a];g+=w}d.vbrScale=-1,v&m&&(d.vbrScale=B(L,g),g+=4),d.headersize=(j+1)*72e3*le/d.samprate,g+=21;var n=L[g+0]<<4;n+=L[g+1]>>4;var f=(L[g+1]&15)<<8;return f+=L[g+2]&255,(n<0||n>3e3)&&(n=-1),(f<0||f>3e3)&&(f=-1),d.encDelay=n,d.encPadding=f,d},this.InitVbrTag=function(L){var d=L.internal_flags,g;L.version==1?g=R:L.out_samplerate<16e3?g=fe:g=U,L.VBR==Ha.vbr_off&&(g=L.brate);var j=(L.version+1)*72e3*g/L.out_samplerate,Z=d.sideinfo_len+b;if(d.VBR_seek_table.TotalFrameSize=j,j<Z||j>E){L.bWriteVbrTag=!1;return}d.VBR_seek_table.nVbrNumFrames=0,d.VBR_seek_table.nBytesWritten=0,d.VBR_seek_table.sum=0,d.VBR_seek_table.seen=0,d.VBR_seek_table.want=1,d.VBR_seek_table.pos=0,d.VBR_seek_table.bag==null&&(d.VBR_seek_table.bag=new int[400],d.VBR_seek_table.size=400);var q=kr(E);W(L,q);for(var le=d.VBR_seek_table.TotalFrameSize,v=0;v<le;++v)t.add_dummy_byte(L,q[v]&255,1)};function Y(L,d){var g=d^L;return d=d>>8^k[g&255],d}this.updateMusicCRC=function(L,d,g,j){for(var Z=0;Z<j;++Z)L[0]=Y(d[g+Z],L[0])};function ie(L,d,g,j,Z){var q=L.internal_flags,le=0,v=L.encoder_delay,a=L.encoder_padding,n=100-10*L.VBR_q-L.quality,f=r.getLameVeryShortVersion(),o,h=0,O,I=[1,5,3,2,4,0,3],H=0|(L.lowpassfreq/100+.5>255?255:L.lowpassfreq/100+.5),C=0,$=0,se=0,ve=L.internal_flags.noise_shaping,y=0,A=0,X=0,J=0,D=0,he=(L.exp_nspsytune&1)!=0,u=(L.exp_nspsytune&2)!=0,l=!1,G=!1,z=L.internal_flags.nogap_total,ce=L.internal_flags.nogap_current,Re=L.ATHtype,me=0,Se;switch(L.VBR){case vbr_abr:Se=L.VBR_mean_bitrate_kbps;break;case vbr_off:Se=L.brate;break;default:Se=L.VBR_min_bitrate_kbps}switch(L.VBR.ordinal()<I.length?o=I[L.VBR.ordinal()]:o=0,O=16*h+o,q.findReplayGain&&(q.RadioGain>510&&(q.RadioGain=510),q.RadioGain<-510&&(q.RadioGain=-510),$=8192,$|=3072,q.RadioGain>=0?$|=q.RadioGain:($|=512,$|=-q.RadioGain)),q.findPeakSample&&(C=Math.abs(0|q.PeakSample/32767*Math.pow(2,23)+.5)),z!=-1&&(ce>0&&(G=!0),ce<z-1&&(l=!0)),me=Re+((he?1:0)<<4)+((u?1:0)<<5)+((l?1:0)<<6)+((G?1:0)<<7),n<0&&(n=0),L.mode){case MONO:y=0;break;case STEREO:y=1;break;case DUAL_CHANNEL:y=2;break;case JOINT_STEREO:L.force_ms?y=4:y=3;break;case NOT_SET:default:y=7;break}L.in_samplerate<=32e3?X=0:L.in_samplerate==48e3?X=2:L.in_samplerate>48e3?X=3:X=1,(L.short_blocks==Li.short_block_forced||L.short_blocks==Li.short_block_dispensed||L.lowpassfreq==-1&&L.highpassfreq==-1||L.scale_left<L.scale_right||L.scale_left>L.scale_right||L.disable_reservoir&&L.brate<320||L.noATH||L.ATHonly||Re==0||L.in_samplerate<=32e3)&&(A=1),J=ve+(y<<2)+(A<<5)+(X<<6),D=q.nMusicCRC,s(g,j+le,n),le+=4;for(var Ce=0;Ce<9;Ce++)g[j+le+Ce]=255&f.charAt(Ce);le+=9,g[j+le]=255&O,le++,g[j+le]=255&H,le++,s(g,j+le,C),le+=4,p(g,j+le,$),le+=2,p(g,j+le,se),le+=2,g[j+le]=255&me,le++,Se>=255?g[j+le]=255:g[j+le]=255&Se,le++,g[j+le]=255&v>>4,g[j+le+1]=255&(v<<4)+(a>>8),g[j+le+2]=255&a,le+=3,g[j+le]=255&J,le++,g[j+le++]=0,p(g,j+le,L.preset),le+=2,s(g,j+le,d),le+=4,p(g,j+le,D),le+=2;for(var Be=0;Be<le;Be++)Z=Y(g[j+Be],Z);return p(g,j+le,Z),le+=2,le}function _e(L){L.seek(0);var d=kr(10);L.readFully(d);var g;return new String(d,"ISO-8859-1").startsWith("ID3")?g=0:g=((d[6]&127)<<21|(d[7]&127)<<14|(d[8]&127)<<7|d[9]&127)+d.length,g}this.getLameTagFrame=function(L,d){var g=L.internal_flags;if(!L.bWriteVbrTag||g.Class_ID!=Lame.LAME_ID||g.VBR_seek_table.pos<=0)return 0;if(d.length<g.VBR_seek_table.TotalFrameSize)return g.VBR_seek_table.TotalFrameSize;F2.fill(d,0,g.VBR_seek_table.TotalFrameSize,0),W(L,d);var j=kr(w);if(L.free_format)for(var Z=1;Z<w;++Z)j[Z]=255&255*Z/100;else T(g.VBR_seek_table,j);var q=g.sideinfo_len;L.error_protection&&(q-=2),L.VBR==Ha.vbr_off?(d[q++]=255&ne.charAt(0),d[q++]=255&ne.charAt(1),d[q++]=255&ne.charAt(2),d[q++]=255&ne.charAt(3)):(d[q++]=255&oe.charAt(0),d[q++]=255&oe.charAt(1),d[q++]=255&oe.charAt(2),d[q++]=255&oe.charAt(3)),s(d,q,i+_+c+m),q+=4,s(d,q,g.VBR_seek_table.nVbrNumFrames),q+=4;var le=g.VBR_seek_table.nBytesWritten+g.VBR_seek_table.TotalFrameSize;s(d,q,0|le),q+=4,O2.arraycopy(j,0,d,q,j.length),q+=j.length,L.error_protection&&t.CRC_writeheader(g,d);for(var v=0,Z=0;Z<q;Z++)v=Y(d[Z],v);return q+=ie(L,le,d,q,v),g.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(L,d){var g=L.internal_flags;if(g.VBR_seek_table.pos<=0||(d.seek(d.length()),d.length()==0))return-1;var j=_e(d);d.seek(j);var Z=kr(E),q=getLameTagFrame(L,Z);return q>Z.length?-1:(q<1||d.write(Z,0,q),0)}}var k2=br,Ut=at;Ut.System;Ut.VbrMode;Ut.Float;Ut.ShortBlock;Ut.Util;Ut.Arrays;Ut.new_array_n;var Oi=Ut.new_byte;Ut.new_double;Ut.new_float;Ut.new_float_n;Ut.new_int;Ut.new_int_n;var Fi=Ut.assert,g2=Sn(),V2=v2,H2=Xs,D2=Gs(),P2=T2,U2=Ys(),X2=C2,q2=yr,G2=wn();ht();var Y2=L2,j2=k2;function $2(){this.setModules=function(e,t){}}function W2(){this.setModules=function(e,t,r){}}function K2(){}function z2(){this.setModules=function(e,t){}}function Z2(e,t,r){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,r=128);var i=new g2,_=new $2,c=new H2,m=new G2,w=new V2,E=new D2,Q=new P2,b=new j2,R=new Y2,U=new z2,fe=new X2,re=new U2,oe=new W2,ne=new K2;i.setModules(c,m,w,E,Q,b,R,U,ne),m.setModules(c,ne,R,b),U.setModules(m,R),w.setModules(i),Q.setModules(m,fe,E,re),E.setModules(re,fe,i.enc.psy),fe.setModules(m),re.setModules(E),b.setModules(i,m,R),_.setModules(oe,ne),oe.setModules(R,U,w);var k=i.lame_init();k.num_channels=e,k.in_samplerate=t,k.brate=r,k.mode=q2.STEREO,k.quality=3,k.bWriteVbrTag=!1,k.disable_reservoir=!0,k.write_id3tag_automatic=!1;var M=i.lame_init_params(k);Fi(M==0);var T=1152,B=0|1.25*T+7200,s=Oi(B);this.encodeBuffer=function(p,N){e==1&&(N=p),Fi(p.length==N.length),p.length>T&&(T=p.length,B=0|1.25*T+7200,s=Oi(B));var K=i.lame_encode_buffer(k,p,N,p.length,s,0,B);return new Int8Array(s.subarray(0,K))},this.flush=function(){var p=i.lame_encode_flush(k,s,0,B);return new Int8Array(s.subarray(0,p))}}function Jt(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function oa(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}Jt.RIFF=oa("RIFF");Jt.WAVE=oa("WAVE");Jt.fmt_=oa("fmt ");Jt.data=oa("data");Jt.readHeader=function(e){var t=new Jt,r=e.getUint32(0,!1);if(Jt.RIFF==r&&(e.getUint32(4,!0),Jt.WAVE==e.getUint32(8,!1)&&Jt.fmt_==e.getUint32(12,!1))){var i=e.getUint32(16,!0),_=20;switch(i){case 16:case 18:t.channels=e.getUint16(_+2,!0),t.sampleRate=e.getUint32(_+4,!0);break;default:throw"extended fmt chunk not implemented"}_+=i;for(var c=Jt.data,m=0;c!=r&&(r=e.getUint32(_,!1),m=e.getUint32(_+4,!0),c!=r);)_+=m+8;return t.dataLen=m,t.dataOffset=_+8,t}};pn.Mp3Encoder=Z2;pn.WavHeader=Jt;const Q2=["src"],J2=bt("br",null,null,-1),eu=["href"],tu=bt("br",null,null,-1),ru=bt("br",null,null,-1),au=bt("br",null,null,-1),nu=bt("br",null,null,-1),iu=bt("br",null,null,-1),su=cs({__name:"HelloWorld",setup(e){let t=P0(""),r=P0(""),i=P0(""),_=P0(),c=P0(),m=P0();const w={recorderType:oi.StereoAudioRecorder,type:"audio",mimeType:"audio/wav",disableLogs:!0,bufferSize:4096,numberOfAudioChannels:1,sampleRate:48e3,desiredSampleRate:48e3},E=async()=>{let b=await navigator.mediaDevices.getUserMedia({video:!1,audio:!0}),R=new oi.RecordRTCPromisesHandler(b,w);m.value=R,m.value.startRecording()},Q=async()=>{var ne,k;await((ne=m.value)==null?void 0:ne.stopRecording());let b=1,R=48e3,U=256,fe=navigator.connection||navigator.mozConnection||navigator.webkitConnection;switch(i.value=fe==null?void 0:fe.effectiveType,fe==null?void 0:fe.effectiveType){case"slow-2g":U=128;case"2g":U=192;case"3g":U=256;case"4g":U=320;default:U=256}_.value=U,c.value&&(U=c.value);let re=new pn.Mp3Encoder(b,R,U),oe=await((k=m.value)==null?void 0:k.getBlob());if(oe){let M=await(oe==null?void 0:oe.arrayBuffer());const T=new Int16Array(M);let B=1152,s=[];for(let W=0;W<T.length;W+=B){let Y=T.subarray(W,W+B),ie=re.encodeBuffer(Y);ie.length>0&&s.push(ie)}let p=re.flush();p.length>0&&s.push(new Int8Array(p));let N=new Blob(s,{type:"audio/mp3"}),K=window.URL.createObjectURL(N);console.log("MP3 URl: ",K),t.value=K,r.value=N.size*1e-6+" "+N.type}};return(b,R)=>(Yr(),Ka("div",null,[f0(t)?(Yr(),Ka("audio",{key:0,autoplay:"",controls:"",src:f0(t)},null,8,Q2)):ko("",!0),J2,bt("a",{download:"file.wav",href:f0(t)},"audio file",8,eu),tu,Y0(" Format: "+xr(f0(r))+" ",1),ru,Y0(" Connection type: "+xr(f0(i))+" ",1),au,Y0(" kbps result "+xr(f0(_))+" ",1),nu,Y0(" Bitrate "),bt("button",{onClick:R[0]||(R[0]=U=>f0(c).current=320)},"set 320"),bt("button",{onClick:R[1]||(R[1]=U=>f0(c).current=128)},"set 128"),iu,bt("button",{onClick:E},"start"),bt("button",{onClick:Q},"stop"),Y0(" "+xr(JSON.stringify(w)),1)]))}}),ou=e=>(D1("data-v-24750e22"),e=e(),P1(),e),lu=ou(()=>bt("img",{alt:"Vue logo",class:"logo",src:yl,width:"125",height:"125"},null,-1)),uu={class:"wrapper"},fu=cs({__name:"App",setup(e){return(t,r)=>(Yr(),Ka("header",null,[lu,bt("div",uu,[u0(su,{msg:"You did it!"})])]))}}),_u=(e,t)=>{const r=e.__vccOpts||e;for(const[i,_]of t)r[i]=_;return r},cu=_u(fu,[["__scopeId","data-v-24750e22"]]);bl(cu).mount("#app");
